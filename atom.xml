<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>极光轨迹</title>
  <subtitle>往昔的努力不可辜负，憧憬的未来不可辜负</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.chenguangsong.online/"/>
  <updated>2017-08-20T13:03:58.412Z</updated>
  <id>http://www.chenguangsong.online/</id>
  
  <author>
    <name>Jxust_CGS</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Maven教程</title>
    <link href="http://www.chenguangsong.online/2017/08/20/Maven%E6%95%99%E7%A8%8B/"/>
    <id>http://www.chenguangsong.online/2017/08/20/Maven教程/</id>
    <published>2017-08-20T13:03:58.417Z</published>
    <updated>2017-08-20T13:03:58.412Z</updated>
    
    <content type="html">&lt;h1 id=&quot;Maven的安装&quot;&gt;Maven的安装&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://www.yiibai.com/maven/maven_environment_setup.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Maven安装配置 - Maven教程™&lt;/a&gt;&lt;br&gt;执行 mvn –version 在命令提示符,，如下图输出结果：&lt;br&gt;&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;C:&lt;/span&gt;\Users\Administrator&amp;gt;mvn -version&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Apache Maven &lt;span class=&quot;number&quot;&gt;3.3&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.3&lt;/span&gt; (&lt;span class=&quot;number&quot;&gt;7994120775791599e205&lt;/span&gt;a5524ec3e0dfe41d4a06; &lt;span class=&quot;number&quot;&gt;2015&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;04&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;T19:&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;57&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;+&lt;span class=&quot;number&quot;&gt;08&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;00&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Maven &lt;span class=&quot;string&quot;&gt;home:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;D:&lt;/span&gt;\software\yiibai.com\apache-maven&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Java &lt;span class=&quot;string&quot;&gt;version:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1.8&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;_40, &lt;span class=&quot;string&quot;&gt;vendor:&lt;/span&gt; Oracle Corporation&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Java &lt;span class=&quot;string&quot;&gt;home:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;D:&lt;/span&gt;\Program Files\Java\jdk1&lt;span class=&quot;number&quot;&gt;.8&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;_40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Default &lt;span class=&quot;string&quot;&gt;locale:&lt;/span&gt; zh_CN, platform &lt;span class=&quot;string&quot;&gt;encoding:&lt;/span&gt; GBK&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;OS &lt;span class=&quot;string&quot;&gt;name:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;windows 7&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;version:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;6.1&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;arch:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;amd64&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;family:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;dos&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;证明Maven安装成功。&lt;br&gt;注意安装时注意maven的版本是64位就要对应java64位jdk，否则会安装失败。&lt;br&gt;安装完成后最好去修改一下apache-maven-3.0.4\conf\settings.xml文件&lt;br&gt;1、本地仓库位置&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;localRepository&amp;gt;&lt;span class=&quot;constant&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:/works/repo&amp;lt;/localRepository&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;2、配置私服&lt;br&gt;&lt;img src=&quot;http://oeb33qix3.bkt.clouddn.com/17-7-25/48407700.jpg&quot; alt=&quot;私服示例图&quot;&gt;&lt;br&gt;配置私服的优点&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;节省外网宽带&lt;/li&gt;
&lt;li&gt;加速Maven构建&lt;/li&gt;
&lt;li&gt;部署第三方构件&lt;/li&gt;
&lt;li&gt;提高稳定性、增强控制：原因是外网不稳定&lt;/li&gt;
&lt;li&gt;降低中央仓库的负荷：原因是中央仓库访问量太大&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;pi&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;settings&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;xmlns&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;attribute&quot;&gt;xmlns:xsi&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;attribute&quot;&gt;xsi:schemaLocation&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 配置本地仓库位置，maven会下载jar包到此目录，默认为: ~/.m2/repository  --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;localRepository&lt;/span&gt;&amp;gt;&lt;/span&gt;D:/works/repo&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;localRepository&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 使用到的插件 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;pluginGroups&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;pluginGroup&lt;/span&gt;&amp;gt;&lt;/span&gt;org.codehaus.cargo&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;pluginGroup&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;pluginGroup&lt;/span&gt;&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;pluginGroup&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;pluginGroup&lt;/span&gt;&amp;gt;&lt;/span&gt;org.codehaus.mojo&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;pluginGroup&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;pluginGroups&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;servers&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- nexus服务器登录密码 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;server&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;nexus&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;username&lt;/span&gt;&amp;gt;&lt;/span&gt;xxxx&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;username&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;password&lt;/span&gt;&amp;gt;&lt;/span&gt;xxxx&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;password&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;server&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;servers&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;mirrors&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;mirror&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--拦截maven请求到指定仓库 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;nexus&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;mirrorOf&lt;/span&gt;&amp;gt;&lt;/span&gt;*&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;mirrorOf&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;url&lt;/span&gt;&amp;gt;&lt;/span&gt;http://repos.xxxx.com:6060/nexus/content/groups/public&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;url&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;mirror&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;mirrors&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;profiles&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;profile&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;nexus&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--配置jar包下载仓库 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;repositories&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;repository&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;nexus&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;url&lt;/span&gt;&amp;gt;&lt;/span&gt;http://repos.xxxx.com:6060/nexus/content/groups/public&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;url&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;releases&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;enabled&lt;/span&gt;&amp;gt;&lt;/span&gt;true&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;enabled&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;updatePolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;always&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;updatePolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    			    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;checksumPolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;warn&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;checksumPolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;releases&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    						&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;snapshots&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;enabled&lt;/span&gt;&amp;gt;&lt;/span&gt;true&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;enabled&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;updatePolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;always&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;updatePolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    			    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;checksumPolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;warn&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;checksumPolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;snapshots&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    			&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;repository&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;repositories&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--配置plugin包下载仓库 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;pluginRepositories&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;pluginRepository&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;nexus&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;url&lt;/span&gt;&amp;gt;&lt;/span&gt;http://repos.xxxx.com:6060/nexus/content/groups/public&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;url&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;releases&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;enabled&lt;/span&gt;&amp;gt;&lt;/span&gt;true&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;enabled&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;updatePolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;always&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;updatePolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    			    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;checksumPolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;warn&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;checksumPolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;releases&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    						&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;snapshots&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;enabled&lt;/span&gt;&amp;gt;&lt;/span&gt;false&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;enabled&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;updatePolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;always&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;updatePolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    			    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;checksumPolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;warn&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;checksumPolicy&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;snapshots&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    			&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;pluginRepository&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;pluginRepositories&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;profile&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 代码质量管理的一个插件，具体这里不详述  --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;profile&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;sonar&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;activation&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;activeByDefault&lt;/span&gt;&amp;gt;&lt;/span&gt;true&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;activeByDefault&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	   &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;activation&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;properties&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;sonar.jdbc.url&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    			 jdbc:mysql://127.0.0.1:3306/sonar?useUnicode=true&amp;amp;amp;characterEncoding=utf8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		   &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;sonar.jdbc.url&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;sonar.jdbc.driver&lt;/span&gt;&amp;gt;&lt;/span&gt;com.mysql.jdbc.Driver&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;sonar.jdbc.driver&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;sonar.jdbc.username&lt;/span&gt;&amp;gt;&lt;/span&gt;xxxx&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;sonar.jdbc.username&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;sonar.jdbc.password&lt;/span&gt;&amp;gt;&lt;/span&gt;xxxx&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;sonar.jdbc.password&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;sonar.host.url&lt;/span&gt;&amp;gt;&lt;/span&gt;http://127.0.0.1:9000/sonar&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;sonar.host.url&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	   &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;properties&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;profile&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;profiles&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;activeProfiles&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 启用私服 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;activeProfile&lt;/span&gt;&amp;gt;&lt;/span&gt;nexus&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;activeProfile&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;activeProfiles&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;settings&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;Maven添加远程仓库&quot;&gt;Maven添加远程仓库&lt;/h1&gt;&lt;p&gt;在项目的pom.xml中配置远程仓库&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;project&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;...&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;repositories&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;repository&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;java.net&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;url&lt;/span&gt;&amp;gt;&lt;/span&gt;https://maven.java.net/content/repositories/public/&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;url&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;repository&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;repositories&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;project&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&quot;Maven依赖库查询规则&quot;&gt;Maven依赖库查询规则&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;在Maven本地资源库中搜索，如果没有找到，进入第 2 步，否则退出。&lt;/li&gt;
&lt;li&gt;在Maven中央存储库(或私服)搜索，如果没有找到，进入第 3 步，否则退出。&lt;/li&gt;
&lt;li&gt;在项目pom文件中配置的Maven的远程存储库搜索，如果没有找到，提示错误信息，否则退出。  &lt;h1 id=&quot;Maven常用命令&quot;&gt;Maven常用命令&lt;/h1&gt;&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//按maven-archetype-quickstart模板创建java项目&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mvn &lt;span class=&quot;string&quot;&gt;archetype:&lt;/span&gt;generate -DgroupId=&amp;#123;项目包名&amp;#125; -DartifactId=&amp;#123;项目名&amp;#125;  -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=&lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//构建成eclipse项目（在项目目录下执行）&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mvn &lt;span class=&quot;string&quot;&gt;eclipse:&lt;/span&gt;eclipse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//打包项目&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mvn &lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//清理打包&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mvn clean&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//查看当前项目jar包依赖树&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mvn &lt;span class=&quot;string&quot;&gt;dependency:&lt;/span&gt;tree&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//按maven-archetype-webapp模板创建web项目&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mvn &lt;span class=&quot;string&quot;&gt;archetype:&lt;/span&gt;generate -DgroupId=&amp;#123;项目包名&amp;#125; -DartifactId=&amp;#123;项目名&amp;#125;  -DarchetypeArtifactId=maven-archetype-webapp -DinteractiveMode=&lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mvn &lt;span class=&quot;string&quot;&gt;eclipse:&lt;/span&gt;eclipse -Dwtpversion=&lt;span class=&quot;number&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//选项 -Dwtpversion=2.0 告诉 Maven 将项目转换到 Eclipse 的 Web 项目(WAR)，而不是默认的Java项目(JAR)。  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mvn &lt;span class=&quot;string&quot;&gt;tomcat:&lt;/span&gt;run&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//maven生成项目文档&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mvn site&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Maven构建项目到本地仓库&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mvn install&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Maven执行单元测试&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mvn test&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;pom-xml&quot;&gt;pom.xml&lt;/h1&gt;&lt;p&gt;pom文件中配置依赖是可以通过&lt;code&gt;&amp;lt;parent&amp;gt;&lt;/code&gt;标签继承一个项目的jar包，但是我们可以在当前pom文件中替换的parent项目中的部分jar配置。&lt;br&gt;当pom文件中有同名的jar，&lt;strong&gt;项目选择jar包的顺序&lt;/strong&gt;是：&lt;br&gt;&lt;strong&gt;优先选择pom文件中上面的jar，优先选择当前pom中配置的jar，次选parent中的jar&lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- Inherit defaults from Spring Boot --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;parent&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;spring-boot-starter-parent&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;1.4.1.BUILD-SNAPSHOT&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;parent&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;project&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;xmlns&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;xmlns:xsi&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;attribute&quot;&gt;xsi:schemaLocation&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;http://maven.apache.org/POM/4.0.0  http://maven.apache.org/maven-v4_0_0.xsd&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;modelVersion&lt;/span&gt;&amp;gt;&lt;/span&gt;4.0.0&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;modelVersion&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;com.yiibai&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 包名 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;CounterWebApp&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 项目名 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;packaging&lt;/span&gt;&amp;gt;&lt;/span&gt;war&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;packaging&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 打包类型 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;1.0-SNAPSHOT&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 项目版本 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;name&lt;/span&gt;&amp;gt;&lt;/span&gt;CounterWebApp Maven Webapp&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;name&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 项目名称 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;url&lt;/span&gt;&amp;gt;&lt;/span&gt;http://maven.apache.org&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;url&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 项目地址 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 配置参数，用于集中管理jar包的版本  --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;properties&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;jdk.version&lt;/span&gt;&amp;gt;&lt;/span&gt;1.7&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;jdk.version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;spring.version&lt;/span&gt;&amp;gt;&lt;/span&gt;4.1.1.RELEASE&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;spring.version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;jstl.version&lt;/span&gt;&amp;gt;&lt;/span&gt;1.2&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;jstl.version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;junit.version&lt;/span&gt;&amp;gt;&lt;/span&gt;4.11&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;junit.version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;logback.version&lt;/span&gt;&amp;gt;&lt;/span&gt;1.0.13&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;logback.version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;jcl-over-slf4j.version&lt;/span&gt;&amp;gt;&lt;/span&gt;1.7.5&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;jcl-over-slf4j.version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;properties&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dependencies&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- Unit Test --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;junit&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;junit&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;junit.version&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- Spring Core --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;spring-core&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;spring.version&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;exclusions&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;exclusion&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;					&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;commons-logging&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;					&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;commons-logging&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;exclusion&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;exclusions&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;org.slf4j&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;jcl-over-slf4j&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;jcl-over-slf4j.version&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;ch.qos.logback&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;logback-classic&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;logback.version&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;spring-web&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;spring.version&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;org.springframework&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;spring-webmvc&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;spring.version&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- jstl --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;jstl&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;jstl&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;jstl.version&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;systemPath&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;basedir&amp;#125;\src\lib\jstl.jar&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;systemPath&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 添加外部以来jar包，通过指定路径来获得 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dependencies&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;build&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;finalName&lt;/span&gt;&amp;gt;&lt;/span&gt;CounterWebApp&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;finalName&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;plugins&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		    &lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 告诉eclipse此项目为web项目，在构建eclipse项目时不用再加 -Dwtpversion=2.0 参数了 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;plugin&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;maven-eclipse-plugin&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;2.9&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;configuration&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			        &lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- Always download and attach dependencies source code --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;downloadSources&lt;/span&gt;&amp;gt;&lt;/span&gt;true&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;downloadSources&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;downloadJavadocs&lt;/span&gt;&amp;gt;&lt;/span&gt;false&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;downloadJavadocs&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- Avoid type mvn eclipse:eclipse -Dwtpversion=2.0 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;wtpversion&lt;/span&gt;&amp;gt;&lt;/span&gt;2.0&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;wtpversion&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;configuration&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;plugin&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		  &lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 配置jdk版本 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;plugin&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;maven-compiler-plugin&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;2.3.2&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;configuration&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;source&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;jdk.version&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;source&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;target&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;jdk.version&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;target&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;configuration&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;plugin&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		  &lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 配置tomcat版本 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;plugin&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;org.apache.tomcat.maven&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;tomcat7-maven-plugin&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;2.2&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;configuration&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;path&lt;/span&gt;&amp;gt;&lt;/span&gt;/CounterWebApp&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;path&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;configuration&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;plugin&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;plugins&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;build&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;repositories&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 配置额外的远程仓库 --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;repository&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;companyname.lib1&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;url&lt;/span&gt;&amp;gt;&lt;/span&gt;http://download.companyname.org/maven2/lib1&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;url&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;repository&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;repository&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;companyname.lib2&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;id&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;url&lt;/span&gt;&amp;gt;&lt;/span&gt;http://download.companyname.org/maven2/lib2&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;url&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;repository&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;repositories&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;project&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;什么是快照？&quot;&gt;什么是快照？&lt;/h1&gt;&lt;p&gt;快照（SNAPSHOT ）是一个特殊版本，指出目前开发拷贝。不同于常规版本，Maven 每生成一个远程存储库都会检查新的快照版本。  &lt;/p&gt;
&lt;h1 id=&quot;持续构建工具&quot;&gt;持续构建工具&lt;/h1&gt;&lt;p&gt;Jenkins、Hudson。可以用于在svn、git更新代后利用maven构建项目 并发布项目，达到持续发布的效果，同时也可以通过定时任务调度执行python脚本，进行其他自动化操作，此处不详述之后有空在写一篇吧&lt;/p&gt;
&lt;h1 id=&quot;Eclipse中使用Maven&quot;&gt;Eclipse中使用Maven&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://www.yiibai.com/maven/m2eclipse-project.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Eclipse构建Maven项目 - Maven教程™&lt;/a&gt;  &lt;/p&gt;
&lt;h1 id=&quot;发布项目到tomcat中&quot;&gt;发布项目到tomcat中&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://www.yiibai.com/maven/deploy-maven-based-war-file-to-tomcat.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;部署基于Maven的war文件到Tomcat&lt;/a&gt;  &lt;/p&gt;
&lt;h1 id=&quot;Maven运行build报错&quot;&gt;Maven运行build报错&lt;/h1&gt;&lt;p&gt;解决方案:&lt;a href=&quot;http://blog.sina.com.cn/s/blog_65e13da00100n5ea.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;MavenBuildError系统资源不足&lt;em&gt;happybaby&lt;/em&gt;新浪博客&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/zhouyalei/p/3338139.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;maven install时报错Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile - 周雷 - 博客园&lt;/a&gt;  &lt;/p&gt;
&lt;h1 id=&quot;相关链接&quot;&gt;相关链接&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://www.yiibai.com/maven/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Maven教程™——易百教程&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://maven.apache.org/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Maven – Welcome to Apache Maven&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/hunterno4/article/details/11687269&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SonarQube代码质量管理平台安装与使用 - hunterno4的专栏 - CSDN博客&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/tayanxunhua/article/details/19068725&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Maven与Sonar配合使用 - 踏雁寻花 - CSDN博客&lt;/a&gt;  &lt;/p&gt;
</content>
    
    <summary type="html">
    
      Maven是一个项目管理和综合工具。Maven提供了开发人员构建一个完整的生命周期框架。开发团队可以自动完成项目的基础工具建设，Maven使用标准的目录结构和默认构建生命周期。
    
    </summary>
    
      <category term="java" scheme="http://www.chenguangsong.online/categories/java/"/>
    
    
      <category term="Maven" scheme="http://www.chenguangsong.online/tags/Maven/"/>
    
  </entry>
  
  <entry>
    <title>velocity模板引擎</title>
    <link href="http://www.chenguangsong.online/2017/07/30/velocity%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/"/>
    <id>http://www.chenguangsong.online/2017/07/30/velocity模板引擎/</id>
    <published>2017-07-30T02:11:56.413Z</published>
    <updated>2017-07-30T02:11:56.147Z</updated>
    
    <content type="html">&lt;h1 id=&quot;velocity工作流程&quot;&gt;velocity工作流程&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;初始化VelocityEngine&lt;/li&gt;
&lt;li&gt;创建Context对象&lt;/li&gt;
&lt;li&gt;添加数据到Context &lt;/li&gt;
&lt;li&gt;选择模板&lt;/li&gt;
&lt;li&gt;合并模板和数据产生输出数据或者页面&lt;h1 id=&quot;举个栗子&quot;&gt;举个栗子&lt;/h1&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Velocity 文件（hello.vm)  &lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;hello $name&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;这个例子的输出效果为：&lt;/p&gt;
&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;title&quot;&gt;Hello&lt;/span&gt; Velocity&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;VTL语法&quot;&gt;VTL语法&lt;/h1&gt;&lt;h2 id=&quot;注释&quot;&gt;注释&lt;/h2&gt;&lt;p&gt;类似java的注释方式只不过将“/”改为了“#”&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;单行注释&lt;/p&gt;
&lt;figure class=&quot;highlight erlang&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;## &lt;span class=&quot;variable&quot;&gt;This&lt;/span&gt; text is &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; visible.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;多行注释&lt;/p&gt;
&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#* This text, as part of a multi-line comment,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; visible. This &lt;span class=&quot;type&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; visible; &lt;span class=&quot;keyword&quot;&gt;it&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; also part &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;multi-line comment. This &lt;span class=&quot;type&quot;&gt;text&lt;/span&gt; still &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; visible. *&lt;span class=&quot;comment&quot;&gt;#&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;文档注释&lt;/p&gt;
&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#** &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;This &lt;span class=&quot;keyword&quot;&gt;text&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; part &lt;span class=&quot;operator&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;a&lt;/span&gt; multi-&lt;span class=&quot;built_in&quot;&gt;line&lt;/span&gt; comment,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;is &lt;span class=&quot;operator&quot;&gt;not&lt;/span&gt; visible. This &lt;span class=&quot;keyword&quot;&gt;text&lt;/span&gt; is &lt;span class=&quot;operator&quot;&gt;not&lt;/span&gt; visible; &lt;span class=&quot;keyword&quot;&gt;it&lt;/span&gt; is also part &lt;span class=&quot;operator&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;the&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;multi-&lt;span class=&quot;built_in&quot;&gt;line&lt;/span&gt; comment. This &lt;span class=&quot;keyword&quot;&gt;text&lt;/span&gt; still &lt;span class=&quot;operator&quot;&gt;not&lt;/span&gt; visible. &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *&lt;span class=&quot;comment&quot;&gt;#&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;引用(References)&quot;&gt;引用(References)&lt;/h2&gt;&lt;p&gt;VTL中有三种类型的引用：变量，属性和方法。作为使用VTL的设计者，你和你的工程师必须在饮用的特定命名上取得一致，以便在你的模板中正确的使用他们。&lt;br&gt;引用的所有参数都处理为字符串对象，假如有一个对象表示$foo(比如说是整型对象)，Velocity将调用其toString()方法来将此对象转换为一个字符串。&lt;/p&gt;
&lt;h2 id=&quot;变量&quot;&gt;变量&lt;/h2&gt;&lt;p&gt;变量的简略标记是有一个前导”$”字符后跟一个VTL标识符（Identifier.）组成。一个VTL标识符必须以一个字母开始(a..z或A..Z)。剩下的字符将由以下类型的字符组成：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;字母(a..z,A..Z)&lt;/li&gt;
&lt;li&gt;数字(0..9)&lt;/li&gt;
&lt;li&gt;连字符(“-“)&lt;/li&gt;
&lt;li&gt;下划线(“_”)  &lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;形式引用符&quot;&gt;形式引用符&lt;/h3&gt;&lt;p&gt;Velocity假定$vicemaniac，（而不是$vice）是一个你想要使用的标识符。找不到$vicemaniac的值，他将返回$vicemaniac。使用形式符号便可解决这个问题&lt;code&gt;Jack is a ${vice}maniac&lt;/code&gt; &lt;/p&gt;
&lt;h3 id=&quot;安静引用符&quot;&gt;安静引用符&lt;/h3&gt;&lt;p&gt;当表单初次装入时，变量引用$email无值，你宁愿是一个空白域而不是具有值”$email”。使用安静引用符可以绕过Velocity的常规行为，在VTL中不用$email而是用&lt;code&gt;$!email&lt;/code&gt;符号。或与形式引用符一起使用例如：&lt;code&gt;$!{email}&lt;/code&gt;  &lt;/p&gt;
&lt;h3 id=&quot;转义字符&quot;&gt;转义字符&lt;/h3&gt;&lt;p&gt;和java中使用方式是一样的，使用“\”标记，例如:“\$foo”输出对象是“$foo”   &lt;/p&gt;
&lt;h3 id=&quot;属性&quot;&gt;属性&lt;/h3&gt;&lt;p&gt;VTL引用的第二种元素是属性，而属性具有独特的格式。属性的简略标记识前导符$后跟一个VTL标识符，在后跟一个点号(“.”)最后又是一个VTL标识符。例如:&lt;code&gt;$customer.Address&lt;/code&gt;  &lt;/p&gt;
&lt;h3 id=&quot;方法&quot;&gt;方法&lt;/h3&gt;&lt;p&gt;方法在JAVA代码中定义，并作一些有用的事情，比如运行一个计算器或者作出一个决定。方法是实际上也是引用，由前导符”$”后跟一个VTL标识符，后跟一个VTL方法体（Method Body）。例如:&lt;code&gt;page.setTitle(&amp;quot;MyHomePage&amp;quot;)&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;指令(Directives)&quot;&gt;指令(Directives)&lt;/h2&gt;&lt;p&gt;常用的指令有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;h1 id=&quot;set&quot;&gt;set&lt;/h1&gt;&lt;p&gt;赋值语句  &lt;/p&gt;
  &lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;( &lt;span class=&quot;variable&quot;&gt;$monkey&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;123&lt;/span&gt; )&lt;/span&gt;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;( &lt;span class=&quot;variable&quot;&gt;$value&lt;/span&gt; = &lt;span class=&quot;variable&quot;&gt;$foo&lt;/span&gt; + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; )&lt;/span&gt;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;( &lt;span class=&quot;variable&quot;&gt;$criteria&lt;/span&gt; = [&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;address&quot;&lt;/span&gt;] )&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;( &lt;span class=&quot;variable&quot;&gt;$result&lt;/span&gt; = &lt;span class=&quot;variable&quot;&gt;$query&lt;/span&gt;.criteria(&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;h1 id=&quot;if_/_#elseif_/_#else&quot;&gt;if / #elseif / #else&lt;/h1&gt;  &lt;figure class=&quot;highlight gherkin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#if($foo&amp;lt;10)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;variable&quot;&gt;&amp;lt;strong&amp;gt;&lt;/span&gt;Go North&lt;span class=&quot;variable&quot;&gt;&amp;lt;/strong&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#elseif($foo==10)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;variable&quot;&gt;&amp;lt;strong&amp;gt;&lt;/span&gt;Go East&lt;span class=&quot;variable&quot;&gt;&amp;lt;/strong&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#else&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;variable&quot;&gt;&amp;lt;strong&amp;gt;&lt;/span&gt;Go West&lt;span class=&quot;variable&quot;&gt;&amp;lt;/strong&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;h1 id=&quot;foreach&quot;&gt;foreach&lt;/h1&gt;  &lt;figure class=&quot;highlight gherkin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#foreach($idx in [1..20]) &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;variable&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;variable&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;$velocityCount&lt;span class=&quot;variable&quot;&gt;&amp;lt;/td&amp;gt;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;variable&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;Now is $date.now()&lt;span class=&quot;variable&quot;&gt;&amp;lt;/td&amp;gt;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#if($idx==10)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;#break//跳出循环&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;variable&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#end &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#foreach( $customer in $customerList )&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;variable&quot;&gt;&amp;lt;tr&amp;gt;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;$velocityCount&lt;span class=&quot;variable&quot;&gt;&amp;lt;/td&amp;gt;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;&amp;lt;td&amp;gt;&lt;/span&gt;$customer.Name&lt;span class=&quot;variable&quot;&gt;&amp;lt;/td&amp;gt;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;h1 id=&quot;include&quot;&gt;include&lt;/h1&gt;&lt;p&gt;include脚本元素让模板设计者可以在模板中引入一个本地文件,这个被引入的文件将不会经过Velocity 的解析.安全起见，可以引放的文件只是是配置参数TEMPLATE_ROOT所定义目录下的，默认为当前目录下.&lt;/p&gt;
  &lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;( &lt;span class=&quot;string&quot;&gt;&quot;one.txt&quot;&lt;/span&gt; )&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;  多个文件或者用变量名代替：&lt;/p&gt;
  &lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;( &lt;span class=&quot;string&quot;&gt;&quot;greetings.txt&quot;&lt;/span&gt;, &lt;span class=&quot;variable&quot;&gt;$seasonalstock&lt;/span&gt; )&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;h1 id=&quot;parse&quot;&gt;parse&lt;/h1&gt;&lt;p&gt;parse元素指示可以引入一个包含TVL的本地文件，这个文件将被Veloict engine 解析输出。&lt;br&gt;例如:&lt;code&gt;#parse( &amp;quot;me.vm&amp;quot; )&lt;/code&gt;&lt;br&gt;与#include 指令不同, #parse 可以从引入的模板中得到变量引用但#parse 指令只能接受一个参数&lt;br&gt;VTL templates 被#parse的模板中还可以再包含#parse声明， 默认的深度为10， 这是由配置参数directive.parse.max.depth在文件velocity.properties 中决定的，你可以修改它以适合项目要求。 &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;h1 id=&quot;evaluate&quot;&gt;evaluate&lt;/h1&gt;&lt;p&gt;在运行时动态解析模板语言&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;h1 id=&quot;stop&quot;&gt;stop&lt;/h1&gt;&lt;p&gt;指令停止模板引擎的执行并返回，这在Debug时很有用。 &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;h1 id=&quot;macro&quot;&gt;macro&lt;/h1&gt;&lt;p&gt;宏调用,macro指令让模板设计者可以将些重复、相关的的脚本版断定义为一个功能块.&lt;/p&gt;
  &lt;figure class=&quot;highlight lasso&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;#macro&lt;/span&gt;( tablerows &lt;span class=&quot;variable&quot;&gt;$color&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$somelist&lt;/span&gt; )&lt;span class=&quot;comment&quot;&gt;//申明一个名叫tablerows的宏命令，需要参数$color，$somelist&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;#foreach&lt;/span&gt;( &lt;span class=&quot;variable&quot;&gt;$something&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$somelist&lt;/span&gt; )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;subst&quot;&gt;&amp;lt;&lt;/span&gt;tr&lt;span class=&quot;subst&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;td bgcolor&lt;span class=&quot;subst&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$color&lt;/span&gt;&lt;span class=&quot;subst&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$something&lt;/span&gt;&lt;span class=&quot;subst&quot;&gt;&amp;lt;&lt;/span&gt;/td&lt;span class=&quot;subst&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;/tr&lt;span class=&quot;subst&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;#end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;#end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;  然后，我们在页面中来使用：&lt;/p&gt;
  &lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;( &lt;span class=&quot;variable&quot;&gt;$greatlakes&lt;/span&gt; = [&lt;span class=&quot;string&quot;&gt;&quot;Superior&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;Michigan&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;Huron&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;Erie&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;Ontario&quot;&lt;/span&gt;] )&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;( &lt;span class=&quot;variable&quot;&gt;$color&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;blue&quot;&lt;/span&gt; )&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;table&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    #&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;tablerows&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;( &lt;span class=&quot;variable&quot;&gt;$color&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$greatlakes&lt;/span&gt; )&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//调用宏命令&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/table&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;  输出结果：&lt;/p&gt;
  &lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;td&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;bgcolor&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;blue&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Superior&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;td&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;bgcolor&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;blue&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Michigan&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;td&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;bgcolor&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;blue&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Huron&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;td&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;bgcolor&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;blue&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Erie&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;td&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;bgcolor&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;blue&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Ontario&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;  如果将宏#tablerows($color $list) 定义到一个模板库中(Velocimacros template library), 其它模板就都可以访问它了&lt;/p&gt;
&lt;h2 id=&quot;关于null&quot;&gt;关于null&lt;/h2&gt;&lt;p&gt;注意：如果右边的操作数是一个属性或命令的引用而返回null,那么赋值将不会成功，且在随后也不能再取出使用. 如下例:&lt;/p&gt;
&lt;figure class=&quot;highlight nimrod&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#set( $result = $query.criteria(&quot;name&quot;))&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;The&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; the first query &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; $&lt;span class=&quot;literal&quot;&gt;result&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#set( $result = $query.criteria(&quot;address&quot;))&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;The&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; the second query &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; $&lt;span class=&quot;literal&quot;&gt;result&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果$query.criteria(“name”) 返回的是字符串”bill”, 但$query.criteria(“address”) 返回null,上面的输出结果将是:&lt;br&gt;&lt;figure class=&quot;highlight nimrod&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;The&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; the first query &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; bill&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;The&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; the second query &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; bill&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;又如下例：&lt;br&gt;&lt;figure class=&quot;highlight smalltalk&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;#set&lt;/span&gt;( &lt;span class=&quot;char&quot;&gt;$c&lt;/span&gt;riteria = [&lt;span class=&quot;comment&quot;&gt;&quot;name&quot;&lt;/span&gt;, &lt;span class=&quot;comment&quot;&gt;&quot;address&quot;&lt;/span&gt;] )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;#foreach&lt;/span&gt;(&lt;span class=&quot;char&quot;&gt;$c&lt;/span&gt;riterion in &lt;span class=&quot;char&quot;&gt;$c&lt;/span&gt;riteria )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;symbol&quot;&gt;#set&lt;/span&gt;(&lt;span class=&quot;char&quot;&gt;$r&lt;/span&gt;esult=&lt;span class=&quot;char&quot;&gt;$q&lt;/span&gt;uery.criteria(&lt;span class=&quot;char&quot;&gt;$c&lt;/span&gt;riterion) )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;symbol&quot;&gt;#if&lt;/span&gt;(&lt;span class=&quot;char&quot;&gt;$r&lt;/span&gt;esult)//错误，不能依赖if(&lt;span class=&quot;char&quot;&gt;$r&lt;/span&gt;esult)来决定查询是否成功&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;class&quot;&gt;Query&lt;/span&gt; was successful&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;#end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在上例中，就不能依赖if($result)来决定查询是否成功. #set右边如果是null会 它将不能被赋其它值.一个解决办法是，每次都将$result设为false:&lt;br&gt;&lt;figure class=&quot;highlight smalltalk&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;#set&lt;/span&gt;( &lt;span class=&quot;char&quot;&gt;$c&lt;/span&gt;riteria = [&lt;span class=&quot;comment&quot;&gt;&quot;name&quot;&lt;/span&gt;, &lt;span class=&quot;comment&quot;&gt;&quot;address&quot;&lt;/span&gt;] )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;#foreach&lt;/span&gt;(&lt;span class=&quot;char&quot;&gt;$c&lt;/span&gt;riterion in &lt;span class=&quot;char&quot;&gt;$c&lt;/span&gt;riteria )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;symbol&quot;&gt;#set&lt;/span&gt;(&lt;span class=&quot;char&quot;&gt;$r&lt;/span&gt;esult = &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;symbol&quot;&gt;#set&lt;/span&gt;(&lt;span class=&quot;char&quot;&gt;$r&lt;/span&gt;esult=&lt;span class=&quot;char&quot;&gt;$q&lt;/span&gt;uery.criteria(&lt;span class=&quot;char&quot;&gt;$c&lt;/span&gt;riterion) )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;symbol&quot;&gt;#if&lt;/span&gt;(&lt;span class=&quot;char&quot;&gt;$r&lt;/span&gt;esult)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;class&quot;&gt;Query&lt;/span&gt; was successful&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;#end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&quot;相关链接&quot;&gt;相关链接&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://ifeve.com/apache-velocity-dev/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;《Apache Velocity用户指南》官方文档 | 并发编程网 – ifeve.com&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/fingerboy/p/6066303.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Velocity初探小结—Velocity在spring中的配置和使用 - 醉眼识朦胧 - 博客园&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      Velocity是一个基于java的模板引擎（template engine）。它允许任何人仅仅简单的使用模板语言（template language）来引用由java代码定义的对象。 当Velocity应用于web开发时，界面设计人员可以和java程序开发人员同步开发一个遵循MVC架构的web站点，也就是说，页面设计人员可以只 关注页面的显示效果，而由java程序开发人员关注业务逻辑编码。Velocity将java代码从web页面中分离出来，这样为web站点的长期维护提 供了便利，同时也为我们在JSP和PHP之外又提供了一种可选的方案。
    
    </summary>
    
      <category term="java" scheme="http://www.chenguangsong.online/categories/java/"/>
    
    
      <category term="velocity" scheme="http://www.chenguangsong.online/tags/velocity/"/>
    
  </entry>
  
  <entry>
    <title>使用超级终端向手机发送at指令</title>
    <link href="http://www.chenguangsong.online/2017/05/25/%E4%BD%BF%E7%94%A8%E8%B6%85%E7%BA%A7%E7%BB%88%E7%AB%AF%E5%90%91%E6%89%8B%E6%9C%BA%E5%8F%91%E9%80%81at%E6%8C%87%E4%BB%A4/"/>
    <id>http://www.chenguangsong.online/2017/05/25/使用超级终端向手机发送at指令/</id>
    <published>2017-05-25T06:38:52.201Z</published>
    <updated>2017-05-25T06:38:52.201Z</updated>
    
    <content type="html">&lt;h2 id=&quot;问题来源&quot;&gt;问题来源&lt;/h2&gt;&lt;p&gt;在手机modem处理的工作中测试手机，需要向手机发送at指令  &lt;/p&gt;
&lt;h2 id=&quot;准备工作&quot;&gt;准备工作&lt;/h2&gt;&lt;p&gt;下载并安装超级终端,这里给个链接—&amp;gt;&lt;a href=&quot;http://www.cr173.com/soft/44407.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;超级终端&lt;/a&gt;&lt;br&gt;将手机连接到电脑，进入工模选项，打开ATCI选项&lt;br&gt;mtk手机操作步骤如下&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;进入拨号盘，输入”*#*#3646633#*#*“&lt;/li&gt;
&lt;li&gt;选择”Log and Debugging”,进入”ATCI”&lt;/li&gt;
&lt;li&gt;设置”Always enable ATCI”&lt;br&gt;&lt;img src=&quot;http://i4.buimg.com/588926/f84ce1dabcdcdb89.png&quot; alt=&quot;打开拨号盘&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://i1.piimg.com/588926/8e48b8f18c973b6f.png&quot; alt=&quot;设置ATCI&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://i4.buimg.com/588926/31a497305ceabfdf.png&quot; alt=&quot;选择Always enable ATCI&quot;&gt;&lt;/li&gt;
&lt;li&gt;打开超级终端，新建连接   &lt;/li&gt;
&lt;li&gt;连接名称任意，按默认操作即可  &lt;/li&gt;
&lt;li&gt;连接完成后输入at指令进行测试&lt;br&gt;&lt;img src=&quot;http://i4.buimg.com/588926/ad83b4b38f33e43c.png&quot; alt=&quot;打开超级终端新建链接&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://i4.buimg.com/588926/c91c8a55f149b112.png&quot; alt=&quot;选择端口&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://i4.buimg.com/588926/e3fa8c45db63595c.png&quot; alt=&quot;选择默认属性&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://i4.buimg.com/588926/ab59867823a10114.png&quot; alt=&quot;输入at指令&quot;&gt;&lt;h2 id=&quot;常用at指令&quot;&gt;常用at指令&lt;/h2&gt;&lt;a href=&quot;https://wenku.baidu.com/view/7561b26ea98271fe910ef974.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;常用AT指令(中文)_百度文库&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      在手机modem问题分析的时候需要通过usb向手机发送at指令查看手机的运行情况，这时就需要超级终端来操作手机
    
    </summary>
    
      <category term="modem" scheme="http://www.chenguangsong.online/categories/modem/"/>
    
    
      <category term="超级终端,at指令" scheme="http://www.chenguangsong.online/tags/%E8%B6%85%E7%BA%A7%E7%BB%88%E7%AB%AF-at%E6%8C%87%E4%BB%A4/"/>
    
  </entry>
  
  <entry>
    <title>阿里云服务器配置java web项目环境</title>
    <link href="http://www.chenguangsong.online/2017/05/25/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AEjava%20web%E9%A1%B9%E7%9B%AE%E7%8E%AF%E5%A2%83/"/>
    <id>http://www.chenguangsong.online/2017/05/25/阿里云服务器配置java web项目环境/</id>
    <published>2017-05-25T06:25:35.102Z</published>
    <updated>2017-05-25T06:25:35.102Z</updated>
    
    <content type="html">&lt;h2 id=&quot;申请阿里云服务器&quot;&gt;申请阿里云服务器&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://www.aliyun.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;阿里云&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;安装jdk、tomcat&quot;&gt;安装jdk、tomcat&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/evankaka/article/details/50718895&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;阿里云部署Java web项目初体验 - 林炳文Evankaka的专栏 - 博客频道 - CSDN.NET&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;配置域名&quot;&gt;配置域名&lt;/h2&gt;&lt;p&gt;申请域名&lt;br&gt;配置域名dns解析地址&lt;br&gt;&lt;img src=&quot;http://i4.buimg.com/588926/19c5d023d0ea3e8f.png&quot; alt=&quot;配置url解析地址&quot;&gt;&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/sinat_25926481/article/details/51460160&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Tomcat配置域名 - 强强强子的博客 - 博客频道 - CSDN.NET&lt;/a&gt;  &lt;/p&gt;
</content>
    
    <summary type="html">
    
      最近申请了个阿里云的服务器学习一下如何使用阿里云
    
    </summary>
    
      <category term="阿里云" scheme="http://www.chenguangsong.online/categories/%E9%98%BF%E9%87%8C%E4%BA%91/"/>
    
    
      <category term="阿里云" scheme="http://www.chenguangsong.online/tags/%E9%98%BF%E9%87%8C%E4%BA%91/"/>
    
  </entry>
  
  <entry>
    <title>学习别人代码之多彩资讯</title>
    <link href="http://www.chenguangsong.online/2017/05/25/%E5%AD%A6%E4%B9%A0%E5%88%AB%E4%BA%BA%E4%BB%A3%E7%A0%81%E4%B9%8B%E5%A4%9A%E5%BD%A9%E8%B5%84%E8%AE%AF/"/>
    <id>http://www.chenguangsong.online/2017/05/25/学习别人代码之多彩资讯/</id>
    <published>2017-05-25T05:56:20.440Z</published>
    <updated>2017-05-25T05:56:20.440Z</updated>
    
    <content type="html">&lt;h2 id=&quot;多彩资讯是什么？&quot;&gt;多彩资讯是什么？&lt;/h2&gt;&lt;p&gt;多彩资讯是&lt;a href=&quot;https://github.com/kaku2015/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;咖枯&lt;/a&gt;写的一个遵循material design风格的新闻类app、其中使用了很多开源库Dagger2、RxJava、Retrofit2、Butterknife、Greendao、PhotoView、Glide、Picasso…&lt;br&gt;多彩资讯源码链接:&lt;a href=&quot;https://github.com/kaku2015/ColorfulNews&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;kaku2015/ColorfulNews: A news-reading App &lt;/a&gt;&lt;br&gt;最近没怎么写android代码了，希望自己不要荒废，因此借着拜读别人的代码来学习下关于material design风格app，也学习下一些比较新的开源库，还有就是熟悉用android studio尤其是用gradle构建工程。  &lt;/p&gt;
&lt;h2 id=&quot;Butterknife&quot;&gt;Butterknife&lt;/h2&gt;&lt;p&gt;1、首先需要添加依赖包  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;在项目mode对应的.gradle文件顶部中添加：&lt;/p&gt;
  &lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;apply &lt;span class=&quot;string&quot;&gt;plugin:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;com.neenbedankt.android-apt&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在dependencies{}中添加：&lt;/p&gt;
  &lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;apt &lt;span class=&quot;string&quot;&gt;&#39;com.jakewharton:butterknife-compiler:8.0.1&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;com.jakewharton:butterknife:8.0.1&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2、通过@BindView绑定页面元素&lt;br&gt;3、在onCreate方法中setContentView之后添加ButterKnife.bind(this);&lt;br&gt;&lt;figure class=&quot;highlight scala&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; butterknife.&lt;span class=&quot;type&quot;&gt;BindView&lt;/span&gt;;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; butterknife.&lt;span class=&quot;type&quot;&gt;ButterKnife&lt;/span&gt;;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ExampleActivity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Activity&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;annotation&quot;&gt;@BindView&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;R&lt;/span&gt;.id.user) &lt;span class=&quot;type&quot;&gt;EditText&lt;/span&gt; username;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;annotation&quot;&gt;@BindView&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;R&lt;/span&gt;.id.pass) &lt;span class=&quot;type&quot;&gt;EditText&lt;/span&gt; password;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;annotation&quot;&gt;@BindString&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;R&lt;/span&gt;.string.login_error) &lt;span class=&quot;type&quot;&gt;String&lt;/span&gt; loginErrorMessage;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;annotation&quot;&gt;@OnClick&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;R&lt;/span&gt;.id.submit) void submit() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// TODO call server...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  public void onCreate(&lt;span class=&quot;type&quot;&gt;Bundle&lt;/span&gt; savedInstanceState) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    setContentView(&lt;span class=&quot;type&quot;&gt;R&lt;/span&gt;.layout.simple_activity);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//以前用的是ButterKnife.inject()来绑定Activity,现在用的是ButterKnife.bind()，版本不同相应的方法不同&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;ButterKnife&lt;/span&gt;.bind(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// TODO Use fields...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  public void onDestroyView() &amp;#123;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onDestroyView();  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;type&quot;&gt;ButterKnife&lt;/span&gt;.unbind(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//解绑  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/JakeWharton/butterknife&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;github-JakeWharton/butterknife&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/itjianghuxiaoxiong/article/details/50177549&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ButterKnife使用详解&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;ButterknifeZelezny在AndroidStudio中的配置与使用方法&quot;&gt;ButterknifeZelezny在AndroidStudio中的配置与使用方法&lt;/a&gt;  &lt;/p&gt;
&lt;h2 id=&quot;AnimationUtils和ValueAnimator&quot;&gt;AnimationUtils和ValueAnimator&lt;/h2&gt;&lt;p&gt;(1)Frame Animation(帧动画)主要用于播放一帧帧准备好的图片，类似GIF图片，优点是使用简单方便、缺点是需要事先准备好每一帧图片；&lt;br&gt;(2)Tween Animation(补间动画)仅需定义开始与结束的关键帧，而变化的中间帧由系统补上，优点是不用准备每一帧，缺点是只改变了对象绘制，而没有改变View本身属性。因此如果改变了按钮的位置，还是需要点击原来按钮所在位置才有效。&lt;br&gt;(3)Property Animation(属性动画)是3.0后推出的动画，优点是使用简单、降低实现的复杂度、直接更改对象的属性、几乎可适用于任何对象而仅非View类，缺点是需要3.0以上的API支持，限制较大！但是目前国外有个开源库，可以提供低版本支持！  &lt;/p&gt;
&lt;h2 id=&quot;Android_View_Animations&quot;&gt;Android View Animations&lt;/h2&gt;&lt;p&gt;1、首先需要添加依赖包&lt;br&gt;2、就使用YoYo类来选择动画、时间、绑定对象&lt;br&gt;&lt;figure class=&quot;highlight vhdl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;compile &lt;span class=&quot;attribute&quot;&gt;&#39;com&lt;/span&gt;.nineoldandroids:&lt;span class=&quot;keyword&quot;&gt;library&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;2.4&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;compile &lt;span class=&quot;attribute&quot;&gt;&#39;com&lt;/span&gt;.daimajia.easing:&lt;span class=&quot;keyword&quot;&gt;library&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.1&lt;/span&gt;@aar&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;compile &lt;span class=&quot;attribute&quot;&gt;&#39;com&lt;/span&gt;.daimajia.androidanimations:&lt;span class=&quot;keyword&quot;&gt;library&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;1.1&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.3&lt;/span&gt;@aar&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;YoYo.&lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt;(Techniques.Tada)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    .duration(&lt;span class=&quot;number&quot;&gt;700&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    .playOn(findViewById(R.id.edit_area));&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;YoYo的设计采用了访问者模式把数据结构和作用于结构上的操作解耦合，使得操作集合可相对自由地演化。访问者模式适用于数据结构相对稳定算法又易变化的系统。因为访问者模式使得算法操作增加变得容易。  &lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/daimajia/AndroidViewAnimations&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;github-daimajia/AndroidViewAnimations&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;MVP&quot;&gt;MVP&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/vector_yi/article/details/24719873&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;MVP模式在Android开发中的应用&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/end/archive/2011/06/02/2068512.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;MVC和MVP的区别 - 风生水起 - 博客园&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;RxJava&quot;&gt;RxJava&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://gank.io/post/560e15be2dca930e00da1083&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;给 Android 开发者的 RxJava 详解&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;RxBus&quot;&gt;RxBus&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://www.jianshu.com/p/ca090f6e2fe2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;用RxJava实现事件总线(Event Bus)&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;annotation注解&quot;&gt;annotation注解&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/peida/archive/2013/04/24/3036689.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;深入理解Java：注解（Annotation）自定义注解入门 - peida - 博客园&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;Dagger2&quot;&gt;Dagger2&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/u012943767/article/details/51897247&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Dagger2 这次入门就不用放弃了 - Jaml - 博客频道 - CSDN.NET&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;android-support-v4-widget-DrawerLayout&quot;&gt;android.support.v4.widget.DrawerLayout&lt;/h1&gt;&lt;p&gt;图片显示&lt;/p&gt;
&lt;h1 id=&quot;android-support-design-widget-NavigationView&quot;&gt;android.support.design.widget.NavigationView&lt;/h1&gt;&lt;p&gt;侧划出菜单&lt;/p&gt;
&lt;h1 id=&quot;include&quot;&gt;include&lt;/h1&gt;&lt;p&gt;加载xml组合显示&lt;/p&gt;
&lt;h1 id=&quot;android-support-design-widget-FloatingActionButton&quot;&gt;android.support.design.widget.FloatingActionButton&lt;/h1&gt;&lt;p&gt;协调(Coordinate)其他组件, 实现联动.&lt;/p&gt;
&lt;h1 id=&quot;android-support-design-widget-AppBarLayout&quot;&gt;android.support.design.widget.AppBarLayout&lt;/h1&gt;&lt;p&gt;app的actionbar&lt;/p&gt;
&lt;h1 id=&quot;android-support-v7-widget-Toolbar&quot;&gt;android.support.v7.widget.Toolbar&lt;/h1&gt;&lt;p&gt;侧滑按键，实现动画效果&lt;/p&gt;
&lt;h1 id=&quot;android-support-design-widget-TabLayout&quot;&gt;android.support.design.widget.TabLayout&lt;/h1&gt;&lt;p&gt;显示选显卡，android.support.v4.view.ViewPager&lt;/p&gt;
&lt;h1 id=&quot;android-support-v4-view-ViewPager&quot;&gt;android.support.v4.view.ViewPager&lt;/h1&gt;&lt;h1 id=&quot;Snackbar&quot;&gt;Snackbar&lt;/h1&gt;&lt;h1 id=&quot;LeakCanary&quot;&gt;LeakCanary&lt;/h1&gt;&lt;p&gt;用于检测软件的内存泄漏，&lt;br&gt;&lt;a href=&quot;https://www.liaohuqiu.net/cn/posts/leak-canary-read-me/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;LeakCanary 中文使用说明 | Yet Another Summer Rain&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;RefWatcher&quot;&gt;RefWatcher&lt;/h1&gt;&lt;h1 id=&quot;ActivityLifecycleCallbacks&quot;&gt;ActivityLifecycleCallbacks&lt;/h1&gt;&lt;p&gt;android 4.0 之后在application类中提供接口ActivityLifecycleCallbacks&lt;br&gt;用于监听activity的生命周期、打log，用于跟踪activity运行流程。&lt;/p&gt;
&lt;h1 id=&quot;Klog&quot;&gt;Klog&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/1115/3685.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android专用Log开源项目——KLog - 泡在网上的日子&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      多彩资讯是咖枯写的一个遵循material design风格的新闻类app、其中使用了很多开源库Dagger2、RxJava、Retrofit2、Butterknife、Greendao、PhotoView、Glide、Picasso…
    
    </summary>
    
      <category term="android" scheme="http://www.chenguangsong.online/categories/android/"/>
    
    
      <category term="android" scheme="http://www.chenguangsong.online/tags/android/"/>
    
  </entry>
  
  <entry>
    <title>Android源码学习——开机过程</title>
    <link href="http://www.chenguangsong.online/2017/05/25/Android%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94%E5%BC%80%E6%9C%BA%E8%BF%87%E7%A8%8B/"/>
    <id>http://www.chenguangsong.online/2017/05/25/Android源码学习——开机过程/</id>
    <published>2017-05-25T05:45:57.198Z</published>
    <updated>2017-05-25T05:45:57.198Z</updated>
    
    <content type="html">&lt;h1 id=&quot;从开机到注册APN的过程分析&quot;&gt;从开机到注册APN的过程分析&lt;/h1&gt;&lt;hr&gt;
&lt;h2 id=&quot;手机启动&quot;&gt;手机启动&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://oeb33qix3.bkt.clouddn.com/16-12-16/21583324-file_1481868417041_61ad.png&quot; alt=&quot;&quot;&gt;  &lt;/p&gt;
&lt;h2 id=&quot;SystemServer-java&quot;&gt;SystemServer.java&lt;/h2&gt;&lt;p&gt;SystemServer.java类是java的系统服务类，在开机后首先会实例化一个SystemServer&lt;br&gt;1、执行main方法，new SystemServer().run();&lt;br&gt;2、执行run方法，调用startBootstrapServices()&lt;br&gt;3、在startBootstrapServices()中调用&lt;br&gt;&lt;img src=&quot;http://oeb33qix3.bkt.clouddn.com/16-12-11/77821418-file_1481434774122_16d6a.png&quot; alt=&quot;&quot;&gt;   &lt;/p&gt;
&lt;h2 id=&quot;ActivityManagerService-java&quot;&gt;ActivityManagerService.java&lt;/h2&gt;&lt;p&gt;通过AndroidManagerService中的方法将启动配置了属性&lt;code&gt;andriod:persistion=&amp;quot;true&amp;quot;;&lt;/code&gt;的app&lt;/p&gt;
&lt;h2 id=&quot;PhoneApp&quot;&gt;PhoneApp&lt;/h2&gt;&lt;figure class=&quot;highlight actionscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;PhoneApp.onCreate()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; PhoneGlobals(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;PhoneGlobals&quot;&gt;PhoneGlobals&lt;/h2&gt;&lt;figure class=&quot;highlight roboconf&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;component&quot;&gt;PhoneGlobals.onCreate()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    PhoneFactory&lt;span class=&quot;string&quot;&gt;.makeDefultPhones(this)&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight aspectj&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;makeDefaultPhone&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    sPhoneNotifier = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; DefaultPhoneNotifier();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    sProxyPhone = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; PhoneProxy(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; GSMPhone(context,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    sCommandsInterface, sPhoneNotifier));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;GSMPhone&quot;&gt;GSMPhone&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://oeb33qix3.bkt.clouddn.com/16-12-11/92278190-file_1481436430080_e396.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;DcTracker&quot;&gt;DcTracker&lt;/h2&gt;&lt;p&gt;DataConnectionTracker：数据连接跟踪者&lt;br&gt;DcTracker是Telephony框架中负责数据业务的核心(类似于GsmCallTracker是通话业务核心，GsmServiceStateTracker是网络CS业务的核心)，所有对数据网络的请求(打开关闭数据开关、切换数据卡、修改APN参数等)都会发送到该处理中心来处理。&lt;br&gt;DcTracker的初始化&lt;br&gt;1、初始化各种监听器；&lt;br&gt;//2、初始化TelephonyNetworkFactory对象；&lt;br&gt;3、初始化一些基本的APN参数；  &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://oeb33qix3.bkt.clouddn.com/16-12-16/63555222-file_1481858289936_a47d.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;figure class=&quot;highlight processing&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; DcTracker(PhoneBase p) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(p);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (DBG) &lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;DcTracker.constructor&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mDataConnectionTracker = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//更新状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	update();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/** M: create worker handler to handle DB/IO access */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	createWorkerHandler();&lt;span class=&quot;comment&quot;&gt;//这里是mtk改的，另启一个线程去添加紧急apn&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//M: Move register all event from update to construct, to avoid register more times.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	registerForAllEvents();&lt;span class=&quot;comment&quot;&gt;//注册事件监听（从update方法中移动到这里，为了节省时间）&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mApnObserver = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ApnChangeObserver();&lt;span class=&quot;comment&quot;&gt;//监听apn的变化&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	p.getContext().getContentResolver().registerContentObserver(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			Telephony.Carriers.CONTENT_URI, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, mApnObserver);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	initApnContexts();&lt;span class=&quot;comment&quot;&gt;//初始化apn&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (ApnContext apnContext : mApnContexts.values()) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// Register the reconnect and restart actions.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		IntentFilter &lt;span class=&quot;built_in&quot;&gt;filter&lt;/span&gt; = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; IntentFilter();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;built_in&quot;&gt;filter&lt;/span&gt;.addAction(INTENT_RECONNECT_ALARM + &lt;span class=&quot;string&quot;&gt;&#39;.&#39;&lt;/span&gt; + apnContext.getApnType());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;built_in&quot;&gt;filter&lt;/span&gt;.addAction(INTENT_RESTART_TRYSETUP_ALARM + &lt;span class=&quot;string&quot;&gt;&#39;.&#39;&lt;/span&gt; + apnContext.getApnType());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		mPhone.getContext().registerReceiver(mIntentReceiver, &lt;span class=&quot;built_in&quot;&gt;filter&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;, mPhone);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// M: Fast Dormancy init&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mFdMgr = FdManager.getInstance(p);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//MTK START: Add Plug in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!BSP_PACKAGE) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			mGsmDctExt =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				MPlugin.createInstance(IGsmDCTExt.class.getName(), mPhone.getContext());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125; &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (Exception e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (DBG) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;mGsmDctExt init fail&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			e.printStackTrace();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//MTK END&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mProvisionActionName = &lt;span class=&quot;string&quot;&gt;&quot;com.android.internal.telephony.PROVISION&quot;&lt;/span&gt; + p.getPhoneId();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;update&quot;&gt;update&lt;/h3&gt;&lt;figure class=&quot;highlight processing&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; update() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;update sub = &quot;&lt;/span&gt; + mPhone.getSubId());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// M: remove for redundantly register that cause ANR&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//log(&quot;update(): Active DDS, register for all events now!&quot;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//registerForAllEvents();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	onUpdateIcc();&lt;span class=&quot;comment&quot;&gt;//注册监听sim卡状态、添加了sim载入监听、和fdn定向拨号功能&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mUserDataEnabled = getDataEnabled();&lt;span class=&quot;comment&quot;&gt;//获取用户设置网络的开关状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mPhone &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; CDMALTEPhone) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		((CDMALTEPhone)mPhone).updateCurrentCarrierInProvider();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mPhone &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; GSMPhone) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		((GSMPhone)mPhone).updateCurrentCarrierInProvider();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Phone object is not MultiSim. This should not hit!!!!&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;createWorkerHandler&quot;&gt;createWorkerHandler&lt;/h3&gt;&lt;figure class=&quot;highlight scala&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/** M: worker handler to handle DB/IO access */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; void createWorkerHandler() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mWorkerHandler == &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;type&quot;&gt;Thread&lt;/span&gt; thread = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Thread&lt;/span&gt;() &amp;#123;&lt;span class=&quot;comment&quot;&gt;//另开了一个新的工作线程&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			public void run() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;type&quot;&gt;Looper&lt;/span&gt;.prepare();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				mWorkerHandler = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;WorkerHandler&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				mWorkerHandler.sendEmptyMessage(&lt;span class=&quot;type&quot;&gt;DctConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;EVENT_INIT_EMERGENCY_APN_SETTINGS&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;type&quot;&gt;Looper&lt;/span&gt;.loop();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		thread.start();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;WorkerHandler&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Handler&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	public void handleMessage(&lt;span class=&quot;type&quot;&gt;Message&lt;/span&gt; msg) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		switch (msg.what) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;DctConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;EVENT_INIT_EMERGENCY_APN_SETTINGS&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;comment&quot;&gt;// Add Emergency APN to APN setting list by default to support EPDN in sim absent cases&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				log(&lt;span class=&quot;string&quot;&gt;&quot;WorkerHandler received EVENT_INIT_EMERGENCY_APN_SETTINGS&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				initEmergencyApnSetting();&lt;span class=&quot;comment&quot;&gt;//在新的线程中进行紧急apn的初始化和添加&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				addEmergencyApnSetting();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;registerForAllEvents&quot;&gt;registerForAllEvents&lt;/h3&gt;&lt;figure class=&quot;highlight aspectj&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;registerForAllEvents&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (DBG) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		log(&lt;span class=&quot;string&quot;&gt;&quot;registerForAllEvents: mPhone = &quot;&lt;/span&gt; + mPhone);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//监听射频是否打开&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mPhone.mCi.registerForAvailable(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, DctConstants.EVENT_RADIO_AVAILABLE, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//监听射频是否可用&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mPhone.mCi.registerForOffOrNotAvailable(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		   DctConstants.EVENT_RADIO_OFF_OR_NOT_AVAILABLE, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//监听当前链接状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mPhone.mCi.registerForDataNetworkStateChanged(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		   DctConstants.EVENT_DATA_STATE_CHANGED, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// Note, this is fragile - the Phone is now presenting a merged picture&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// of PS (volte) &amp;amp; CS and by diving into its internals you&#39;re just seeing&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// the CS data.  This works well for the purposes this is currently used for&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// but that may not always be the case.  Should probably be redesigned to&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// accurately reflect what we&#39;re really interested in (registerForCSVoiceCallEnded).&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// M: Remove below section for the reason that new PS/CS design has been applied.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//mPhone.getCallTracker().registerForVoiceCallEnded (this,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//       DctConstants.EVENT_VOICE_CALL_ENDED, null);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//mPhone.getCallTracker().registerForVoiceCallStarted (this,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//       DctConstants.EVENT_VOICE_CALL_STARTED, null);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// M: End&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//数据连接驻网&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mPhone.getServiceStateTracker().registerForDataConnectionAttached(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		   DctConstants.EVENT_DATA_CONNECTION_ATTACHED, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mPhone.getServiceStateTracker().registerForDataConnectionDetached(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		   DctConstants.EVENT_DATA_CONNECTION_DETACHED, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//数据漫游&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mPhone.getServiceStateTracker().registerForDataRoamingOn(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		   DctConstants.EVENT_ROAMING_ON, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mPhone.getServiceStateTracker().registerForDataRoamingOff(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		   DctConstants.EVENT_ROAMING_OFF, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//ps域注册&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mPhone.getServiceStateTracker().registerForPsRestrictedEnabled(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			DctConstants.EVENT_PS_RESTRICT_ENABLED, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mPhone.getServiceStateTracker().registerForPsRestrictedDisabled(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			DctConstants.EVENT_PS_RESTRICT_DISABLED, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;comment&quot;&gt;//   SubscriptionManager.registerForDdsSwitch(this,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;comment&quot;&gt;//          DctConstants.EVENT_CLEAN_UP_ALL_CONNECTIONS, null);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// M: cc33&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mPhone.mCi.registerForRemoveRestrictEutran(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, DctConstants.EVENT_REMOVE_RESTRICT_EUTRAN&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			,&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//M: Reset Attach Apn重新注册apn&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mPhone.mCi.registerForResetAttachApn(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, DctConstants.EVENT_RESET_ATTACH_APN, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// M: [LTE][Low Power][UL traffic shaping] Start&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mPhone.mCi.registerForLteAccessStratumState(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			DctConstants.EVENT_LTE_ACCESS_STRATUM_STATE, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// M: [LTE][Low Power][UL traffic shaping] End&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//监听网络技术(LTE/GSM/UMTS)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mPhone.getServiceStateTracker().registerForDataRegStateOrRatChanged(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			DctConstants.EVENT_DATA_RAT_CHANGED, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;initApnContent&quot;&gt;initApnContent&lt;/h3&gt;&lt;figure class=&quot;highlight haskell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;title&quot;&gt;protected&lt;/span&gt; void initApnContexts() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	log(&lt;span class=&quot;string&quot;&gt;&quot;initApnContexts: E&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	// &lt;span class=&quot;type&quot;&gt;Load&lt;/span&gt; device network attributes from resources&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;type&quot;&gt;String&lt;/span&gt;[] networkConfigStrings = mPhone.getContext().getResources().getStringArray(//获得配置的默认apn参数&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			com.android.internal.&lt;span class=&quot;type&quot;&gt;R&lt;/span&gt;.array.networkAttributes);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	for (&lt;span class=&quot;type&quot;&gt;String&lt;/span&gt; networkConfigString : networkConfigStrings) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;type&quot;&gt;NetworkConfig&lt;/span&gt; networkConfig = new &lt;span class=&quot;type&quot;&gt;NetworkConfig&lt;/span&gt;(networkConfigString);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;type&quot;&gt;ApnContext&lt;/span&gt; apnContext = null;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		switch (networkConfig.&lt;span class=&quot;typedef&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;type&lt;/span&gt;) &lt;span class=&quot;container&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_DEFAULT&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_MMS&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_MMS&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_SUPL&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_SUPL&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_DUN&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_DUN&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_HIPRI&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_HIPRI&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_FOTA&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_FOTA&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_IMS&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_IMS&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_CBS&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_CBS&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_IA&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_IA&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		/** &lt;span class=&quot;type&quot;&gt;M&lt;/span&gt;: &lt;span class=&quot;title&quot;&gt;start&lt;/span&gt; */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_DM&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_DM&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_NET&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_NET&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_WAP&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_WAP&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_CMMAIL&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_CMMAIL&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_RCSE&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_RCSE&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_XCAP&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_XCAP&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_RCS&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_RCS&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		/** &lt;span class=&quot;type&quot;&gt;M&lt;/span&gt;: &lt;span class=&quot;title&quot;&gt;end&lt;/span&gt;*/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE_EMERGENCY&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;apnContext&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;addApnContext&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;PhoneConstants&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;APN_TYPE_EMERGENCY&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;title&quot;&gt;default&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;log&lt;/span&gt;(&quot;&lt;span class=&quot;title&quot;&gt;initApnContexts&lt;/span&gt;: &lt;span class=&quot;title&quot;&gt;skipping&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;unknown&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;type&lt;/span&gt;=&quot; + &lt;span class=&quot;title&quot;&gt;networkConfig&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;type&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;title&quot;&gt;continue&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		log(&lt;span class=&quot;string&quot;&gt;&quot;initApnContexts: apnContext=&quot;&lt;/span&gt; + apnContext);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	//&lt;span class=&quot;type&quot;&gt;The&lt;/span&gt; implement &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; priorityQueue &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; is incorrect, we sort the list by ourself对apn进行排序&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;type&quot;&gt;Collections&lt;/span&gt;.sort(mPrioritySortedApnContexts, new &lt;span class=&quot;type&quot;&gt;Comparator&lt;/span&gt;&amp;lt;&lt;span class=&quot;type&quot;&gt;ApnContext&lt;/span&gt;&amp;gt;() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		public int compare(&lt;span class=&quot;type&quot;&gt;ApnContext&lt;/span&gt; c1, &lt;span class=&quot;type&quot;&gt;ApnContext&lt;/span&gt; c2) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			return c2.priority - c1.priority;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	log(&lt;span class=&quot;string&quot;&gt;&quot;initApnContexts: mPrioritySortedApnContexts=&quot;&lt;/span&gt; + mPrioritySortedApnContexts);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	log(&lt;span class=&quot;string&quot;&gt;&quot;initApnContexts: X mApnContexts=&quot;&lt;/span&gt; + mApnContexts);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;至此apn的初始化完成&lt;/p&gt;
&lt;h2 id=&quot;apn参数的创建&quot;&gt;apn参数的创建&lt;/h2&gt;&lt;p&gt;当sim卡载入完毕后就会触发监听进行apn的创建onRecordsLoaded()&lt;br&gt;当apn改变也会触发监听onApnChanged()  &lt;/p&gt;
&lt;h2 id=&quot;onReecordsLoaded()&quot;&gt;onReecordsLoaded()&lt;/h2&gt;&lt;p&gt;createAllApnlist()  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;获取当前sim卡的apn参数及紧急apn&lt;ul&gt;
&lt;li&gt;operater获取sim卡的PLMN&lt;/li&gt;
&lt;li&gt;创建mAllApnSetting列表&lt;/li&gt;
&lt;li&gt;添加紧急apn&lt;/li&gt;
&lt;li&gt;合并apn&lt;/li&gt;
&lt;li&gt;寻找适合的apn&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;合并相同的apn&lt;/li&gt;
&lt;li&gt;寻找当前适合的apn&lt;br&gt;setInitialAttachApn()设置默认apn&lt;br&gt;向modem设置Attach默认的apn&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;apn参数激活&quot;&gt;apn参数激活&lt;/h2&gt;&lt;h2 id=&quot;数据连接请求&quot;&gt;数据连接请求&lt;/h2&gt;</content>
    
    <summary type="html">
    
      本篇介绍一下安卓手机从开机进入java层运行到启动网络注册apn的过程，用于分析手机网络问题
    
    </summary>
    
      <category term="android源码" scheme="http://www.chenguangsong.online/categories/android%E6%BA%90%E7%A0%81/"/>
    
    
      <category term="android源码,android" scheme="http://www.chenguangsong.online/tags/android%E6%BA%90%E7%A0%81-android/"/>
    
  </entry>
  
  <entry>
    <title>linux学习（1）——sh脚本</title>
    <link href="http://www.chenguangsong.online/2017/05/25/linux%E5%AD%A6%E4%B9%A0%EF%BC%881%EF%BC%89%E2%80%94%E2%80%94sh%E8%84%9A%E6%9C%AC/"/>
    <id>http://www.chenguangsong.online/2017/05/25/linux学习（1）——sh脚本/</id>
    <published>2017-05-25T05:38:29.018Z</published>
    <updated>2017-05-25T05:38:29.018Z</updated>
    
    <content type="html">&lt;h1 id=&quot;记录常用的shell命令&quot;&gt;记录常用的shell命令&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;grep查询语句&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;grep -rn “keyword”查找keyword&lt;/li&gt;
&lt;li&gt;grep -rin “keyword”查找keyword，并忽略大小写&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;rm删除语句&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;rm -f filename&lt;/li&gt;
&lt;li&gt;rmdir dirname&lt;/li&gt;
&lt;li&gt;rm -rf dirname/filename 删除文件，或删除文件夹及文件夹中的文件&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;mkdir创建文件夹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mkdir -p dirname/dirname 连续创建多级目录&lt;/li&gt;
&lt;li&gt;mkdir -m 777 test3 创建对应权限的文件夹&lt;/li&gt;
&lt;li&gt;mkdir -v test4 创建并显示文件夹信息&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;chmod修改文件权限&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;chmod 777 filename 设置filename文件的所有权限全部开放&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cd&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cd - 返回前一次的目录&lt;/li&gt;
&lt;li&gt;cd ~ 返回home目录&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;pwd 输出当前目录&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;echo 控制台输出&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;sleep 5s 进程休眠5秒&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;exit 退出当前进程&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;diff 比较不同&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;printf 类似C语言中的 &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;printf ‘%d %s\n’ 1 “abc” 输出数字1和字符串abc并回车&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;read flag 读取控制台输入赋值给flag&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;`` 表示运行输出进行赋值&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;current_path=`pwd`&lt;/li&gt;
&lt;li&gt;result = `expr $a + $b`&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;let与expr&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;let x=5+6&lt;/li&gt;
&lt;li&gt;let x=$x+1&lt;/li&gt;
&lt;li&gt;let not found原因  /bin/sh指向了dash而不是bash，dash不支持let命令。&lt;/li&gt;
&lt;li&gt;x=`expr 5+6` &lt;/li&gt;
&lt;li&gt;expr运算符注意:符号和参数之间要有空格分开；通配符号(*),在作为乘法运算符时要用\、“”、‘’符号修饰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;`ps -ef | grep -E “xxx.sh” | grep -v “grep” | grep -v “$$” | wc -l`&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ps -rf 查看正在活动的进程列表&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;find dirpath -type f | wc -l&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/wanqieddy/archive/2011/06/09/2076785.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Linux find 用法示例 - wanqi - 博客园&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;du -ah filepath&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;显示文件大小&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;bash xxx.sh  执行xxx.sh脚本&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;spawn、expect自动交互 &lt;/p&gt;
  &lt;figure class=&quot;highlight d&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;shebang&quot;&gt;#!/usr/bin/expect   &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    　　set timeout &lt;span class=&quot;number&quot;&gt;30&lt;/span&gt;                                      &lt;span class=&quot;comment&quot;&gt;//  设置超时时间&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    　　spawn ssh -l username &lt;span class=&quot;number&quot;&gt;192.168&lt;/span&gt;.1.1                   &lt;span class=&quot;comment&quot;&gt;//  通过spawn执行ssh语句&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    　　expect &lt;span class=&quot;string&quot;&gt;&quot;password:&quot;&lt;/span&gt;                                  &lt;span class=&quot;comment&quot;&gt;//  开始检查终端输出“password:”&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    　　send &lt;span class=&quot;string&quot;&gt;&quot;ispass\r&quot;&lt;/span&gt;                                     &lt;span class=&quot;comment&quot;&gt;//  自动向终端发送 “ispass” 并回车&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    　　interact                                            &lt;span class=&quot;comment&quot;&gt;//  交还终端控制权&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;mv移动&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mv dir1 new_dir 重命名/移动 一个目录&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;tar解压&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;tar –xvf file.tar 解压 tar包&lt;/li&gt;
&lt;li&gt;tar -xzvf file.tar.gz 解压tar.gz&lt;/li&gt;
&lt;li&gt;tar -xjvf file.tar.bz2   解压 tar.bz2tar –xZvf file.tar.Z 解压tar.Z&lt;/li&gt;
&lt;li&gt;tar zxvf jdk-8u73-linux-x64.gz -C /usr/java/jdk 解压文件jdk-8u73-linux-x64.gz到目录/usr/java/jdk  &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/jyaray/archive/2011/04/30/2033362.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;tar压缩解压缩命令详解 - jyaray - 博客园&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;wget下载&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;wget &lt;a href=&quot;http://www.linuxsense.org/xxxx/xxx.tar.gz&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.linuxsense.org/xxxx/xxx.tar.gz&lt;/a&gt; 通过url下载文件&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;apt-get 安装管理&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;apt-get update 定期运行这一命令以确保您的软件包列表是最新的&lt;/li&gt;
&lt;li&gt;apt-get install packagename 安装一个新软件&lt;/li&gt;
&lt;li&gt;apt-get autoremove —purge packagname 删除包及其依赖的软件包+配置文件&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;sed&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/dong008259/archive/2011/12/07/2279897.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;linux之sed用法 - 东方雨中漫步者 - 博客园&lt;/a&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;cat&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/perfy/archive/2012/07/23/2605550.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;linux下cat命令详解 - 路人浅笑 - 博客园&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/fnlingnzb-learner/p/5831284.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Linux常用命令大全&lt;/a&gt;  &lt;/p&gt;
&lt;h1 id=&quot;shell脚本语法&quot;&gt;shell脚本语法&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;h1 id=&quot;!/bin/sh&quot;&gt;!/bin/sh&lt;/h1&gt;  符号#!用来告诉系统它后面的参数是用来执行该文件的程序。注意文件必须是unix格式的，如果不是系统会将脚本当成一串命令而不是在一个线程中执行&lt;/li&gt;
&lt;li&gt;&lt;p&gt;if&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; [ &lt;span class=&quot;operator&quot;&gt;-e&lt;/span&gt; file ] || [ &lt;span class=&quot;string&quot;&gt;&quot;x&lt;span class=&quot;variable&quot;&gt;$flag&lt;/span&gt;&quot;&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;xyes&quot;&lt;/span&gt; ] ; &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;    //判断字符串相等用&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;个“=”而不是&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;个&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;elif&lt;/span&gt; [ &lt;span class=&quot;string&quot;&gt;&quot;x&lt;span class=&quot;variable&quot;&gt;$flag&lt;/span&gt;&quot;&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;xno&quot;&lt;/span&gt; ] ;&lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; no&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; other&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;fi&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;while&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; :     //无限循环 或者&lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;是否继续执行?（yes/no）&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt; flag&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; [ &lt;span class=&quot;string&quot;&gt;&quot;x&lt;span class=&quot;variable&quot;&gt;$flag&lt;/span&gt;&quot;&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;xyes&quot;&lt;/span&gt; ]; &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;跳出循环，继续执行&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;built_in&quot;&gt;break&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;elif&lt;/span&gt; [ &lt;span class=&quot;string&quot;&gt;&quot;x&lt;span class=&quot;variable&quot;&gt;$flag&lt;/span&gt;&quot;&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;xno&quot;&lt;/span&gt; ]; &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;停止执行，结束程序&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;built_in&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;built_in&quot;&gt;continue&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;fi&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;for  &lt;/p&gt;
  &lt;figure class=&quot;highlight stata&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; `&lt;span class=&quot;keyword&quot;&gt;ls&lt;/span&gt;`&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        echo &lt;span class=&quot;keyword&quot;&gt;file&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    done&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; 1 2 3 4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        echo &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    done&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (( ; ; ))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;case&lt;/p&gt;
  &lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;输入 1 到 4 之间的数字:&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;你输入的数字为:&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt; aNum&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$aNum&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)  &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;你选择了 1&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;)  &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;你选择了 2&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;)  &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;你选择了 3&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;)  &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;你选择了 4&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    *)  &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;你没有输入 1 到 4 之间的数字&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;esac&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;关系运算符&lt;br&gt;  |运算 | 说明 | 举例 |&lt;br&gt;  |:—-|:—-|:—-|&lt;br&gt;  |-eq    |检测两个数是否相等，相等返回 true。                          |[ $a -eq $b ] |&lt;br&gt;  |-ne    |检测两个数是否相等，不相等返回 true。                          |[ $a -ne $b ] |&lt;br&gt;  |-gt    |检测左边的数是否大于右边的，如果是，则返回 true。              |[ $a -gt $b ] |&lt;br&gt;  |-lt    |检测左边的数是否小于右边的，如果是，则返回 true。              |[ $a -lt $b ] |&lt;br&gt;  |-ge    |检测左边的数是否大于等于右边的，如果是，则返回 true。          |[ $a -ge $b ] |&lt;br&gt;  |-le    |检测左边的数是否小于等于右边的，如果是，则返回 true。          |[ $a -le $b ] |&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;文件测试运算符&lt;br&gt;  |运算 | 说明 | 举例 |&lt;br&gt;  |:—-|:—-|:—-|&lt;br&gt;  |-b file    |检测文件是否是块设备文件，如果是，则返回 true。                            |[ -b $file ]&lt;br&gt;  |-c file    |检测文件是否是字符设备文件，如果是，则返回 true。                            |[ -c $file ]&lt;br&gt;  |-d file    |检测文件是否是目录，如果是，则返回 true。                                    |[ -d $file ]&lt;br&gt;  |-f file    |检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true。|[ -f $file ]&lt;br&gt;  |-g file    |检测文件是否设置了 SGID 位，如果是，则返回 true。                            |[ -g $file ]&lt;br&gt;  |-k file    |检测文件是否设置了粘着位(Sticky Bit)，如果是，则返回 true。                |[ -k $file ]&lt;br&gt;  |-p file    |检测文件是否是有名管道，如果是，则返回 true。                                |[ -p $file ]&lt;br&gt;  |-u file    |检测文件是否设置了 SUID 位，如果是，则返回 true。                            |[ -u $file ]&lt;br&gt;  |-r file    |检测文件是否可读，如果是，则返回 true。                                    |[ -r $file ]&lt;br&gt;  |-w file    |检测文件是否可写，如果是，则返回 true。                                    |[ -w $file ]&lt;br&gt;  |-x file    |检测文件是否可执行，如果是，则返回 true。                                    |[ -x $file ]&lt;br&gt;  |-s file    |检测文件是否为空（文件大小是否大于0），不为空返回 true。                    |[ -s $file ]&lt;br&gt;  |-e file    |检测文件（包括目录）是否存在，如果是，则返回 true。                        |[ -e $file ] &lt;/li&gt;
&lt;li&gt;执行命令传递参数&lt;ul&gt;
&lt;li&gt;echo “执行的文件名：$0”;&lt;/li&gt;
&lt;li&gt;echo “第一个参数为：$1”;&lt;/li&gt;
&lt;li&gt;echo “第二个参数为：$2”;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;函数&lt;br&gt;  定义函数、及调用  &lt;/p&gt;
  &lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;demoFun()&amp;#123;                                   &lt;span class=&quot;comment&quot;&gt;//函数定义类似C语言&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;这是我的第一个 shell 函数!&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-----函数开始执行-----&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;demoFun                                      &lt;span class=&quot;comment&quot;&gt;//调用是不要写（）&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-----函数执行完毕-----&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;  函数传递参数的方式&lt;br&gt;  执行test.sh脚本&lt;/p&gt;
  &lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 脚本参数\&lt;span class=&quot;variable&quot;&gt;$0&lt;/span&gt;=&lt;span class=&quot;variable&quot;&gt;$0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 脚本参数\&lt;span class=&quot;variable&quot;&gt;$1&lt;/span&gt;=&lt;span class=&quot;variable&quot;&gt;$1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 脚本参数个数\$\&lt;span class=&quot;comment&quot;&gt;#=$#&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;myfun&lt;/span&gt;&lt;/span&gt;()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 函数myfun中参数\&lt;span class=&quot;variable&quot;&gt;$0&lt;/span&gt;=&lt;span class=&quot;variable&quot;&gt;$0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 函数myfun中参数\&lt;span class=&quot;variable&quot;&gt;$1&lt;/span&gt;=&lt;span class=&quot;variable&quot;&gt;$1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 函数myfun中参数个数\$\&lt;span class=&quot;comment&quot;&gt;#=$#&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;myfun &lt;span class=&quot;number&quot;&gt;999&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;  执行脚本&lt;code&gt;./test.sh 111 222 333&lt;/code&gt;&lt;br&gt;  运行结果为&lt;/p&gt;
  &lt;figure class=&quot;highlight elixir&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;脚本参数\&lt;span class=&quot;variable&quot;&gt;$0&lt;/span&gt;=./test.sh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;脚本参数\&lt;span class=&quot;variable&quot;&gt;$1&lt;/span&gt;=&lt;span class=&quot;number&quot;&gt;111&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;脚本参数个数\&lt;span class=&quot;variable&quot;&gt;$\&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;#=3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;函数myfun中参数\&lt;span class=&quot;variable&quot;&gt;$0&lt;/span&gt;=./test.sh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;函数myfun中参数\&lt;span class=&quot;variable&quot;&gt;$1&lt;/span&gt;=&lt;span class=&quot;number&quot;&gt;999&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;函数myfun中参数个数\&lt;span class=&quot;variable&quot;&gt;$\&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;#=1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;  $10 不能获取第十个参数，获取第十个参数需要${10}。当n&amp;gt;=10时，需要使用${n}来获取参数。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.runoob.com/linux/linux-shell-variable.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Shell 教程 | 菜鸟教程&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      在linux环境下工作一定会用到shell脚本，来帮助我们执行一些操作来提高我们的工作效率，进行一些简单的机械化的操作，解放自己。
    
    </summary>
    
      <category term="linux" scheme="http://www.chenguangsong.online/categories/linux/"/>
    
    
      <category term="shell,linux" scheme="http://www.chenguangsong.online/tags/shell-linux/"/>
    
  </entry>
  
  <entry>
    <title>linux学习——命令行颜色配置及环境变量配置</title>
    <link href="http://www.chenguangsong.online/2017/03/16/linux%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%A2%9C%E8%89%B2%E9%85%8D%E7%BD%AE%E5%8F%8A%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE/"/>
    <id>http://www.chenguangsong.online/2017/03/16/linux学习——命令行颜色配置及环境变量配置/</id>
    <published>2017-03-16T14:59:12.996Z</published>
    <updated>2017-03-16T14:59:12.874Z</updated>
    
    <content type="html">&lt;h1 id=&quot;具体步骤&quot;&gt;具体步骤&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;编辑更目录下的.bashrc文件配置颜色显示方案&lt;/li&gt;
&lt;li&gt;启用颜色配置方案&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;编辑配色方案&quot;&gt;编辑配色方案&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/menlsh/archive/2012/08/27/2659101.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;修改linux终端命令行颜色&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;启用配色方案&quot;&gt;启用配色方案&lt;/h1&gt;&lt;p&gt;编辑完成后即可执行&lt;code&gt;source ~/.bashrc&lt;/code&gt;启用配色方案，但是一旦你退出命令行之后颜色方案又没有被启用，这时肯定是没有将配色方案放到环境变量中去，需要在&lt;code&gt;~/.bash_profile&lt;/code&gt;中配置，如下：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; [ &lt;span class=&quot;operator&quot;&gt;-f&lt;/span&gt; ~/.bashrc ]; &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;  
. ~/.bashrc  
&lt;span class=&quot;keyword&quot;&gt;fi&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;参考：&lt;a href=&quot;http://www.2cto.com/os/201305/213759.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;.bashrc设置后无效解决&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;环境变量&quot;&gt;环境变量&lt;/h1&gt;&lt;p&gt;/etc/profile，/etc/bashrc 是系统全局环境变量设定&lt;br&gt;~/.profile可以设定本用户专有的路径，环境变量，等，它只能登入的时候执行一次&lt;br&gt;~/.bashrc也是某用户专有设定文档，可以设定路径，命令别名  &lt;/p&gt;
&lt;h2 id=&quot;添加目录到环境变量中&quot;&gt;添加目录到环境变量中&lt;/h2&gt;&lt;p&gt;在&lt;code&gt;~/.bashrc或~/.profile&lt;/code&gt;中加入如下代码  &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;built_in&quot;&gt;PATH&lt;/span&gt;=~/private_shll:$&lt;span class=&quot;built_in&quot;&gt;PATH&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;</content>
    
    <summary type="html">
    
      在linux使用过程中一定会使用到命令行，合理配置命令行中的字符颜色显示对于日常使用十分重要，一个好看的界面还是很重要的，嘿嘿!
    
    </summary>
    
      <category term="linux" scheme="http://www.chenguangsong.online/categories/linux/"/>
    
    
      <category term="linux" scheme="http://www.chenguangsong.online/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>安卓源码学习（2）——内置系统app</title>
    <link href="http://www.chenguangsong.online/2017/03/03/%E5%AE%89%E5%8D%93%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%EF%BC%882%EF%BC%89%E2%80%94%E2%80%94%E5%86%85%E7%BD%AE%E7%B3%BB%E7%BB%9Fapp/"/>
    <id>http://www.chenguangsong.online/2017/03/03/安卓源码学习（2）——内置系统app/</id>
    <published>2017-03-03T03:45:54.000Z</published>
    <updated>2017-03-16T14:59:12.791Z</updated>
    
    <content type="html">&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/suofeng1234/article/details/51801008&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;android预置apk，覆盖原生apk总结 - suofeng的专栏 - 博客频道 - CSDN.NET&lt;/a&gt;  &lt;/p&gt;
&lt;h1 id=&quot;如何将带源码的APK预置进系统？&quot;&gt;如何将带源码的APK预置进系统？&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;在 packages/apps 下面以需要预置的 APK的 名字创建一个新文件夹，以预制一个名为RecordingCar的APK 为例&lt;/li&gt;
&lt;li&gt;将 的Source code 拷贝到 RecordingCar文件夹下，删除 /bin 和 /gen 目录&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在 RecordingCar目录下创建一个名为 Android.mk的文件，内容如下：  &lt;/p&gt;
&lt;figure class=&quot;highlight makefile&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;constant&quot;&gt;OCAL_PATH&lt;/span&gt;:= &lt;span class=&quot;variable&quot;&gt;$(call my-dir)&lt;/span&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;include $(CLEAR_VARS)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;constant&quot;&gt;LOCAL_MODULE_TAGS&lt;/span&gt; := optional&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;constant&quot;&gt;LOCAL_SRC_FILES&lt;/span&gt; := &lt;span class=&quot;variable&quot;&gt;$(call all-java-files-under, src)&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;constant&quot;&gt;LOCAL_PACKAGE_NAME&lt;/span&gt; := Recorderingcar&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;constant&quot;&gt;LOCAL_JAVA_LIBRARIES&lt;/span&gt; := telephony-common   //所需要的库文件，没有的话，可以不写&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;include $(BUILD_PACKAGE)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;mtk打开文件 build/target/product/${Project}.mk （其中 ${Project} 表示工程名）&lt;br&gt;将 Recorderingcar添加到 PRODUCT_PACKAGES 里面。&lt;br&gt;如果是高通平台，可以在device，或者build的mkfile文件加入编译选项。&lt;br&gt;另外一种方法就是mk文件中将LOCAL_MODULE_TAGS 属性值设为:= eng user debug，这样不管编译什么版本，该apk都可以编译进去。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;make　clean 然后重新编译整个工程。&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;如何将无源码的_APK_预置进系统？&quot;&gt;如何将无源码的 APK 预置进系统？&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;在配置文件中，如device/qcom/project下加入3rdApp文件夹，在该文件夹下创建app,lib和Android.mk文件。&lt;/li&gt;
&lt;li&gt;将  Recorderingcar.apk 放到app目录 下面&lt;/li&gt;
&lt;li&gt;将库文件放到lib目录下&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在修改 Android.mk，文件内容如下：&lt;/p&gt;
  &lt;figure class=&quot;highlight elixir&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;constant&quot;&gt;LOCAL_PATH &lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;= &lt;span class=&quot;variable&quot;&gt;$(&lt;/span&gt;call my-dir)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;constant&quot;&gt;CLEAR_VARS)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# Module name should match apk name to be installed&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;constant&quot;&gt;LOCAL_MODULE &lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;= &lt;span class=&quot;constant&quot;&gt;Test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;constant&quot;&gt;LOCAL_MODULE_TAGS &lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;= optional&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;constant&quot;&gt;LOCAL_SRC_FILES &lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;= &lt;span class=&quot;variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;constant&quot;&gt;LOCAL_MODULE)&lt;/span&gt;.apk&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;constant&quot;&gt;LOCAL_MODULE_CLASS &lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;= &lt;span class=&quot;constant&quot;&gt;APPS&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;constant&quot;&gt;LOCAL_MODULE_SUFFIX &lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;= &lt;span class=&quot;variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;constant&quot;&gt;COMMON_ANDROID_PACKAGE_SUFFIX)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;constant&quot;&gt;LOCAL_CERTIFICATE &lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;= &lt;span class=&quot;constant&quot;&gt;PRESIGNED&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;constant&quot;&gt;BUILD_PREBUILT)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ```  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;* 在mk文件中，将lib目录下的库文件copy到system/lib目录下  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    其余的步骤和上面类似。  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    如果预置的同时，要覆盖原生apk，则关于android.mk中的&lt;span class=&quot;constant&quot;&gt;LOCAL_OVERRIDES_PACKAGES需&lt;/span&gt;要说明一下，此变量可以使其他的模块不加入编译，&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    如&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt; 需要预置第三方的&lt;span class=&quot;constant&quot;&gt;Launcher启&lt;/span&gt;动器，则在预置apk的mk文件中加入：&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;  LOCAL_OVERRIDES_PACKAGES := Luancher2&lt;br&gt;  ```&lt;br&gt;  这样系统就不会将原生的Launcher编译进去，当然也可以在mk文件中编译开关中将相应Launcher注释掉。&lt;br&gt;  KK-android4.4版本上应用权限无法获取的问题是预置apk以后发现原因查了下,发现现在增加了一个priv-app的文件夹，对于android:protectionLevel=”signature|system”的权限，并且签名不一致的情况下，建议放在priv-app下面，否则PackageManager 会拒绝分配给你权限。（有兴趣的同学可以参见：PackageManagerService 的 grantSignaturePermission 方法）&lt;br&gt;  加入priv-app方法：在Android.mk中增加 LOCAL_PRIVILEGED_MODULE := true&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      在进行app源码开发的时候经常会遇到需求就是内置系统app，那么如果才能将一个app内置的系统中去呢？
    
    </summary>
    
      <category term="android" scheme="http://www.chenguangsong.online/categories/android/"/>
    
    
      <category term="android源码" scheme="http://www.chenguangsong.online/tags/android%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>设计模式</title>
    <link href="http://www.chenguangsong.online/2017/02/19/%E5%AD%A6%E4%B9%A0%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.chenguangsong.online/2017/02/19/学习设计模式/</id>
    <published>2017-02-19T14:06:23.390Z</published>
    <updated>2017-02-19T14:06:23.390Z</updated>
    
    <content type="html">&lt;h1 id=&quot;设计模式&quot;&gt;设计模式&lt;/h1&gt;&lt;p&gt;本篇基本为自己参考其他博客文章以及自己的一些理解所写，此处保留原文链接。&lt;br&gt;参考博客：&lt;a href=&quot;http://www.cnblogs.com/maowang1991/archive/2013/04/15/3023236.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java开发中的23种设计模式详解&lt;/a&gt;&lt;br&gt;另参考&lt;a href=&quot;http://www.runoob.com/design-pattern/design-pattern-tutorial.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;设计模式——菜鸟教程&lt;/a&gt;  &lt;/p&gt;
&lt;h2 id=&quot;设计模式的分类&quot;&gt;设计模式的分类&lt;/h2&gt;&lt;p&gt;总体来说设计模式分为三大类：&lt;br&gt;创建型模式，共五种：工厂方法模式、抽象工厂模式、单例模式、建造者模式、原型模式。&lt;br&gt;结构型模式，共七种：适配器模式、装饰器模式、代理模式、外观模式、桥接模式、组合模式、享元模式。&lt;br&gt;行为型模式，共十一种：策略模式、模板方法模式、观察者模式、迭代器模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式。  &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://oeb33qix3.bkt.clouddn.com/public/16-11-27/39431889.jpg&quot; alt=&quot;设计模式&quot;&gt;  &lt;/p&gt;
&lt;h2 id=&quot;设计原则&quot;&gt;设计原则&lt;/h2&gt;&lt;p&gt;设计模式的六大原则&lt;br&gt;1、开闭原则（Open Close Principle）&lt;br&gt;开闭原则就是说对&lt;strong&gt;扩展开放&lt;/strong&gt;，对&lt;strong&gt;修改关闭&lt;/strong&gt;。在程序需要进行拓展的时候，不能去修改原有的代码，实现一个热插拔的效果。所以一句话概括就是：为了使程序的扩展性好，易于维护和升级。想要达到这样的效果，我们需要使用接口和抽象类，后面的具体设计中我们会提到这点。&lt;br&gt;2、里氏代换原则（Liskov Substitution Principle）&lt;br&gt;在子类中实现父类的抽象方法&lt;strong&gt;不要覆盖掉父类中已经实现的方法&lt;/strong&gt;，这样会导致父类的方法被重写，之后父类如果做修改会给程序带来隐患。&lt;br&gt;里氏代换原则(Liskov Substitution Principle LSP)面向对象设计的基本原则之一。   里氏代换原则中说，任何基类可以出现的地方，子类一定可以出现。   LSP是继承复用的基石，只有当衍生类可以替换掉基类，软件单位的功能不受到影响时，基类才能真正被复用，而衍生类也能够在基类的基础上增加新的行为。里氏代换原则是对“开-闭”原则的补充。实现“开-闭”原则的关键步骤就是抽象化。而基类与子类的继承关系就是抽象化的具体实现，所以里氏代换原则是对实现抽象化的具体步骤的规范。—— From Baidu 百科&lt;br&gt;3、依赖倒转原则（Dependence Inversion Principle）&lt;br&gt;这个是开闭原则的基础，具体内容：真对接口编程，&lt;strong&gt;依赖于抽象&lt;/strong&gt;而不依赖于具体。&lt;br&gt;4、接口隔离原则（Interface Segregation Principle）&lt;br&gt;这个原则的意思是：使用&lt;strong&gt;多个隔离的接口&lt;/strong&gt;，比使用单个接口要好。还是一个降低类之间的耦合度的意思，从这儿我们看出，其实设计模式就是一个软件的设计思想，从大型软件架构出发，为了升级和维护方便。所以上文中多次出现：降低依赖，降低耦合。&lt;br&gt;5、迪米特法则（最少知道原则）（Demeter Principle）&lt;br&gt;为什么叫最少知道原则，就是说：一个实体应当尽量少的与其他实体之间发生相互作用，使得系统功能&lt;strong&gt;模块相对独立&lt;/strong&gt;。&lt;br&gt;6、合成复用原则（Composite Reuse Principle）&lt;br&gt;原则是尽量使用&lt;strong&gt;合成/聚合&lt;/strong&gt;的方式，而不是使用继承。  &lt;/p&gt;
&lt;h2 id=&quot;介绍下自己对各个模式的理解&quot;&gt;介绍下自己对各个模式的理解&lt;/h2&gt;&lt;h3 id=&quot;创建型模式&quot;&gt;创建型模式&lt;/h3&gt;&lt;h4 id=&quot;工厂模式&quot;&gt;工厂模式&lt;/h4&gt;&lt;p&gt;用于对功能的扩展的场景：就是对需要完成的事情的不同实现，也就是通过工厂用不同的方式去完成同一件事情。如：发送，有两种实现，发送信息，发送邮件，而工厂就会提供这两种不同的方式去完成发送的任务。用于扩展功能的时候只需要添加&lt;strong&gt;&lt;em&gt;不同的实现&lt;/em&gt;&lt;/strong&gt;到工厂类中即可。&lt;br&gt;1、您需要一辆汽车，可以直接从工厂里面提货，而不用去管这辆汽车是怎么做出来的，以及这个汽车里面的具体实现。&lt;br&gt;2、Hibernate 换数据库只需换方言和驱动就可以。  &lt;/p&gt;
&lt;h4 id=&quot;抽象工厂模式&quot;&gt;抽象工厂模式&lt;/h4&gt;&lt;p&gt;及在工厂模式的基础上，创建不同的工厂分别以对应的方式去完成相同的任务。用于扩展功能的时候添加&lt;strong&gt;&lt;em&gt;不同的工厂&lt;/em&gt;&lt;/strong&gt;即可。&lt;br&gt;1、QQ 换皮肤，一整套一起换。&lt;br&gt;2、生成不同操作系统的程序。  &lt;/p&gt;
&lt;h4 id=&quot;单例模式&quot;&gt;单例模式&lt;/h4&gt;&lt;p&gt;使用getInstance()范式避免重复创建对象，在整个程序中只创建单个对象，常用于核心控制类，或存储全局变量的类中。例如安卓中的application类&lt;br&gt;1、一个党只能有一个主席。&lt;br&gt;2、Windows 是多进程多线程的，在操作一个文件的时候，就不可避免地出现多个进程或线程同时操作一个文件的现象，所以所有文件的处理必须通过唯一的实例来进行。&lt;br&gt;3、一些设备管理器常常设计为单例模式，比如一个电脑有两台打印机，在输出的时候就要处理不能两台打印机打印同一个文件。  &lt;/p&gt;
&lt;h4 id=&quot;建造者模式&quot;&gt;建造者模式&lt;/h4&gt;&lt;p&gt;在一个类中包含各种不同的实现方法，例如：sql中的dao类提供了sql数据操作的所需方法。&lt;br&gt;1、肯德基套餐，肯德基就是个建造者，只需要点不同的套餐就会返回不同的组合。&lt;br&gt;与工厂模式对比：&lt;br&gt;工厂模式一个工厂提供对一个事件的一种实现，关注单个事件&lt;br&gt;建造者模式一个建造者返回对一个对象的不同组合实现，关注返回一种对象的组合  &lt;/p&gt;
&lt;h4 id=&quot;原型模式&quot;&gt;原型模式&lt;/h4&gt;&lt;p&gt;原型模式就是对已有对象的复制，实现实现Cloneable接口，需要注意下在复制对象的时候就会涉及到深拷贝与浅拷贝。&lt;br&gt;深拷贝与浅拷贝问题中，会发生深拷贝的有java中的8中基本类型以及他们的封装类型，另外还有String类型。其余的都是浅拷贝。&lt;br&gt;具体查看&lt;a href=&quot;http://cmsblogs.com/?p=367&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;设计模式读书笔记—–原型模式&lt;/a&gt;，个人认为本篇对原型模式的介绍很不错，详细了解还是要靠百度参考多位前辈的博文。&lt;br&gt;应用场景：&lt;br&gt; 1、资源优化场景。&lt;br&gt; 2、类初始化需要消化非常多的资源，这个资源包括数据、硬件资源等。&lt;br&gt; 3、性能和安全要求的场景。&lt;br&gt; 4、通过 new 产生一个对象需要非常繁琐的数据准备或访问权限，则可以使用原型模式。&lt;br&gt; 5、一个对象多个修改者的场景。&lt;br&gt; 6、一个对象需要提供给其他对象访问，而且各个调用者可能都需要修改其值时，可以考虑使用原型模式拷贝多个对象供调用者使用。&lt;br&gt; 7、在实际项目中，原型模式很少单独出现，一般是和工厂方法模式一起出现，通过 clone 的方法创建一个对象，然后由工厂方法提供给调用者。原型模式已经与 Java 融为浑然一体，大家可以随手拿来使用。  &lt;/p&gt;
&lt;h3 id=&quot;结构型模式&quot;&gt;结构型模式&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://oeb33qix3.bkt.clouddn.com/public/16-11-20/47455872.jpg&quot; alt=&quot;image&quot;&gt;   &lt;/p&gt;
&lt;h4 id=&quot;适配器模式&quot;&gt;适配器模式&lt;/h4&gt;&lt;p&gt;改变源的接口，以便于目标接口相容&lt;br&gt;1、类的适配器模式：当希望将一个类转换成满足另一个新接口的类时，可以使用类的适配器模式，创建一个新类，继承原有的类，实现新的接口即可。&lt;br&gt;2、对象的适配器模式：当希望将一个对象转换成满足另一个新接口的对象时，可以创建一个Wrapper类，持有原类的一个实例，在Wrapper类的方法中，调用实例的方法就行。&lt;br&gt;3、接口的适配器模式：当不希望实现一个接口中所有的方法时，可以创建一个抽象类Wrapper，实现所有方法，我们写别的类的时候，继承抽象类即可。  &lt;/p&gt;
&lt;h4 id=&quot;装饰模式&quot;&gt;装饰模式&lt;/h4&gt;&lt;p&gt;装饰模式就是给一个对象增加一些新的功能，而且是动态的，要求装饰对象和被装饰对象实现同一个接口，装饰对象持有被装饰对象的实例，如切面编程在对原有对象进行包装盒修改时。  &lt;/p&gt;
&lt;h4 id=&quot;代理模式&quot;&gt;代理模式&lt;/h4&gt;&lt;p&gt;代理模式就是多一个代理类出来，替原对象进行一些操作。  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;装饰模式和代理模式的差别是什么？&lt;ul&gt;
&lt;li&gt;装饰器模式关注于在一个对象上动态的添加方法&lt;/li&gt;
&lt;li&gt;代理模式关注于控制对对象的访问。代理类（proxy class） 可以对它的客户 隐藏一个对象的具体信息。     &lt;/li&gt;
&lt;li&gt;当使用代理模式的时候，我们常常在一个代理类中 &lt;strong&gt;创建一个对象&lt;/strong&gt;的实例。&lt;/li&gt;
&lt;li&gt;当使用装饰器模式的时候，我们通常的做法是将原始对象作&lt;strong&gt;为一个参数传给装饰者&lt;/strong&gt;的构造器。  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;外观模式&quot;&gt;外观模式&lt;/h4&gt;&lt;p&gt;外观模式就像是对几个对象之间的关系抽离到一个新类中管理，相当于包装组合，是被包装的类与类之间没有关系，达到解耦的目的。&lt;br&gt;如：计算机中的cpu、鼠标、键盘、内存条等部件之间会相互调用但是相互之间并没有直接连线，就是通过主板来将他们整合包装在一起，而每个部件都是相对独立没有关联。  &lt;/p&gt;
&lt;h4 id=&quot;桥接模式&quot;&gt;桥接模式&lt;/h4&gt;&lt;p&gt;桥接模式，将抽象化与实现化解耦，使得二者可以独立变化，就是通过定义接口规范，各自可以采用不同的实现，但是要调用要遵循规范。&lt;br&gt;如：jdbc中连接数据库，只需要切换DriverManager，就能连接不同的数据库。各个数据库提供商也是根据java的jdbc规范来实现对应的方法。&lt;/p&gt;
&lt;h4 id=&quot;组合模式&quot;&gt;组合模式&lt;/h4&gt;&lt;p&gt;将对象组合成树形结构以表示”部分-整体”的层次结构。组合模式使得用户对单个对象和组合对象的使用具有一致性。&lt;br&gt;例如在部门类中持有员工类列表。&lt;/p&gt;
&lt;h4 id=&quot;享元模式&quot;&gt;享元模式&lt;/h4&gt;&lt;p&gt;享元模式的主要目的是实现对象的共享，即共享池，当系统中对象多的时候可以减少内存的开销，通常与工厂模式一起使用。&lt;/p&gt;
&lt;h4 id=&quot;过滤器模式&quot;&gt;过滤器模式&lt;/h4&gt;&lt;p&gt;过滤器模式（Filter Pattern）或标准模式（Criteria Pattern）是一种设计模式，这种模式允许开发人员使用不同的标准来过滤一组对象，通过逻辑运算以解耦的方式把它们连接起来。这种类型的设计模式属于结构型模式，它结合多个标准来获得单一标准。&lt;br&gt;1、需要创建不同的过滤器（实现过滤接口）&lt;br&gt;2、组合不同的过滤器用于筛选对象&lt;br&gt;3、以解耦的方式关联符合标准的对象。  &lt;/p&gt;
&lt;h3 id=&quot;行为型模式&quot;&gt;行为型模式&lt;/h3&gt;&lt;h4 id=&quot;策略模式&quot;&gt;策略模式&lt;/h4&gt;&lt;p&gt;策略模式定义了一系列算法，并将每个算法封装起来，使他们可以相互替换，且算法的变化不会影响到使用算法的客户。需要设计一个接口，为一系列实现类提供统一的方法，多个实现类实现该接口，设计一个抽象类（可有可无，属于辅助类），提供辅助函数  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;策略模式和工厂模式的异同&lt;ul&gt;
&lt;li&gt;从实现模式的类的关系图看结构十分相似：工厂模式，创建一个接口，提供对此接口的不同实现，工厂类决定生产产品的方式与结果；策略模式，创建一个接口，提供对此接口的不同实现，可以在运行时动态更改采用的策略；  &lt;/li&gt;
&lt;li&gt;一个是行为型模式，一个是创建型模式；  &lt;/li&gt;
&lt;li&gt;策略模式关注的是实现的路线不同（去上班，骑自行车去、走路去等方式的不同）；  &lt;/li&gt;
&lt;li&gt;工厂模式关注的是不同结果（出去，去公司、去商场）。  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;模板方法模式&quot;&gt;模板方法模式&lt;/h4&gt;&lt;p&gt;一个抽象类公开定义了执行它的方法的方式/模板。它的子类可以按需要重写方法实现，但调用将以抽象类中定义的方式进行。&lt;/p&gt;
&lt;h4 id=&quot;观察者模式&quot;&gt;观察者模式&lt;/h4&gt;&lt;p&gt;当一个对象变化时，其它依赖该对象的对象都会收到通知，并且随着变化！对象之间是一种一对多的关系&lt;br&gt;被观察的对象有一个通知列表，当被观察的对象发生变化就会对所有的订阅者发送通知。&lt;/p&gt;
&lt;h4 id=&quot;迭代器模式&quot;&gt;迭代器模式&lt;/h4&gt;&lt;p&gt;迭代器模式就是顺序访问聚集中的对象，一是需要遍历的对象，即聚集对象，二是迭代器对象，用于对聚集对象进行遍历访问。&lt;br&gt;就是指iterator与Collection。迭代器持有一个集合对象，并提供方法去操作集合类达到迭代的目的。  &lt;/p&gt;
&lt;h4 id=&quot;责任链模式&quot;&gt;责任链模式&lt;/h4&gt;&lt;p&gt;为请求创建了一个接收者对象的链。这种模式给予请求的类型，对请求的发送者和接收者进行解耦。这种类型的设计模式属于行为型模式。通俗的降就是层级处理事件，比如请假、员工向公司领导请假，根据天数的不同需要不同级别的领导来处理决定，事件的处理责任就形成了链式的流动关系。&lt;br&gt;在我们程序中也有用的到，比如在java web中就有事件多级截形成责任链、 在android中对Touch事件的分发就是一个责任链的过程  &lt;/p&gt;
&lt;h4 id=&quot;命令模式&quot;&gt;命令模式&lt;/h4&gt;&lt;p&gt;命令、老板、员工三者相互解耦，任何一方都不用去依赖其他人，只需要做好自己的事儿就行。&lt;br&gt;命令模式顾名思义、就是指挥者发送指令，操作者去执行。&lt;br&gt;在我们的代码中的引用十分广泛、如：struts中就通过url对应方法与页面、android中handler中的message指令、等&lt;/p&gt;
&lt;h4 id=&quot;备忘录模式&quot;&gt;备忘录模式&lt;/h4&gt;&lt;p&gt;备忘录模式就是一种备份的机制、在程序运行是对一些数据进行备份，在需要的时候可以回复。&lt;br&gt;如在android中的Bundle savedInstanceState、用于存储acitvity的运行状态。&lt;/p&gt;
&lt;h4 id=&quot;状态模式&quot;&gt;状态模式&lt;/h4&gt;&lt;p&gt;顾名思义、就是设置状态值、用于表示对象的当前状态。&lt;br&gt;如，用户的状态、在线、离线、无效、隐身。&lt;/p&gt;
&lt;h4 id=&quot;空对象模式&quot;&gt;空对象模式&lt;/h4&gt;&lt;p&gt;在空对象模式（Null Object Pattern）中，一个空对象取代 NULL 对象实例的检查。Null 对象不是检查空值，而是反应一个不做任何动作的关系。这样的 Null 对象也可以在数据不可用的时候提供默认的行为。&lt;br&gt;空对象模式，个人觉得应该是叫默认值模式，就是为了避免程序出错而给异常数据一个默认对象。  &lt;/p&gt;
&lt;h4 id=&quot;访问者模式&quot;&gt;访问者模式&lt;/h4&gt;&lt;p&gt;访问者模式把数据结构和作用于结构上的操作解耦合，使得操作集合可相对自由地演化。访问者模式适用于数据结构相对稳定算法又易变化的系统。因为访问者模式使得算法操作增加变得容易。若系统数据结构对象易于变化，经常有新的数据对象增加进来，则不适合使用访问者模式。访问者模式的优点是增加操作很容易，因为增加操作意味着增加新的访问者。访问者模式将有关行为集中到一个访问者对象中，其改变不影响系统数据结构。其缺点就是增加新的数据结构很困难。—— From 百科&lt;br&gt;适用于先对稳定的系统或数据结构中、将算法及操作分离到访问者中去执行。&lt;br&gt;被访问者需要开方接口给访问者，而当并向访问者提供一个被访问者的实例这样访问者就可以调用被访问者的数据了。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Visitor&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;visit&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Subject sub)&lt;/span&gt;&lt;/span&gt;;
}
&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MyVisitor&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Visitor&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;visit&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Subject sub)&lt;/span&gt; &lt;/span&gt;{
        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;visit the subject：&quot;&lt;/span&gt;+sub.getSubject());
    }
}
&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Subject&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Visitor visitor)&lt;/span&gt;&lt;/span&gt;;
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getSubject&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;
}
&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MySubject&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Subject&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Visitor visitor)&lt;/span&gt; &lt;/span&gt;{&lt;span class=&quot;comment&quot;&gt;//被访问者提供接口，接入访问者&lt;/span&gt;
        visitor.visit(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//访问者获得宿主的一个实例，之后就能得到宿主的所有数据及操作。&lt;/span&gt;
    }
    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getSubject&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;love&quot;&lt;/span&gt;;
    }
}
&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Test&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;{
        Visitor visitor = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; MyVisitor();
        Subject sub = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; MySubject();
        sub.accept(visitor);    
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;摘自：&lt;a href=&quot;http://blog.csdn.net/zhangerqing/article/details/8245537&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java之美[从菜鸟到高手演变]之设计模式四&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;中介者模式&quot;&gt;中介者模式&lt;/h4&gt;&lt;p&gt;为了解耦将多个关联的对象的关系放到中介者中去维护。&lt;br&gt;这样做的好处是，原本多对象需要互相持有一个对象来维持他们的关系，现在只需要将所有对象持有一个中介者，而中介者则持有这些关联的对象。&lt;/p&gt;
&lt;h4 id=&quot;解释器模式&quot;&gt;解释器模式&lt;/h4&gt;&lt;p&gt;解释器就是针对一个指令进行解释执行的。具体项目应用中使用较少。解释器需要根据上下文进行解析。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Expression&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;interpret&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt;&lt;/span&gt;;
}

&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Plus&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Expression&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;interpret&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; context.getNum1()+context.getNum2();
    }
}

&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Minus&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Expression&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;interpret&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; context.getNum1()-context.getNum2();
    }
}

&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Context&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; num1;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; num2;
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Context&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; num1, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; num2)&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.num1 = num1;
        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.num2 = num2;
    }
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getNum1&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; num1;
    }
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setNum1&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; num1)&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.num1 = num1;
    }
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getNum2&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; num2;
    }
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setNum2&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; num2)&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.num2 = num2;
    }
}

&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Test&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;comment&quot;&gt;// 计算9+2-8的值&lt;/span&gt;
        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; result = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Minus().interpret((&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Context(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Plus()
                .interpret(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Context(&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;)), &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;)));
        System.out.println(result);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;分层模式&quot;&gt;分层模式&lt;/h3&gt;&lt;h4 id=&quot;MVC模式&quot;&gt;MVC模式&lt;/h4&gt;&lt;p&gt;MVC 模式代表 Model-View-Controller（模型-视图-控制器） 模式。这种模式用于应用程序的分层开发。  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Model（模型） - 模型代表一个存取数据的对象或 JAVA POJO。它也可以带有逻辑，在数据变化时更新控制器。  &lt;/li&gt;
&lt;li&gt;View（视图） - 视图代表模型包含的数据的可视化。  &lt;/li&gt;
&lt;li&gt;Controller（控制器） - 控制器作用于模型和视图上。它控制数据流向模型对象，并在数据变化时更新视图。它使视图与模型分离开。  &lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;业务代表模式&quot;&gt;业务代表模式&lt;/h4&gt;&lt;p&gt;业务代表模式（Business Delegate Pattern）用于对表示层和业务层解耦。它基本上是用来减少通信或对表示层代码中的业务层代码的远程查询功能。在业务层中我们有以下实体。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;客户端（Client） - 表示层代码可以是 JSP、servlet 或 UI java 代码。&lt;/li&gt;
&lt;li&gt;业务代表（Business Delegate） - 一个为客户端实体提供的入口类，它提供了对业务服务方法的访问。&lt;/li&gt;
&lt;li&gt;查询服务（LookUp Service） - 查找服务对象负责获取相关的业务实现，并提供业务对象对业务代表对象的访问。&lt;/li&gt;
&lt;li&gt;业务服务（Business Service） - 业务服务接口。实现了该业务服务的实体类，提供了实际的业务实现逻辑。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;组合实体模式&quot;&gt;组合实体模式&lt;/h4&gt;&lt;p&gt;组合实体模式（Composite Entity Pattern）用在 EJB 持久化机制中。一个组合实体是一个 EJB 实体 bean，代表了对象的图解。当更新一个组合实体时，内部依赖对象 beans 会自动更新，因为它们是由 EJB 实体 bean 管理的。以下是组合实体 bean 的参与者。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;组合实体（Composite Entity） - 它是主要的实体 bean。它可以是粗粒的，或者可以包含一个粗粒度对象，用于持续生命周期。&lt;/li&gt;
&lt;li&gt;粗粒度对象（Coarse-Grained Object） - 该对象包含以来对象。它有自己的生命周期，也能管理依赖对象的生命周期。&lt;/li&gt;
&lt;li&gt;依赖对象（Dependent Object） - 依赖对象是一个持续生命周期依赖于粗粒度对象的对象。&lt;/li&gt;
&lt;li&gt;策略（Strategies） - 策略表示如何实现组合实体。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;数据访问对象模式&quot;&gt;数据访问对象模式&lt;/h4&gt;&lt;p&gt;数据访问对象模式（Data Access Object Pattern）或 DAO 模式用于把低级的数据访问 API 或操作从高级的业务服务中分离出来。以下是数据访问对象模式的参与者。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;数据访问对象接口（Data Access Object Interface） - 该接口定义了在一个模型对象上要执行的标准操作。&lt;/li&gt;
&lt;li&gt;数据访问对象实体类（Data Access Object concrete class） - 该类实现了上述的接口。该类负责从数据源获取数据，数据源可以是数据库，也可以是 xml，或者是其他的存储机制。&lt;/li&gt;
&lt;li&gt;模型对象/数值对象（Model Object/Value Object） - 该对象是简单的 POJO，包含了 get/set 方法来存储通过使用 DAO 类检索到的数据。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;前端控制器模式&quot;&gt;前端控制器模式&lt;/h4&gt;&lt;p&gt;前端控制器模式（Front Controller Pattern）是用来提供一个集中的请求处理机制，所有的请求都将由一个单一的处理程序处理。该处理程序可以做认证/授权/记录日志，或者跟踪请求，然后把请求传给相应的处理程序。以下是这种设计模式的实体。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;前端控制器（Front Controller） - 处理应用程序所有类型请求的单个处理程序，应用程序可以是基于 web 的应用程序，也可以是基于桌面的应用程序。&lt;/li&gt;
&lt;li&gt;调度器（Dispatcher） - 前端控制器可能使用一个调度器对象来调度请求到相应的具体处理程序。&lt;/li&gt;
&lt;li&gt;视图（View） - 视图是为请求而创建的对象。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;拦截过滤器模式&quot;&gt;拦截过滤器模式&lt;/h4&gt;&lt;p&gt;拦截过滤器模式（Intercepting Filter Pattern）用于对应用程序的请求或响应做一些预处理/后处理。定义过滤器，并在把请求传给实际目标应用程序之前应用在请求上。过滤器可以做认证/授权/记录日志，或者跟踪请求，然后把请求传给相应的处理程序。以下是这种设计模式的实体。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;过滤器（Filter） - 过滤器在请求处理程序执行请求之前或之后，执行某些任务。&lt;/li&gt;
&lt;li&gt;过滤器链（Filter Chain） - 过滤器链带有多个过滤器，并在 Target 上按照定义的顺序执行这些过滤器。&lt;/li&gt;
&lt;li&gt;Target - Target 对象是请求处理程序。&lt;/li&gt;
&lt;li&gt;过滤管理器（Filter Manager） - 过滤管理器管理过滤器和过滤器链。&lt;/li&gt;
&lt;li&gt;客户端（Client） - Client 是向 Target 对象发送请求的对象。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;服务定位器模式&quot;&gt;服务定位器模式&lt;/h4&gt;&lt;p&gt;服务定位器模式（Service Locator Pattern）用在我们想使用 JNDI 查询定位各种服务的时候。考虑到为某个服务查找 JNDI 的代价很高，服务定位器模式充分利用了缓存技术。在首次请求某个服务时，服务定位器在 JNDI 中查找服务，并缓存该服务对象。当再次请求相同的服务时，服务定位器会在它的缓存中查找，这样可以在很大程度上提高应用程序的性能。以下是这种设计模式的实体。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;服务（Service） - 实际处理请求的服务。对这种服务的引用可以在 JNDI 服务器中查找到。&lt;/li&gt;
&lt;li&gt;Context / 初始的 Context - JNDI Context 带有对要查找的服务的引用。&lt;/li&gt;
&lt;li&gt;服务定位器（Service Locator） - 服务定位器是通过 JNDI 查找和缓存服务来获取服务的单点接触。&lt;/li&gt;
&lt;li&gt;缓存（Cache） - 缓存存储服务的引用，以便复用它们。&lt;/li&gt;
&lt;li&gt;客户端（Client） - Client 是通过 ServiceLocator 调用服务的对象。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;传输对象模式&quot;&gt;传输对象模式&lt;/h4&gt;&lt;p&gt;传输对象模式（Transfer Object Pattern）用于从客户端向服务器一次性传递带有多个属性的数据。传输对象也被称为数值对象。传输对象是一个具有 getter/setter 方法的简单的 POJO 类，它是可序列化的，所以它可以通过网络传输。它没有任何的行为。服务器端的业务类通常从数据库读取数据，然后填充 POJO，并把它发送到客户端或按值传递它。对于客户端，传输对象是只读的。客户端可以创建自己的传输对象，并把它传递给服务器，以便一次性更新数据库中的数值。以下是这种设计模式的实体。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;业务对象（Business Object） - 为传输对象填充数据的业务服务。&lt;/li&gt;
&lt;li&gt;传输对象（Transfer Object） - 简单的 POJO，只有设置/获取属性的方法。&lt;/li&gt;
&lt;li&gt;客户端（Client） - 客户端可以发送请求或者发送传输对象到业务对象。&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      设计模式（Design pattern）是一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结。使用设计模式是为了可重用代码、让代码更容易被他人理解、保证代码可靠性。
    
    </summary>
    
      <category term="设计模式" scheme="http://www.chenguangsong.online/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    
      <category term="设计模式" scheme="http://www.chenguangsong.online/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>使用selenium+python自动化操作浏览器</title>
    <link href="http://www.chenguangsong.online/2017/02/19/%E4%BD%BF%E7%94%A8selenium+python%E8%87%AA%E5%8A%A8%E5%8C%96%E6%93%8D%E4%BD%9C%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    <id>http://www.chenguangsong.online/2017/02/19/使用selenium+python自动化操作浏览器/</id>
    <published>2017-02-19T13:57:37.649Z</published>
    <updated>2017-02-19T13:57:37.649Z</updated>
    
    <content type="html">&lt;h1 id=&quot;了解selenium&quot;&gt;了解selenium&lt;/h1&gt;&lt;p&gt;Selenium 是ThoughtWorks专门为Web应用程序编写的一个验收测试工具。也就是会自动操作浏览器去访问网页，并能获取页面上的数据。&lt;br&gt;&lt;a href=&quot;http://www.seleniumhq.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Selenium官网&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.yiibai.com/selenium/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Selenium教程&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.51testing.com/zhuanti/selenium.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;功能自动化测试工具——Selenium篇&lt;/a&gt;  &lt;/p&gt;
&lt;h1 id=&quot;环境搭建&quot;&gt;环境搭建&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;安装python2.7  &lt;/li&gt;
&lt;li&gt;安装谷歌浏览器及谷歌浏览器驱动（也可以是&lt;a href=&quot;http://www.seleniumhq.org/projects/webdriver/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;其他浏览器&lt;/a&gt;）  &lt;/li&gt;
&lt;li&gt;配置环境变量  &lt;ul&gt;
&lt;li&gt;x:\Python27;  &lt;/li&gt;
&lt;li&gt;x:\Python27\Scripts;  &lt;/li&gt;
&lt;li&gt;x:\Program Files (x86)\Google\Chrome\Application;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;安装pip 执行easy_install pip 在线安装&lt;/li&gt;
&lt;li&gt;安装selenium for python，执行pip install selenium  &lt;/li&gt;
&lt;li&gt;测试一段程序，调用浏览器驱动启动浏览器&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;from selenium import webdriver&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import &lt;span class=&quot;tag&quot;&gt;time&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    b=webdriver.&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;Chrome&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;b&lt;/span&gt;.&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;string&quot;&gt;&#39;http://www.baidu.com&#39;&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;time&lt;/span&gt;.&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;b&lt;/span&gt;.&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;quit&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; __name__ == &lt;span class=&quot;string&quot;&gt;&#39;__main__&#39;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;自动执行动作&quot;&gt;自动执行动作&lt;/h1&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;动作&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;代码&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;打开浏览器&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;b=webdriver.Chrome()&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;打开网址&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;b.get(‘&lt;a href=&quot;http://www.baidu.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.baidu.com&lt;/a&gt;‘)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;最大化浏览器&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;self.browser.maximize_window()&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;关闭浏览器&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;self.browser.quit()&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;等待浏览器响应，直到对应element出现&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;WebDriverWait(self.browser,1000).until(EC.visibility_of_element_located((By.NAME,’username’)))&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;在输入框输入数据&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;self.browser.find_element_by_name(‘username’).send_keys(userName)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;浏览器显示页面停留到对应element所在处&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;self.browser.find_element_by_id(‘main_menu_dashboard’).location_once_scrolled_into_view&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;获得数据&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;value=self.browser.find_element_by_id(‘option_1’).get_attribute(‘value’)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;点击动作&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;self.browser.find_element_by_id(‘button’).click()&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;有时click命令不能找到element时可以尝试用script来执行click动作  &lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;tmp=self&lt;span class=&quot;class&quot;&gt;.browser&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.find_element_by_xpath&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;//option[@value=&#39;25&#39;]&quot;&lt;/span&gt;)  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;self&lt;span class=&quot;class&quot;&gt;.browser&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.execute_script&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;$(arguments[0]).click()&#39;&lt;/span&gt;,tmp)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;定位页面元素——xpath&quot;&gt;定位页面元素——xpath&lt;/h1&gt;&lt;p&gt;在执行完动作后打开了我们需要的页面，我们就需要获取页面上的元素，这时就要定位到页面的元素，熟悉css的同学就知道了element元素，可以像css类似的方式定位，也可以使用xpath去定位。  &lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.w3school.com.cn/xpath/index.asp&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;xpath教程&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      自动化操作浏览器，在需要经常操作浏览器查询数据，可以通过selenium+python写一个脚本自动运行操作浏览器获取网页上的数据。
    
    </summary>
    
      <category term="python" scheme="http://www.chenguangsong.online/categories/python/"/>
    
    
      <category term="selenium" scheme="http://www.chenguangsong.online/tags/selenium/"/>
    
  </entry>
  
  <entry>
    <title>Android学习笔记（11）——RecyclerView</title>
    <link href="http://www.chenguangsong.online/2016/11/02/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%8811%EF%BC%89%E2%80%94%E2%80%94RecyclerView/"/>
    <id>http://www.chenguangsong.online/2016/11/02/Android学习笔记（11）——RecyclerView/</id>
    <published>2016-11-02T08:18:39.000Z</published>
    <updated>2016-11-02T14:28:23.994Z</updated>
    
    <content type="html">&lt;h2 id=&quot;为什么recyclerview是一个容器&quot;&gt;为什么recyclerview是一个容器&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;可以自定义显示的位置——layoutmanager&lt;/li&gt;
&lt;li&gt;可以自定义的item之间分隔——ItemDecoration&lt;/li&gt;
&lt;li&gt;可以自定义增删动画——ItemAnimator&lt;/li&gt;
&lt;li&gt;仅仅控制item的回收与复用——adapter针对的不是view而是ViewHolder&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;那recyclerview到底是什么样子呢&quot;&gt;那recyclerview到底是什么样子呢&lt;/h2&gt;&lt;p&gt;既可以实现ListView也可以实现GridView，还能实现瀑布流。&lt;br&gt;是不是感觉很神奇\^_^   &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://oeb33qix3.bkt.clouddn.com/16-10-10/23778082.jpg&quot; alt=&quot;image&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://oeb33qix3.bkt.clouddn.com/16-10-10/23593608.jpg&quot; alt=&quot;image&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://oeb33qix3.bkt.clouddn.com/16-10-10/88905249.jpg&quot; alt=&quot;image&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://oeb33qix3.bkt.clouddn.com/16-10-9/17122114.jpg&quot; alt=&quot;image&quot;&gt;  &lt;/p&gt;
&lt;h2 id=&quot;如何实现recyclerview&quot;&gt;如何实现recyclerview&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;首先需要导入v7的recyclerview的资源包&lt;/li&gt;
&lt;li&gt;在layout文件中放置recyclerview&lt;/li&gt;
&lt;li&gt;在activity中配置recycleview&lt;ul&gt;
&lt;li&gt;layoutmanager&lt;/li&gt;
&lt;li&gt;ItemDecoration&lt;/li&gt;
&lt;li&gt;ItemAnimator&lt;/li&gt;
&lt;li&gt;adapter&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;上代码&quot;&gt;上代码&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bundle savedInstanceState)&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    initData();&lt;span class=&quot;comment&quot;&gt;//初始化数据&lt;/span&gt;
    recyclerView= (RecyclerView) findViewById(R.id.myRecyclerView);&lt;span class=&quot;comment&quot;&gt;//绑定recyclerview&lt;/span&gt;
    &lt;span class=&quot;comment&quot;&gt;//recyclerView.setLayoutManager(new LinearLayoutManager(this));//按类似listview的方式展示数据&lt;/span&gt;
    &lt;span class=&quot;comment&quot;&gt;//recyclerView.setLayoutManager(new GridLayoutManager(this,4));//按类似GridVIew的方式展示数据&lt;/span&gt;
    recyclerView.setLayoutManager(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; StaggeredGridLayoutManager(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,
            StaggeredGridLayoutManager.VERTICAL));&lt;span class=&quot;comment&quot;&gt;//按瀑布流的方式展示数据&lt;/span&gt;
    recyclerAdapter=&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; RecyclerAdapter();
    recyclerView.setAdapter(recyclerAdapter);&lt;span class=&quot;comment&quot;&gt;//绑定数据填充器&lt;/span&gt;
    recyclerView.setItemAnimator(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; DefaultItemAnimator());&lt;span class=&quot;comment&quot;&gt;//设置添加删除动画效果&lt;/span&gt;
    &lt;span class=&quot;comment&quot;&gt;//recyclerView.addItemDecoration(new DividerItemDecoration(this,DividerItemDecoration.VERTICAL_LIST));//设置listview形式的边框&lt;/span&gt;
    &lt;span class=&quot;comment&quot;&gt;//recyclerView.addItemDecoration(new DividerGridItemDecoration(this));//设置gridView形式的边框&lt;/span&gt;
}


&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;RecyclerAdapter&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;RecyclerView&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;Adapter&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;RecyclerAdapter&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;MyViewHolder&lt;/span&gt;&amp;gt;&lt;/span&gt;{
    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; MyViewHolder &lt;span class=&quot;title&quot;&gt;onCreateViewHolder&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ViewGroup parent, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; viewType)&lt;/span&gt; &lt;/span&gt;{
        MyViewHolder holder = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; MyViewHolder(LayoutInflater.from(
                MainActivity.&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;).inflate(R.layout.item_recycler, parent,
                &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;));
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; holder;
    }
    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onBindViewHolder&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(MyViewHolder holder, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; position)&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;comment&quot;&gt;//holder.text_recy.setHeight();&lt;/span&gt;
        holder.text_recy.setText(dataList.get(position));
        holder.text_recy.getLayoutParams().height=dataHeight.get(position);
    }
    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getItemCount&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; dataList.size();
    }
    &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MyViewHolder&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;RecyclerView&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;ViewHolder&lt;/span&gt; &lt;/span&gt;{
        TextView text_recy;
        &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MyViewHolder&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View itemView)&lt;/span&gt; &lt;/span&gt;{
            &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(itemView);
            text_recy= (TextView) itemView.findViewById(R.id.text_recy);
        }
    }
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;addData&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; position)&lt;/span&gt;&lt;/span&gt;{
        dataList.add(position,&lt;span class=&quot;string&quot;&gt;&quot;inset&quot;&lt;/span&gt;);
        dataHeight.add(position,(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;)(Math.random()*&lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;)+&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//添加子模块设置随机高度，实现瀑布流效果&lt;/span&gt;
        notifyItemInserted(position);
    }
    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;delData&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; position)&lt;/span&gt;&lt;/span&gt;{
        dataList.remove(position);
        dataHeight.remove(position);&lt;span class=&quot;comment&quot;&gt;//维护每个子模块的高度，避免重新加载时修改了高度&lt;/span&gt;
        notifyItemRemoved(position);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;参考文章&quot;&gt;参考文章&lt;/h2&gt;&lt;p&gt;最后附上hongyang大神的链接：&lt;a href=&quot;http://blog.csdn.net/lmj623565791/article/details/45059587&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android RecyclerView 使用完全解析 体验艺术般的控件&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      recyclerview是android的v7包中的一个组件，相当于一个容器。
    
    </summary>
    
      <category term="android" scheme="http://www.chenguangsong.online/categories/android/"/>
    
    
      <category term="android" scheme="http://www.chenguangsong.online/tags/android/"/>
    
  </entry>
  
  <entry>
    <title>Android源码学习——Android L中系统设置的搜索功能</title>
    <link href="http://www.chenguangsong.online/2016/08/14/Android%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94Android%20L%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE%E4%B8%AD%E7%9A%84%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/"/>
    <id>http://www.chenguangsong.online/2016/08/14/Android源码学习——Android L系统设置中的搜索功能/</id>
    <published>2016-08-14T08:18:39.000Z</published>
    <updated>2016-09-04T14:36:26.762Z</updated>
    
    <content type="html">&lt;p&gt;本文参考文章:&lt;a href=&quot;http://www.gimoo.net/t/1604/5722e52a8cf7a.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;android5.0系统设置搜索功能简析&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;目的及问题由来&quot;&gt;目的及问题由来&lt;/h1&gt;&lt;p&gt;前几天在rendmine上收到一个bug任务，在系统设置中搜索，搜索不到“触碰付款”这一项。&lt;br&gt;于是需要查看设置中搜索这部分功能并进行修改解决这个bug。  &lt;/p&gt;
&lt;h1 id=&quot;找到问题代码位置&quot;&gt;找到问题代码位置&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;regexp&quot;&gt;/apps/&lt;/span&gt;Settings&lt;span class=&quot;regexp&quot;&gt;/src/&lt;/span&gt;com&lt;span class=&quot;regexp&quot;&gt;/android/&lt;/span&gt;settings&lt;span class=&quot;regexp&quot;&gt;/search/I&lt;/span&gt;ndexDateBaseHelper.java
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;查看部分代码对问题进行分析&quot;&gt;查看部分代码对问题进行分析&lt;/h1&gt;&lt;p&gt;发现这部分功能是通过将数据初始化到数据库文件中，在&lt;code&gt;date/date/com.android.setings/datebases/search_index.db&lt;/code&gt;我们可以导出手机中的数据库文件进行查看，可以发现确实缺少了我们需要的“触碰付款”。&lt;/p&gt;
&lt;h1 id=&quot;找到数据库初始化代码的位置&quot;&gt;找到数据库初始化代码的位置&lt;/h1&gt;&lt;p&gt;我们可以发现系统设置对数据项的构建是在&lt;code&gt;searchIndexableResources&lt;/code&gt;类中。&lt;br&gt;对照此类中的其他搜索项的加载方式，例如“wifi设置”和“wifi高级项”  &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sResMap.put(WifiSettings.&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;.getName(),                
    &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SearchIndexableResource(                        
    Ranking.getRankForClassName(WifiSettings.&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;.getName()),&lt;span class=&quot;comment&quot;&gt;//需要在Ranking类中添加对应的项                        &lt;/span&gt;
    NO_DATA_RES_ID,                        
    WifiSettings.&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;.getName(),                        
    R.drawable.ic_settings_wireless));
sResMap.put(AdvancedWifiSettings.&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;.getName(),                
    &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SearchIndexableResource(                        
    Ranking.getRankForClassName(AdvancedWifiSettings.&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;.getName()),                        
    R.xml.wifi_advanced_settings,                        
    AdvancedWifiSettings.&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;.getName(),                        
    R.drawable.ic_settings_wireless)
);
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;加载需要解析的xml文件的搜索项&quot;&gt;加载需要解析的xml文件的搜索项&lt;/h1&gt;&lt;p&gt;我们发现连段代码有一点轻微的差别，“NO_DATA_RES_ID”表示此搜索项匹配没有需要解析的xml文件，“R.xml.wifi_advanced_settings”表示需要加载和解析对应的xml文件中的title，只要搜索对应的title机会将链接到此xml的界面，此xml的解析在&lt;code&gt;Index.java&lt;/code&gt;中&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!nodeName.equals(NODE_NAME_CHECK_BOX_PREFERENCE)) {
  summary = getDataSummary(context, attrs);
  &lt;span class=&quot;keyword&quot;&gt;String&lt;/span&gt; entries = &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;
    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (nodeName.endsWith(NODE_NAME_LIST_PREFERENCE)) {
    entries = getDataEntries(context, attrs);
    }
  &lt;span class=&quot;comment&quot;&gt;// Insert rows for the child nodes of PreferenceScreen&lt;/span&gt;
  updateOneRowWithFilteredData(database, localeStr, title, summary, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;, entries,
  fragmentName, screenTitle, iconResId, rank,
  keywords, intentAction, intentTargetPackage, intentTargetClass,
  &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;variable&quot;&gt;key&lt;/span&gt;, -&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;/* default user id */&lt;/span&gt;);
} &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; {
    &lt;span class=&quot;keyword&quot;&gt;String&lt;/span&gt; summaryOn = getDataSummaryOn(context, attrs);
    &lt;span class=&quot;keyword&quot;&gt;String&lt;/span&gt; summaryOff = getDataSummaryOff(context, attrs);
      &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (TextUtils.isEmpty(summaryOn) &amp;amp;&amp;amp; TextUtils.isEmpty(summaryOff)) {
        summaryOn = getDataSummary(context, attrs);
      }
    updateOneRowWithFilteredData(database, localeStr, title, summaryOn, summaryOff,
    &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;, fragmentName, screenTitle, iconResId, rank,
    keywords, intentAction, intentTargetPackage, intentTargetClass,
    &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;variable&quot;&gt;key&lt;/span&gt;, -&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;/* default user id */&lt;/span&gt;);
}
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;加载NO_DATA_RES_ID的搜索项&quot;&gt;加载NO_DATA_RES_ID的搜索项&lt;/h1&gt;&lt;p&gt;对于没有xml的“NO_DATA_RES_ID”那么就需要其会使其类中实现（implement）Indexable并在其类中定义名称为：SEARCH_INDEX_DATA_PROVIDER的SearchIndexProvider，在其中会定义加载那些设置项。&lt;/p&gt;
&lt;h1 id=&quot;注意&quot;&gt;注意&lt;/h1&gt;&lt;p&gt;在调试阶段由于这段代码是在数据库初始化的时候执行的，所以我们调试代码的时候请将数据库的版本号&lt;code&gt;+1&lt;/code&gt;，这样数据库就会重新构建我们添加或修改的代码才会被执行。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      在Android L中的系统设置的搜索功能解析，了解系统如何实现都应用中搜索选项功能的实现方法。
    
    </summary>
    
      <category term="android源码" scheme="http://www.chenguangsong.online/categories/android%E6%BA%90%E7%A0%81/"/>
    
    
      <category term="android源码" scheme="http://www.chenguangsong.online/tags/android%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>Java学习笔记(1)——解析json</title>
    <link href="http://www.chenguangsong.online/2016/08/12/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%881%EF%BC%89%E2%80%94%E2%80%94%E8%A7%A3%E6%9E%90json/"/>
    <id>http://www.chenguangsong.online/2016/08/12/Java学习笔记（1）——解析json/</id>
    <published>2016-08-12T09:18:39.000Z</published>
    <updated>2016-09-04T14:40:36.466Z</updated>
    
    <content type="html">&lt;p&gt;参看文章:&lt;a href=&quot;http://www.cnblogs.com/pen-ink/archive/2011/10/06/2199715.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;解析json&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.bejson.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;在线JSON校验格式化工具（Be JSON）&lt;/a&gt;&lt;br&gt;在android中默认自带了JSONObject和JSONArray解析json数据  &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{
    &quot;&lt;span class=&quot;attribute&quot;&gt;students&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;[
        {
            &quot;&lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;Jack&quot;&lt;/span&gt;&lt;/span&gt;,
            &quot;&lt;span class=&quot;attribute&quot;&gt;age&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;
        &lt;/span&gt;},
        {
            &quot;&lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;Vista&quot;&lt;/span&gt;&lt;/span&gt;,
            &quot;&lt;span class=&quot;attribute&quot;&gt;age&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;number&quot;&gt;23&lt;/span&gt;
        &lt;/span&gt;},
        {
            &quot;&lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;Kaka&quot;&lt;/span&gt;&lt;/span&gt;,
            &quot;&lt;span class=&quot;attribute&quot;&gt;age&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;number&quot;&gt;22&lt;/span&gt;
        &lt;/span&gt;},
        {
            &quot;&lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;Hony&quot;&lt;/span&gt;&lt;/span&gt;,
            &quot;&lt;span class=&quot;attribute&quot;&gt;age&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;number&quot;&gt;31&lt;/span&gt;
        &lt;/span&gt;}
    ]
&lt;/span&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;一个大括号包含的是一个JsonObject，一个中括号表示一个JsonArray，通过JsonObject.get(“students”);获得name为students的对象（此对象是一个JsonArray）。再遍历这个JsonArray获得其中的JsonObject（此Object有2个成员变量分别叫“name”和“age”）。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;type&quot;&gt;String&lt;/span&gt; strJson = &lt;span class=&quot;string&quot;&gt;&quot;{\&quot;students\&quot;:[{\&quot;name\&quot;:\&quot;Jack\&quot;,\&quot;age\&quot;:12}, {\&quot;name\&quot;:\&quot;Vista\&quot;,\&quot;age\&quot;:23}, {\&quot;name\&quot;:\&quot;Kaka\&quot;,\&quot;age\&quot;:22}, {\&quot;name\&quot;:\&quot;Hony\&quot;,\&quot;age\&quot;:31}]}&quot;&lt;/span&gt;;
    &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; {
        &lt;span class=&quot;type&quot;&gt;JSONObject&lt;/span&gt; jo = new &lt;span class=&quot;type&quot;&gt;JSONObject&lt;/span&gt;(strJson);
        &lt;span class=&quot;type&quot;&gt;JSONArray&lt;/span&gt; jsonArray = (&lt;span class=&quot;type&quot;&gt;JSONArray&lt;/span&gt;) jo.get(&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;);
        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; jsonArray.length(); ++i) {
            &lt;span class=&quot;type&quot;&gt;JSONObject&lt;/span&gt; o = (&lt;span class=&quot;type&quot;&gt;JSONObject&lt;/span&gt;) jsonArray.get(i);
            &lt;span class=&quot;type&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;string&quot;&gt;&quot;name:&quot;&lt;/span&gt; + o.getString(&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;) + &lt;span class=&quot;string&quot;&gt;&quot;,&quot;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&quot;age:&quot;&lt;/span&gt;
                    + o.getInt(&lt;span class=&quot;string&quot;&gt;&quot;age&quot;&lt;/span&gt;));
        }
    } catch (&lt;span class=&quot;type&quot;&gt;JSONException&lt;/span&gt; e) {
        e.printStackTrace();
    }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;使用Gson解析json&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; {
        &lt;span class=&quot;type&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;string&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;{\&quot;class\&quot;:1, \&quot;students\&quot;:[{\&quot;name\&quot;:\&quot;jack\&quot;, \&quot;age\&quot;:21},{\&quot;name\&quot;:\&quot;kaka\&quot;, \&quot;age\&quot;:21},{\&quot;name\&quot;:\&quot;lucy\&quot;, \&quot;age\&quot;:21}]}&quot;&lt;/span&gt;;
        &lt;span class=&quot;type&quot;&gt;StringReader&lt;/span&gt; sr = new &lt;span class=&quot;type&quot;&gt;StringReader&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;string&lt;/span&gt;);
        &lt;span class=&quot;type&quot;&gt;JsonReader&lt;/span&gt; jr = new &lt;span class=&quot;type&quot;&gt;JsonReader&lt;/span&gt;(sr);
        jr.beginObject();
        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (jr.nextName().equals(&lt;span class=&quot;string&quot;&gt;&quot;class&quot;&lt;/span&gt;)) {
            &lt;span class=&quot;type&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;string&quot;&gt;&quot;班级: &quot;&lt;/span&gt; + jr.nextString());
            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (jr.nextName().equals(&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;)) {
                jr.beginArray();
                &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (jr.hasNext()) {
                    jr.beginObject();
                    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (jr.nextName().equals(&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;))
                        &lt;span class=&quot;type&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;out&lt;/span&gt;.print(&lt;span class=&quot;string&quot;&gt;&quot;姓名：&quot;&lt;/span&gt; + jr.nextString());
                    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (jr.nextName().equals(&lt;span class=&quot;string&quot;&gt;&quot;age&quot;&lt;/span&gt;)) {
                        &lt;span class=&quot;type&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;string&quot;&gt;&quot; , 年龄：&quot;&lt;/span&gt; + jr.nextInt());
                    }
                    jr.endObject();
                }
                jr.endArray();
            }
        }
        jr.endObject();
    } catch (&lt;span class=&quot;type&quot;&gt;FileNotFoundException&lt;/span&gt; e) {
        e.printStackTrace();
    } catch (&lt;span class=&quot;type&quot;&gt;IOException&lt;/span&gt; e) {
        e.printStackTrace();
    }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;a href=&quot;http://www.jb51.net/article/77497.htm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;java解析XML几种方式小结&lt;/a&gt;  &lt;/p&gt;
</content>
    
    <summary type="html">
    
      在Java的网络编程中经常会使用到json来传递数据，这时你就需要对这些数据进行解析使之变成java的对象来进行编辑和管理。
    
    </summary>
    
      <category term="Java" scheme="http://www.chenguangsong.online/categories/Java/"/>
    
    
      <category term="Json" scheme="http://www.chenguangsong.online/tags/Json/"/>
    
  </entry>
  
  <entry>
    <title>Android学习笔记(10)——Volley</title>
    <link href="http://www.chenguangsong.online/2016/08/12/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%8810%EF%BC%89%E2%80%94%E2%80%94Volley/"/>
    <id>http://www.chenguangsong.online/2016/08/12/Android学习笔记（10）——Volley/</id>
    <published>2016-08-12T08:18:39.000Z</published>
    <updated>2016-09-04T14:39:41.822Z</updated>
    
    <content type="html">&lt;p&gt;本文参考文章：&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/zyw-205520/p/4950357.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android Volley框架的使用（一）&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/zyw-205520/p/4950464.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android Volley框架的使用（二）&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/zyw-205520/p/4950535.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android Volley框架的使用（三）&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;Volley简介&quot;&gt;Volley简介&lt;/h1&gt;&lt;p&gt;Volley是谷歌在2013年推出的网络通信框架，对于android应用需要获取网络数据是很方便的。&lt;br&gt;相对于原始的使用HttpURLConnection或httpClient的方式进行了简化，不需要我们去写太多的新线程和io操作。&lt;br&gt;使用Volley可以使我们的代码更加少并更加清晰。&lt;br&gt;Volley的特点有：  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自动调度网络请求&lt;/li&gt;
&lt;li&gt;多个并发的网络连接&lt;/li&gt;
&lt;li&gt;通过使用标准的HTTP缓存机制保持磁盘和内存响应的一致&lt;/li&gt;
&lt;li&gt;支持请求优先级&lt;/li&gt;
&lt;li&gt;支持取消请求的强大API，可以取消单个请求或多个&lt;/li&gt;
&lt;li&gt;易于定制&lt;/li&gt;
&lt;li&gt;健壮性：便于正确的更新UI和获取数据&lt;/li&gt;
&lt;li&gt;包含调试和追踪工具  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://jxust_cgs.github.io/photos/Android学习笔记（10）——Volley_1.jpg&quot; alt=&quot;Volley功能结构图&quot;&gt;&lt;/p&gt;
&lt;p&gt;不过Volley也有自己的短板，那就是对于大批量的数据（如下载文件）还是不推荐使用的。&lt;/p&gt;
&lt;h1 id=&quot;Volley的基本使用&quot;&gt;Volley的基本使用&lt;/h1&gt;&lt;h2 id=&quot;添加jar包到项目中&quot;&gt;添加jar包到项目中&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;label&quot;&gt;https:&lt;/span&gt;//android.googlesource.com/platform/frameworks/volley
&lt;span class=&quot;label&quot;&gt;http:&lt;/span&gt;//central.maven&lt;span class=&quot;preprocessor&quot;&gt;.org&lt;/span&gt;/maven2/&lt;span class=&quot;keyword&quot;&gt;com&lt;/span&gt;/mcxiaoke/volley/library/&lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.19&lt;/span&gt;/  
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;创建队列&quot;&gt;创建队列&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;requestQueue=Volley.newRequestQueue(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;创建请求&quot;&gt;创建请求&lt;/h2&gt;&lt;h3 id=&quot;请求字符串&quot;&gt;请求字符串&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;StringRequest stringRequest=&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; StringRequest(Request.Method.POST   &lt;span class=&quot;comment&quot;&gt;//默认不写是get方法&lt;/span&gt;
    ,&lt;span class=&quot;string&quot;&gt;&quot;https://www.baidu.com/&quot;&lt;/span&gt;,
    &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Listener&amp;lt;String&amp;gt;() {
        &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
        &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onResponse&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String arg0)&lt;/span&gt; &lt;/span&gt;{
            textView.setText(arg0);
            Toast.makeText(MainActivity.&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;查询成功！！！&quot;&lt;/span&gt;, Toast.LENGTH_SHORT).show();
        }
    },
    &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ErrorListener() {
        &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
        &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onErrorResponse&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(VolleyError arg0)&lt;/span&gt; &lt;/span&gt;{
            Toast.makeText(MainActivity.&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;查询失败...&quot;&lt;/span&gt;, Toast.LENGTH_SHORT).show();
        }
    }
);
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;请求图片&quot;&gt;请求图片&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;ImageRequest imageRequest=&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ImageRequest(&lt;span class=&quot;string&quot;&gt;&quot;https://www.baidu.com/img/baidu_jgylogo3.gif&quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Listener&amp;lt;Bitmap&amp;gt;() {

        &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
        &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onResponse&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bitmap arg0)&lt;/span&gt; &lt;/span&gt;{
            imageView.setImageBitmap(arg0);
            Toast.makeText(MainActivity.&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;查询成功！！！&quot;&lt;/span&gt;, Toast.LENGTH_SHORT).show();
        }
    }, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, Config.ARGB_8888, &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ErrorListener() {

        &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
        &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onErrorResponse&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(VolleyError arg0)&lt;/span&gt; &lt;/span&gt;{
            Toast.makeText(MainActivity.&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, VolleyErrorHelper.getMessage(arg0, MainActivity.&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;), Toast.LENGTH_SHORT).show();
        }
    });      

ImageLoader imageLoader=VolleyManager.getInstance(MainActivity.&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;).getImageLoader();
        imageLoader.get(&lt;span class=&quot;string&quot;&gt;&quot;https://www.baidu.com/img/baidu_jgylogo3.gif&quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ImageListener() {

            &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
            &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onErrorResponse&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(VolleyError arg0)&lt;/span&gt; &lt;/span&gt;{
                Toast.makeText(MainActivity.&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, VolleyErrorHelper.getMessage(arg0, MainActivity.&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;), Toast.LENGTH_SHORT).show();
            }

            &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
            &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onResponse&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ImageContainer arg0, &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; arg1)&lt;/span&gt; &lt;/span&gt;{
                imageView.setImageBitmap(arg0.getBitmap());
                Toast.makeText(MainActivity.&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;查询成功！！！&quot;&lt;/span&gt;, Toast.LENGTH_SHORT).show();
            }
        });
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;将请求放入队列&quot;&gt;将请求放入队列&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;requestQueue.add&lt;span class=&quot;comment&quot;&gt;(stringRequest)&lt;/span&gt;;
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;Volley的使用建议&quot;&gt;Volley的使用建议&lt;/h1&gt;&lt;h2 id=&quot;使用单例模式进行使用&quot;&gt;使用单例模式进行使用&lt;/h2&gt;&lt;p&gt;在开发中使用的时候避免创建多个队列，推荐采用单例模式创建一个Volley管理类对应用中的所有网络请求进行管理。  &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;VolleyManager&lt;/span&gt; &lt;/span&gt;{

    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; String TAG=&lt;span class=&quot;string&quot;&gt;&quot;VolleyManager&quot;&lt;/span&gt;;

    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; VolleyManager mVolleyManager;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; RequestQueue mRequestQueue;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; ImageLoader mImageLoader;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Context mContext;

    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;VolleyManager&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;{
        mContext = context;
        mRequestQueue = getRequestQueue();
        mImageLoader = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ImageLoader(mRequestQueue, &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ImageLoader.ImageCache() {
            &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; LruCache&amp;lt;String, Bitmap&amp;gt; cache = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; LruCache&amp;lt;String, Bitmap&amp;gt;(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;);

            &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
            &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;putBitmap&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String url, Bitmap bitmap)&lt;/span&gt; &lt;/span&gt;{
                cache.put(url, bitmap);
            }

            &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
            &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;Bitmap &lt;span class=&quot;title&quot;&gt;getBitmap&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String url)&lt;/span&gt; &lt;/span&gt;{
                &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; cache.&lt;span class=&quot;title&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(url)&lt;/span&gt;&lt;/span&gt;;
            }
        });

    }

    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;RequestQueue &lt;span class=&quot;title&quot;&gt;getRequestQueue&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mRequestQueue == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; Volley.newRequestQueue(mContext.getApplicationContext());
        } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; {
            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; mRequestQueue;
        }
    }

    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;synchronized&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;VolleyManager &lt;span class=&quot;title&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;{
         &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mVolleyManager == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {
                &lt;span class=&quot;keyword&quot;&gt;synchronized&lt;/span&gt;(VolleyManager.class)
                {
                    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mVolleyManager == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {
                        mVolleyManager = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; VolleyManager(context);
                    }
                }
            }
            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; mVolleyManager;
    }

    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &amp;lt;T&amp;gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;addToRequestQueue&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Request&amp;lt;T&amp;gt; req,String tag)&lt;/span&gt; &lt;/span&gt;{
        req.setTag(TextUtils.isEmpty(tag)?TAG:tag);
        getRequestQueue().add(req);
    }

    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &amp;lt;T&amp;gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;addToRequestQueue&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Request&amp;lt;T&amp;gt; req)&lt;/span&gt; &lt;/span&gt;{
        req.setTag(TAG);&lt;span class=&quot;comment&quot;&gt;//为Request添加tag用于取消请求&lt;/span&gt;
        getRequestQueue().add(req);
    }

    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;ImageLoader &lt;span class=&quot;title&quot;&gt;getImageLoader&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; mImageLoader;
    }

    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;cancelPendingRequests&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String tag)&lt;/span&gt; &lt;/span&gt;{
        mRequestQueue.cancelAll(tag);&lt;span class=&quot;comment&quot;&gt;//通过tag取消队列中的请求&lt;/span&gt;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;设置请求的优先级&quot;&gt;设置请求的优先级&lt;/h2&gt;&lt;p&gt;参看&lt;a href=&quot;http://www.cnblogs.com/zyw-205520/p/4950464.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android Volley框架的使用（二）&lt;/a&gt;   &lt;/p&gt;
&lt;h2 id=&quot;设置缓存&quot;&gt;设置缓存&lt;/h2&gt;&lt;p&gt;参看&lt;a href=&quot;http://www.cnblogs.com/zyw-205520/p/4950535.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android Volley框架的使用（三）&lt;/a&gt;  &lt;/p&gt;
&lt;h2 id=&quot;使用VolleyErrorHelper分析错误信息&quot;&gt;使用VolleyErrorHelper分析错误信息&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;VolleyErrorHelper&lt;/span&gt; &lt;/span&gt;{

    &lt;span class=&quot;comment&quot;&gt;// 用于返回具体错误信息，分辨错误类别&lt;/span&gt;
    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;String &lt;span class=&quot;title&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Object &lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;, Context context)&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; TimeoutError) {
            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;请求超时！&quot;&lt;/span&gt;;
        } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (isServerProblem(&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;)) {
            &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;handleServerError&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;, context)&lt;/span&gt;&lt;/span&gt;;
        } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (isNetworkProblem(&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;)) {
            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;网络异常&quot;&lt;/span&gt;;
        }
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;未知异常&quot;&lt;/span&gt;;
    }

    &lt;span class=&quot;comment&quot;&gt;// 判断是否是网络错误&lt;/span&gt;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;isNetworkProblem&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Object &lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;)&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; NetworkError) || (&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; NoConnectionError);
    }

    &lt;span class=&quot;comment&quot;&gt;// 判断是否是服务端错误&lt;/span&gt;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;isServerProblem&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Object &lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;)&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; ServerError) || (&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; AuthFailureError);
    }

    &lt;span class=&quot;comment&quot;&gt;// 处理服务端错误&lt;/span&gt;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;String &lt;span class=&quot;title&quot;&gt;handleServerError&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Object err, Context context)&lt;/span&gt; &lt;/span&gt;{
        VolleyError &lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt; = (VolleyError) err;

        NetworkResponse response = &lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;.networkResponse;

        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (response != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; (response.statusCode) {
            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;404&lt;/span&gt;:
                &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;没有找到页面，请检查请求链接。&quot;&lt;/span&gt;;
            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;422&lt;/span&gt;:
            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; 401:
                &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; {
                    &lt;span class=&quot;comment&quot;&gt;// server might return error like this { &quot;error&quot;: &quot;Some&lt;/span&gt;
                    &lt;span class=&quot;comment&quot;&gt;// error occured&quot; }&lt;/span&gt;
                    &lt;span class=&quot;comment&quot;&gt;// Use &quot;Gson&quot; to parse the result&lt;/span&gt;
                    HashMap&amp;lt;String, String&amp;gt; result = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Gson().fromJson(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; String(response.data),
                            &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TypeToken&amp;lt;Map&amp;lt;String, String&amp;gt;&amp;gt;() {
                            }.getType());

                    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (result != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; result.containsKey(&lt;span class=&quot;string&quot;&gt;&quot;error&quot;&lt;/span&gt;)) {
                        &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; result.&lt;span class=&quot;title&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;string&quot;&gt;&quot;error&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;;
                    }

                } &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
                    e.printStackTrace();
                }

                &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;

            &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;:
                &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;服务器出错&quot;&lt;/span&gt;;
            }
        }
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;服务器出错&quot;&lt;/span&gt;;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;创建自定义的Request&quot;&gt;创建自定义的Request&lt;/h2&gt;&lt;p&gt;以Gson为例创建GsonRequest&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;public &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GsonRequest&amp;lt;T&amp;gt;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Request&amp;lt;T&amp;gt;&lt;/span&gt; {&lt;/span&gt;

    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Gson&lt;/span&gt; gson = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Gson&lt;/span&gt;();
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Class&lt;/span&gt;&amp;lt;&lt;span class=&quot;type&quot;&gt;T&lt;/span&gt;&amp;gt; clazz;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Map&lt;/span&gt;&amp;lt;&lt;span class=&quot;type&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;type&quot;&gt;String&lt;/span&gt;&amp;gt; headers;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Listener&lt;/span&gt;&amp;lt;&lt;span class=&quot;type&quot;&gt;T&lt;/span&gt;&amp;gt; listener;

    &lt;span class=&quot;comment&quot;&gt;/**
     * Make a GET request and return a parsed object from JSON.
     *
     * @param url URL of the request to make
     * @param clazz Relevant class object, for Gson&#39;s reflection
     * @param headers Map of request headers
     ****/&lt;/span&gt;
    public &lt;span class=&quot;type&quot;&gt;GsonRequest&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;String&lt;/span&gt; url, &lt;span class=&quot;type&quot;&gt;Class&lt;/span&gt;&amp;lt;&lt;span class=&quot;type&quot;&gt;T&lt;/span&gt;&amp;gt; clazz, &lt;span class=&quot;type&quot;&gt;Map&lt;/span&gt;&amp;lt;&lt;span class=&quot;type&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;type&quot;&gt;String&lt;/span&gt;&amp;gt; headers,
            &lt;span class=&quot;type&quot;&gt;Listener&lt;/span&gt;&amp;lt;&lt;span class=&quot;type&quot;&gt;T&lt;/span&gt;&amp;gt; listener, &lt;span class=&quot;type&quot;&gt;ErrorListener&lt;/span&gt; errorListener) {
        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;Method&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;GET&lt;/span&gt;, url, errorListener);
        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.clazz = clazz;
        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.headers = headers;
        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.listener = listener;
    }

    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    public &lt;span class=&quot;type&quot;&gt;Map&lt;/span&gt;&amp;lt;&lt;span class=&quot;type&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;type&quot;&gt;String&lt;/span&gt;&amp;gt; getHeaders() &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;AuthFailureError&lt;/span&gt; {
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; headers != &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt; ? headers : &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.getHeaders();
    }

    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; void deliverResponse(&lt;span class=&quot;type&quot;&gt;T&lt;/span&gt; response) {
        listener.onResponse(response);
    }

    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Response&lt;/span&gt;&amp;lt;&lt;span class=&quot;type&quot;&gt;T&lt;/span&gt;&amp;gt; parseNetworkResponse(&lt;span class=&quot;type&quot;&gt;NetworkResponse&lt;/span&gt; response) {
        &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; {
            &lt;span class=&quot;type&quot;&gt;String&lt;/span&gt; json = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;String&lt;/span&gt;(
                    response.data,
                    &lt;span class=&quot;type&quot;&gt;HttpHeaderParser&lt;/span&gt;.parseCharset(response.headers));
            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Response&lt;/span&gt;.success(
                    gson.fromJson(json, clazz),
                    &lt;span class=&quot;type&quot;&gt;HttpHeaderParser&lt;/span&gt;.parseCacheHeaders(response));
        } &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;type&quot;&gt;UnsupportedEncodingException&lt;/span&gt; e) {
            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Response&lt;/span&gt;.error(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ParseError&lt;/span&gt;(e));
        } &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;type&quot;&gt;JsonSyntaxException&lt;/span&gt; e) {
            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;Response&lt;/span&gt;.error(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;ParseError&lt;/span&gt;(e));
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;</content>
    
    <summary type="html">
    
      Volley是谷歌在2013年推出的网络通信框架，对于android应用需要获取网络数据是很方便的。
    
    </summary>
    
      <category term="android" scheme="http://www.chenguangsong.online/categories/android/"/>
    
    
      <category term="android" scheme="http://www.chenguangsong.online/tags/android/"/>
    
  </entry>
  
  <entry>
    <title>git学习笔记</title>
    <link href="http://www.chenguangsong.online/2016/07/13/git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://www.chenguangsong.online/2016/07/13/git学习笔记/</id>
    <published>2016-07-13T03:45:54.000Z</published>
    <updated>2016-09-04T14:41:34.471Z</updated>
    
    <content type="html">&lt;p&gt;本文参考自：&lt;a href=&quot;http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Git教程 - 廖雪峰的官方网站&lt;/a&gt;、&lt;a href=&quot;http://www.bootcss.com/p/git-guide/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;git简易指南&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;git的介绍&quot;&gt;git的介绍&lt;/h1&gt;&lt;p&gt;进行过团队编程的都是用过版本管理工具，比如我之前学习j2ee时就会和同学组成团队进行编程&lt;br&gt;完成web项目。当时使用的是svn感觉还是挺好用的。后来在网上搜索”版本工具时发现svn不是最好&lt;br&gt;的版本管理工具（个人觉得挺好用的呀），不管了既然git更好的话，我就了解下。和网上介绍一样&lt;br&gt;git是分布式的，而svn是集中式的。具体的介绍还是百度吧。&lt;/p&gt;
&lt;h1 id=&quot;git的工作流&quot;&gt;git的工作流&lt;/h1&gt;&lt;p&gt;你的本地仓库（repository）由git维护的三棵“树”组成。第一个是你的&lt;b&gt;工作目录&lt;/b&gt;，它持有实际文件；第二个是&lt;b&gt;缓存区（Index）&lt;/b&gt;，它像个缓存区域，临时保存你的改动；最后是&lt;b&gt;HEAD&lt;/b&gt;(即本地代码仓库)，指向你最近一次提交后的结果。&lt;br&gt;同时你的代码也会有一个远程仓库，你可以将本地代码仓库中的代码合并到远程仓库。&lt;/p&gt;
&lt;h1 id=&quot;git的命令&quot;&gt;git的命令&lt;/h1&gt;&lt;h3 id=&quot;1、首先需要“自报家门”&quot;&gt;1、首先需要“自报家门”&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;$ git config --global user&lt;span class=&quot;class&quot;&gt;.name&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Your Name&quot;&lt;/span&gt;
$ git config --global user&lt;span class=&quot;class&quot;&gt;.email&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;email@example.com&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;2、建立本地仓库&quot;&gt;2、建立本地仓库&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;title&quot;&gt;git&lt;/span&gt; init
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;3、将项目导入仓库中（直接新建项目、拉取远程仓库项目）&quot;&gt;3、将项目导入仓库中（直接新建项目、拉取远程仓库项目）&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;git statu&lt;span class=&quot;comment&quot;&gt;s//查看当前文件状态，看修改了那些文件，那些文件要放入缓存区&lt;/span&gt;
git diff &amp;lt;filename&lt;span class=&quot;comment&quot;&gt;&amp;gt;//查看filename文件做了什么修改（对比本地参库）&lt;/span&gt;
git &lt;span class=&quot;built_in&quot;&gt;add&lt;/span&gt; &amp;lt;filename&lt;span class=&quot;comment&quot;&gt;&amp;gt;//添加filename到缓存区&lt;/span&gt;
git commit -m “介绍本次提交代码内容”&lt;span class=&quot;comment&quot;&gt; //将缓存区代码提交到本地仓库&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;4、代码回退&quot;&gt;4、代码回退&lt;/h3&gt;&lt;p&gt;在编码时难免会遇到做了错误的修改，这时你就急需一颗“后悔药”。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git &lt;span class=&quot;keyword&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//查看代码提交历史记录（这时你就知道问什么提交时要写说明了吧，不然鬼知道你那时提交了啥）&lt;/span&gt;
git &lt;span class=&quot;keyword&quot;&gt;log&lt;/span&gt; --pretty=oneline&lt;span class=&quot;comment&quot;&gt;//精简版log&lt;/span&gt;
git &lt;span class=&quot;keyword&quot;&gt;log&lt;/span&gt; --&lt;span class=&quot;keyword&quot;&gt;graph&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//查看分支合并情况&lt;/span&gt;
git reset &amp;lt;commit_id&amp;gt;&lt;span class=&quot;comment&quot;&gt;//代码回退到commit_id提交时的状态  &lt;/span&gt;
git reflog&lt;span class=&quot;comment&quot;&gt;//查看命令历史记录&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;5、管理修改&quot;&gt;5、管理修改&lt;/h3&gt;&lt;p&gt;git管理的是修改而不是文件，就是说如果你修改了将文件放入缓存区的是修改，提交的也是修改。所以你在将&lt;br&gt;文件修改放入缓存区后做的修改都不会被提交。  &lt;/p&gt;
&lt;h3 id=&quot;6、撤销修改&quot;&gt;6、撤销修改&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;git checkout &lt;span class=&quot;comment&quot;&gt;-- &amp;lt;filename&amp;gt;&lt;/span&gt;
命令git checkout &lt;span class=&quot;comment&quot;&gt;-- readme.txt意思就是，把readme.txt文件在工作区的修改全部撤销，这里有两种情况：&lt;/span&gt;
一种是readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；
一种是readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。
git &lt;span class=&quot;operator&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;reset&lt;/span&gt; HEAD &amp;lt;filename&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;7、删除文件&quot;&gt;7、删除文件&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;git &lt;span class=&quot;keyword&quot;&gt;rm&lt;/span&gt; &amp;lt;filename&amp;gt;&lt;span class=&quot;comment&quot;&gt;//git status发现本地文件删除了，确实需要从仓库中删除则使用此命令&lt;/span&gt;
git checkout -- &amp;lt;filename&amp;gt; &lt;span class=&quot;comment&quot;&gt;//是误删，则可以轻松找回&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;8、远程仓库&quot;&gt;8、远程仓库&lt;/h3&gt;&lt;p&gt;github是一个提供git远程仓库服务的网站，不过也有其它网站比如“coding”、“开源中国”，也可以自己搭建git服务器&lt;br&gt;话说我也没搭建过想了解的可以找度娘，这里主要介绍下使用github做为远程仓库。&lt;br&gt;本地仓库与github上的远程仓库之间进行文件传输是使用了SSH_KEY进行的。&lt;br&gt;1、首先要有一个github账号&lt;br&gt;2、配置SSH_KEY&lt;a href=&quot;http://jingyan.baidu.com/article/a65957f4e91ccf24e77f9b11.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;百度经验 window下配置SSH连接GitHub、GitHub配置ssh key&lt;/a&gt;&lt;br&gt;3、将本地仓库关联至远程仓库、并推送代码&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ git remote add origin git&lt;span class=&quot;annotation&quot;&gt;@github&lt;/span&gt;.&lt;span class=&quot;string&quot;&gt;com:&lt;/span&gt;michaelliao&lt;span class=&quot;regexp&quot;&gt;/learngit.git/&lt;/span&gt;/关联远程仓库
$ git push origin master&lt;span class=&quot;comment&quot;&gt;//推送本地master分支更改到远程origin库&lt;/span&gt;
$ git clone git&lt;span class=&quot;annotation&quot;&gt;@github&lt;/span&gt;.&lt;span class=&quot;string&quot;&gt;com:&lt;/span&gt;michaelliao&lt;span class=&quot;regexp&quot;&gt;/gitskills.git/&lt;/span&gt;/克隆版本到本地
$ git remote&lt;span class=&quot;comment&quot;&gt;//查看远程库信息&lt;/span&gt;
$ git remote -v&lt;span class=&quot;comment&quot;&gt;//查看详细远程库信息&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;9、分支的使用&quot;&gt;9、分支的使用&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;查看分支：git branch
创建分支：git branch &amp;lt;name&amp;gt;
切换分支：git checkout &amp;lt;name&amp;gt;
创建+切换分支：git checkout -b &amp;lt;name&amp;gt;
合并某分支到当前分支：git &lt;span class=&quot;keyword&quot;&gt;merge&lt;/span&gt; &amp;lt;name&amp;gt;
删除分支：git branch -&lt;span class=&quot;keyword&quot;&gt;d&lt;/span&gt; &amp;lt;name&amp;gt;
合并分支时如果两个分支中的修改有冲突需要先解决冲突才能完成合并
$ git &lt;span class=&quot;keyword&quot;&gt;merge&lt;/span&gt; --&lt;span class=&quot;keyword&quot;&gt;no&lt;/span&gt;-ff -&lt;span class=&quot;keyword&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;merge with no-ff&quot;&lt;/span&gt; dev&lt;span class=&quot;comment&quot;&gt;//默认合并分支是fast forward模式，在删除分支后会丢失分支信息，--no-ff是用于禁用fast forward，这样就能在分支历史中查看到分支信息了&lt;/span&gt;
git branch -&lt;span class=&quot;keyword&quot;&gt;D&lt;/span&gt; &amp;lt;name&amp;gt;&lt;span class=&quot;comment&quot;&gt;//强行删除未合并分支（丢失修改）&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;10、暂停存档&quot;&gt;10、暂停存档&lt;/h3&gt;&lt;p&gt;好像好厉害的样子，就是你在a分支上工作但是没有完成（不能提交），但这时你要到另外一个b分支去解决一个bug，这时你就需要将当前在a分支上的修改记录进行存档，然后再切换分支。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git stash&lt;span class=&quot;comment&quot;&gt;//存档&lt;/span&gt;
git stash list&lt;span class=&quot;comment&quot;&gt;//查看存档历史&lt;/span&gt;
git stash apply stash&lt;span class=&quot;variable&quot;&gt;@{0}&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//读取存档&lt;/span&gt;
git stash pop stash&lt;span class=&quot;variable&quot;&gt;@{0}&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//读取存档并删除存档  &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;11、标签&quot;&gt;11、标签&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;git &lt;span class=&quot;built_in&quot;&gt;tag&lt;/span&gt; v1&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//当前分支head添加tag&lt;/span&gt;
git &lt;span class=&quot;built_in&quot;&gt;tag&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//查看tag&lt;/span&gt;
git &lt;span class=&quot;built_in&quot;&gt;tag&lt;/span&gt; v0&lt;span class=&quot;number&quot;&gt;.9&lt;/span&gt; &lt;span class=&quot;subst&quot;&gt;&amp;lt;&lt;/span&gt;commit_id&lt;span class=&quot;subst&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//在commit_id处添加tag&lt;/span&gt;
git show v0&lt;span class=&quot;number&quot;&gt;.9&lt;/span&gt;显示v0&lt;span class=&quot;number&quot;&gt;.9&lt;/span&gt;标签信息
git &lt;span class=&quot;built_in&quot;&gt;tag&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;v0.1&quot;&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;version 0.1 released&quot;&lt;/span&gt; &lt;span class=&quot;subst&quot;&gt;&amp;lt;&lt;/span&gt;commit_id&lt;span class=&quot;subst&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//添加tag并添加说明&lt;/span&gt;
PGP签名标签
git &lt;span class=&quot;built_in&quot;&gt;tag&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;-d&lt;/span&gt; v0&lt;span class=&quot;number&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//删除本地v0.1tag&lt;/span&gt;
git push origin &lt;span class=&quot;subst&quot;&gt;--&lt;/span&gt;tags&lt;span class=&quot;comment&quot;&gt;//推送所有本地未提交的tag&lt;/span&gt;
git push origin :refs/tags&lt;span class=&quot;subst&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;subst&quot;&gt;&amp;lt;&lt;/span&gt;tagname&lt;span class=&quot;subst&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//删除远程tag&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;12、其他配置&quot;&gt;12、其他配置&lt;/h3&gt;&lt;p&gt;1、配置颜色&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ git config --global &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.ui&lt;/span&gt; true
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;2、配置别名&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ git config --global alias.st status
$ git config --global alias.co checkout
$ git config --global alias.ci commit
$ git config --global alias.br branch
$ git config --global alias.lg &lt;span class=&quot;string&quot;&gt;&quot;log --color --graph --pretty=format:&#39;&lt;span class=&quot;variable&quot;&gt;%Cred&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;%h&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;%Creset&lt;/span&gt; -&lt;span class=&quot;variable&quot;&gt;%C&lt;/span&gt;(yellow)&lt;span class=&quot;variable&quot;&gt;%d&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;%Creset&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;%s&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;%Cgreen&lt;/span&gt;(&lt;span class=&quot;variable&quot;&gt;%cr&lt;/span&gt;) &lt;span class=&quot;variable&quot;&gt;%C&lt;/span&gt;(bold blue)&amp;lt;&lt;span class=&quot;variable&quot;&gt;%an&lt;/span&gt;&amp;gt;&lt;span class=&quot;variable&quot;&gt;%Creset&lt;/span&gt;&#39; --abbrev-commit&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;3、配置文件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;每个仓库的Git配置文件都放在.git/config文件中&lt;/li&gt;
&lt;li&gt;.gitignore文件，配置git忽略文件&lt;/li&gt;
&lt;li&gt;当前用户的Git配置文件放在用户主目录下的一个隐藏文件.gitconfig中&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;13、搭建git服务器&quot;&gt;13、搭建git服务器&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137583770360579bc4b458f044ce7afed3df579123eca000&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;搭建git服务器&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      跟着廖雪峰老师学习git命令，日常基本使用够了。
    
    </summary>
    
      <category term="git" scheme="http://www.chenguangsong.online/categories/git/"/>
    
    
      <category term="git" scheme="http://www.chenguangsong.online/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>Android学习笔记(9)——广播</title>
    <link href="http://www.chenguangsong.online/2016/06/29/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%889%EF%BC%89%E2%80%94%E2%80%94%E5%B9%BF%E6%92%AD/"/>
    <id>http://www.chenguangsong.online/2016/06/29/Android学习笔记（9）——广播/</id>
    <published>2016-06-29T08:18:39.000Z</published>
    <updated>2016-09-04T14:43:18.496Z</updated>
    
    <content type="html">&lt;h1 id=&quot;广播的分类&quot;&gt;广播的分类&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;有序&lt;ul&gt;
&lt;li&gt;有序广播：广播发送后按照优先等级依次接收广播信息，优先级更高的广播接收者可以拦截广播阻止广播继续发送。&lt;/li&gt;
&lt;li&gt;无序广播：广播的发送没有顺序，全都可以接收。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;本地&lt;ul&gt;
&lt;li&gt;本地广播：只在本应用中发送的广播。&lt;/li&gt;
&lt;li&gt;非本地广播：普通广播都是非本地的广播所有应用都能收到。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;注册接收器&lt;ul&gt;
&lt;li&gt;静态注册的广播接收器：广播接收器在manifest中注册。&lt;/li&gt;
&lt;li&gt;动态注册的广播接收器：在代码中实例化的时候注册，在结束时要记得注销广播接收器。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;自定义广播&lt;ul&gt;
&lt;li&gt;系统广播：系统定义好的广播，我们只需要接收它们就好了（如：网络变化广播、壁纸更换等）&lt;/li&gt;
&lt;li&gt;自定义广播：用户自己定义的广播。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;广播的作用&quot;&gt;广播的作用&lt;/h1&gt;&lt;p&gt;广播机制是安卓中用于组件之间的通信，在多线程中如果handler不好用的时候也可以考虑使用。&lt;/p&gt;
&lt;h1 id=&quot;动态广播接收器&quot;&gt;动态广播接收器&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;public &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MainActivity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Activity&lt;/span&gt; {&lt;/span&gt;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;IntentFilter&lt;/span&gt; intentFilter;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;NetworkChangeReceiver&lt;/span&gt; networkChangeReceiver;
    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; void onCreate(&lt;span class=&quot;type&quot;&gt;Bundle&lt;/span&gt; savedInstanceState) {
        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState);
        setContentView(&lt;span class=&quot;type&quot;&gt;R&lt;/span&gt;.layout.activity_main);
        intentFilter=&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;IntentFilter&lt;/span&gt;();&lt;span class=&quot;comment&quot;&gt;//创建筛选器&lt;/span&gt;
        intentFilter.addAction(&lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;CONNECTIVITY_ACTION&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//监听系统网络变化&lt;/span&gt;
        intentFilter.setPriority(&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//优先等级&lt;/span&gt;
        networkChangeReceiver=&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;NetworkChangeReceiver&lt;/span&gt;();
        registerReceiver(networkChangeReceiver, intentFilter);&lt;span class=&quot;comment&quot;&gt;//动态注册接收器&lt;/span&gt;
    }

    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; void onDestroy(){
        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onDestroy();
        unregisterReceiver(networkChangeReceiver);
    }

    &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;NetworkChangeReceiver&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BroadcastReceiver&lt;/span&gt;{&lt;/span&gt;
        &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
        public void onReceive(&lt;span class=&quot;type&quot;&gt;Context&lt;/span&gt; context, &lt;span class=&quot;type&quot;&gt;Intent&lt;/span&gt; intent) {
            &lt;span class=&quot;type&quot;&gt;Toast&lt;/span&gt;.makeText(context, &lt;span class=&quot;string&quot;&gt;&quot;network changes&quot;&lt;/span&gt;, &lt;span class=&quot;type&quot;&gt;Toast&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;LENGTH_SHORT&lt;/span&gt;).show();
            &lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt; connectionManager = (&lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;) getSystemService(
                    &lt;span class=&quot;type&quot;&gt;Context&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;CONNECTIVITY_SERVICE&lt;/span&gt;);
            &lt;span class=&quot;type&quot;&gt;NetworkInfo&lt;/span&gt; networkInfo = connectionManager.getActiveNetworkInfo();
            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (networkInfo != &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; networkInfo.isAvailable()) {
                &lt;span class=&quot;type&quot;&gt;Toast&lt;/span&gt;.makeText(context, &lt;span class=&quot;string&quot;&gt;&quot;network is available&quot;&lt;/span&gt;, &lt;span class=&quot;type&quot;&gt;Toast&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;LENGTH_SHORT&lt;/span&gt;).show();
                 &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(networkInfo.getType()==&lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_WIFI&lt;/span&gt;){
            &lt;span class=&quot;comment&quot;&gt;//WiFi网络&lt;/span&gt;
            &lt;span class=&quot;type&quot;&gt;Toast&lt;/span&gt;.makeText(context, &lt;span class=&quot;string&quot;&gt;&quot;network is wifi&quot;&lt;/span&gt;, &lt;span class=&quot;type&quot;&gt;Toast&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;LENGTH_SHORT&lt;/span&gt;).show();
          }&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(networkInfo.getType()==&lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_ETHERNET&lt;/span&gt;){
            &lt;span class=&quot;comment&quot;&gt;//有线网络  以太网&lt;/span&gt;
              &lt;span class=&quot;type&quot;&gt;Toast&lt;/span&gt;.makeText(context, &lt;span class=&quot;string&quot;&gt;&quot;network is youxian&quot;&lt;/span&gt;, &lt;span class=&quot;type&quot;&gt;Toast&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;LENGTH_SHORT&lt;/span&gt;).show();
          }&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(networkInfo.getType()==&lt;span class=&quot;type&quot;&gt;ConnectivityManager&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;TYPE_MOBILE&lt;/span&gt;){
            &lt;span class=&quot;comment&quot;&gt;//3g网络&lt;/span&gt;
              &lt;span class=&quot;type&quot;&gt;Toast&lt;/span&gt;.makeText(context, &lt;span class=&quot;string&quot;&gt;&quot;network is 2G/3G/4G&quot;&lt;/span&gt;, &lt;span class=&quot;type&quot;&gt;Toast&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;LENGTH_SHORT&lt;/span&gt;).show();
          }
            } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; {
                &lt;span class=&quot;type&quot;&gt;Toast&lt;/span&gt;.makeText(context, &lt;span class=&quot;string&quot;&gt;&quot;network is unavailable&quot;&lt;/span&gt;, &lt;span class=&quot;type&quot;&gt;Toast&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;LENGTH_SHORT&lt;/span&gt;).show();
            }
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;以上代码是一个监听系统（网络状态变化）广播的代码，通过代码动态注册接收器，在onDestroy方法中注销。  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ps：监听网络别忘了注册权限 uses-permission android:name=”android.permission.ACCESS_NETWORK_STATE”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;静态注册广播接收器&quot;&gt;静态注册广播接收器&lt;/h1&gt;&lt;p&gt;在manifasrt中注册接收器，放在&lt;application&gt;标签中，这种接收器只要系统安装了应用就能接收广播不需要启动应用。  &lt;/application&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;receiver android:name=&lt;span class=&quot;string&quot;&gt;&quot;com.wind.briadcasttest.Receiver&quot;&lt;/span&gt;&amp;gt;
      &amp;lt;intent-filter android:priority=&lt;span class=&quot;string&quot;&gt;&quot;1000&quot;&lt;/span&gt;&amp;gt;
           &amp;lt;action android:name=&lt;span class=&quot;string&quot;&gt;&quot;com.wind.cgs&quot;&lt;/span&gt;/&amp;gt;
      &amp;lt;/intent-filter&amp;gt;
&amp;lt;/receiver&amp;gt;

public &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Receiver&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BroadcastReceiver&lt;/span&gt;{&lt;/span&gt;
    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    public void onReceive(&lt;span class=&quot;type&quot;&gt;Context&lt;/span&gt; context, &lt;span class=&quot;type&quot;&gt;Intent&lt;/span&gt; intent) {
        &lt;span class=&quot;type&quot;&gt;String&lt;/span&gt; name=intent.getExtras().getString(&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;);
        &lt;span class=&quot;type&quot;&gt;Log&lt;/span&gt;.d(&lt;span class=&quot;string&quot;&gt;&quot;Recevier1&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;接收到了&quot;&lt;/span&gt;+name+&lt;span class=&quot;string&quot;&gt;&quot;广播&quot;&lt;/span&gt;);  
        extras.putString(&lt;span class=&quot;string&quot;&gt;&quot;body&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;没错我就是在receive中添加进来的&quot;&lt;/span&gt;);
        setResultExtras(extras);&lt;span class=&quot;comment&quot;&gt;//向广播中添加内容&lt;/span&gt;
        &lt;span class=&quot;comment&quot;&gt;//abortBroadcast();阻断广播继续传递&lt;/span&gt;
        &lt;span class=&quot;comment&quot;&gt;//有序广播中的权限权值-1000~1000&lt;/span&gt;
    }&lt;span class=&quot;comment&quot;&gt;//在优先级较低的接收器中可以通过Bundle bundle=getResultExtras(true);bundle.getString(body);来获取receiver中添加的信息&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;发送本地广播&quot;&gt;发送本地广播&lt;/h1&gt;&lt;p&gt;本地广播的发送和普通广播的实现基本相似，在普通广播发送是直接通过activity对象调用sendbroadcast(intent);&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;XXActivity.this.sendbroadcast(intent);&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;而在发送本地广播时需要通过LocalBroadcastManager来调用sendbroadcast(intent);&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;private LocalBroadcastManager localBroadcastManager;&lt;br&gt;localBroadcastManager = LocalBroadcastManager.getInstance(this);&lt;br&gt;localBroadcastManager.sendBroadcast(intent);// 发送本地广播&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      本来早该写的，拖到现在。本文介绍Android中的广播机制。
    
    </summary>
    
      <category term="android" scheme="http://www.chenguangsong.online/categories/android/"/>
    
    
      <category term="android" scheme="http://www.chenguangsong.online/tags/android/"/>
    
  </entry>
  
  <entry>
    <title>Android学习笔记(8)——自定义控件</title>
    <link href="http://www.chenguangsong.online/2016/06/28/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%888%EF%BC%89%E2%80%94%E2%80%94%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%A7%E4%BB%B6/"/>
    <id>http://www.chenguangsong.online/2016/06/28/Android学习笔记（8）——自定义控件/</id>
    <published>2016-06-28T08:18:39.000Z</published>
    <updated>2016-09-04T14:42:23.608Z</updated>
    
    <content type="html">&lt;h1 id=&quot;如何实现一个自定义控件&quot;&gt;如何实现一个自定义控件&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;定义自定义属性&lt;/li&gt;
&lt;li&gt;在layout文件中放置自定义控件&lt;/li&gt;
&lt;li&gt;新建一个类CustomView继承view&lt;/li&gt;
&lt;li&gt;实现其中的方法&lt;ul&gt;
&lt;li&gt;构造方法&lt;ul&gt;
&lt;li&gt;CustomView（Context context）{}//在java代码中实例化这个对象是调用&lt;/li&gt;
&lt;li&gt;CustomView（Context context,AttributeSet attrs）{}//通过xml中实例化对象时调用&lt;/li&gt;
&lt;li&gt;CustomView（Context context,AttributeSet attrs,int defStyle）{}//通过xml实例化对象并应用默认熟悉（如：在theme中定义的属性）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;onMeasure（int widthMeasureSpec,int heightMeasureSpec）{}//此方法非必须，通过重写此方法来定义控件的大小&lt;/li&gt;
&lt;li&gt;onDraw（Canvas canvas）{}//通过实现此方法来绘制自定义组件&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;定义自定义控件属性&quot;&gt;定义自定义控件属性&lt;/h1&gt;&lt;h2 id=&quot;定义属性的作用&quot;&gt;定义属性的作用&lt;/h2&gt;&lt;p&gt;定义自定义控件属性的作用是在layout文件中放置自定义组件时为自定义控件初始化参数（如同默认控件中有android：layout_width=“warp_context”）。  &lt;/p&gt;
&lt;h2 id=&quot;如何定义属性？&quot;&gt;如何定义属性？&lt;/h2&gt;&lt;p&gt;在项目中的values文件夹下新建attr.xml并进行编辑。  &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;pi&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;resources&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- 定义自定义组件中的参数 --&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;attr&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;titleText&quot;&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;format&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;string&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;declare-styleable&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;CustomTitleView&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;//定义组件&quot;CustomTitleView&quot;的属性
        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;attr&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;titleText&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;attr&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;attr&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;titleTextColor&quot;&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;format&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;color&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;attr&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;attr&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;titleTextSize&quot;&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;format&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;dimension&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;attr&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;declare-styleable&lt;/span&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;resources&lt;/span&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;常见属性&quot;&gt;常见属性&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;属性类型&lt;/th&gt;
&lt;th&gt;format&lt;/th&gt;
&lt;th&gt;获取方式&lt;/th&gt;
&lt;th&gt;应用场景&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;integer&lt;/td&gt;
&lt;td&gt;getInteger（attr，defultInt）&lt;/td&gt;
&lt;td&gt;获取数字&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;getString（attr）&lt;/td&gt;
&lt;td&gt;获取字符串&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;color&lt;/td&gt;
&lt;td&gt;getColor（attr，defultCol）&lt;/td&gt;
&lt;td&gt;获取颜色&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;dimension&lt;/td&gt;
&lt;td&gt;getDimensionPixelSize(attr,(int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_SP, 16, getResources().getDisplayMetrics()));&lt;/td&gt;
&lt;td&gt;获取字体大小&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bitmap&lt;/td&gt;
&lt;td&gt;reference&lt;/td&gt;
&lt;td&gt;BitmapFactory.decodeResource(getResources(), array.getResourceId(attr, 0));&lt;/td&gt;
&lt;td&gt;获取图片资源&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;另附枚举类型  &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;attr &lt;span class=&quot;variable&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;image_align&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;enum &lt;span class=&quot;variable&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;center&quot;&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;0&quot;&lt;/span&gt;/&amp;gt;
    &amp;lt;enum &lt;span class=&quot;variable&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;left&quot;&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt;/&amp;gt;
    &amp;lt;enum &lt;span class=&quot;variable&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;right&quot;&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;2&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/attr&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;在layout文件中放置自定义控件&quot;&gt;在layout文件中放置自定义控件&lt;/h1&gt;&lt;p&gt;方法和默认控件一样有一点不同的是需要配置自定义属性就需要定义属性命名控件（即注册之前定义的属性）。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;RelativeLayout xmlns:&lt;span class=&quot;variable&quot;&gt;android=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;http://schemas.android.com/apk/res/android&quot;&lt;/span&gt;
    xmlns:&lt;span class=&quot;variable&quot;&gt;tools=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;http://schemas.android.com/tools&quot;&lt;/span&gt;
    xmlns:&lt;span class=&quot;variable&quot;&gt;custom=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;http://schemas.android.com/apk/res/com.example.privateview（项目包名）&quot;&lt;/span&gt; //注册自定义属性命名空间
    android:&lt;span class=&quot;variable&quot;&gt;layout_width=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;
    android:&lt;span class=&quot;variable&quot;&gt;layout_height=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt;
    tools:&lt;span class=&quot;variable&quot;&gt;context=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;subst&quot;&gt;${relativePackage}&lt;/span&gt;.&lt;span class=&quot;subst&quot;&gt;${activityClass}&lt;/span&gt;&quot;&lt;/span&gt; &amp;gt;
    &amp;lt;com.example.privateview.CustomTitleView//自定义控件的类名
        android:&lt;span class=&quot;variable&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;@+id/customTitleView1&quot;&lt;/span&gt;
        android:&lt;span class=&quot;variable&quot;&gt;layout_width=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;
        android:&lt;span class=&quot;variable&quot;&gt;layout_height=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;
        android:&lt;span class=&quot;variable&quot;&gt;padding=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;10pt&quot;&lt;/span&gt;
        custom:&lt;span class=&quot;variable&quot;&gt;titleText=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;2345&quot;&lt;/span&gt;//配置自定义属性
        custom:&lt;span class=&quot;variable&quot;&gt;titleTextColor=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;#ffffff&quot;&lt;/span&gt;
        custom:&lt;span class=&quot;variable&quot;&gt;titleTextSize=&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;90sp&quot;&lt;/span&gt; /&amp;gt;
&amp;lt;/RelativeLayout&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;构造方法&quot;&gt;构造方法&lt;/h1&gt;&lt;p&gt;构造方法的作用就是实例化此对象，也就是要对此对象进行初始化，所以此方法中需要完成的工作就是对此自定义的控件中定义的各个属性进行赋值。&lt;br&gt;赋值需要的参数需要读取到在layout文件中配置的属性，我们通过TypedArray获取  &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;CustomTitleView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;(context,&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);
}
&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;CustomTitleView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context,AttributeSet attrs)&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;(context,attrs,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);
}
&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;CustomTitleView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context,AttributeSet attrs,&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; defStyle)&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context, attrs, defStyle);
        TypedArray array=context.getTheme().obtainStyledAttributes(attrs,R.styleable.CustomTitleView,defStyle,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//获取配置的参数&lt;/span&gt;
        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; n=array.getIndexCount();
        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;i&amp;lt;n;i++){
            &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; attr=array.getIndex(i);
            &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; (attr) {
            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; R.styleable.CustomTitleView_titleText:
                mTitleText=array.getString(attr);
                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;
            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; R.styleable.CustomTitleView_titleTextColor:
                mTitleTextColor=array.getColor(attr, Color.BLACK);
                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;
            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; R.styleable.CustomTitleView_titleTextSize:
                mTitleTextSize=array.getDimensionPixelSize(attr, (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_SP, 16, getResources().getDisplayMetrics()));
                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;
            }
        }
        array.recycle();&lt;span class=&quot;comment&quot;&gt;//读取完毕后一定要记得回收&lt;/span&gt;
        mPaint_background=&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Paint();&lt;span class=&quot;comment&quot;&gt;//画笔&lt;/span&gt;
        mPaint_background.setColor(Color.GRAY);
        mPaint_word=&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Paint();
        mPaint_word.setTextSize(mTitleTextSize);
        mPaint_word.setColor(mTitleTextColor);
        mBound=&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Rect();&lt;span class=&quot;comment&quot;&gt;//矩形（文本框）&lt;/span&gt;
        mPaint_word.getTextBounds(mTitleText, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, mTitleText.length(), mBound);
        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.setOnClickListener(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; OnClickListener() {
            &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
            &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View v)&lt;/span&gt; &lt;/span&gt;{
                mTitleText=randomText();
                postInvalidate();&lt;span class=&quot;comment&quot;&gt;//刷新控件，重新绘制控件&lt;/span&gt;
            }
        });
    }
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;onMeasure&quot;&gt;onMeasure&lt;/h1&gt;&lt;p&gt;用于向ViewGroup反馈组件的大小所占空间，如果不写此方法控件会占据界面所有剩余空间，无论是match_parent还是warp_content.  &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;comment&quot;&gt;/**
 * MeasureSpec的specMode,一共三种类型：
 * EXACTLY：一般是设置了明确的值或者是MATCH_PARENT
 * AT_MOST：表示子布局限制在一个最大值内，一般为WARP_CONTENT
 * UNSPECIFIED：表示子布局想要多大就多大，很少使用
 */&lt;/span&gt;
@Override
&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; onMeasure(&lt;span class=&quot;built_in&quot;&gt;int&lt;/span&gt; widthMeasureSpec,&lt;span class=&quot;built_in&quot;&gt;int&lt;/span&gt; heightMeasureSpec){
    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onMeasure(widthMeasureSpec, heightMeasureSpec);
    &lt;span class=&quot;built_in&quot;&gt;int&lt;/span&gt; widthMode=MeasureSpec.getMode(widthMeasureSpec);
    &lt;span class=&quot;built_in&quot;&gt;int&lt;/span&gt; heightMode=MeasureSpec.getMode(heightMeasureSpec);
    &lt;span class=&quot;built_in&quot;&gt;int&lt;/span&gt; widthSize=MeasureSpec.getSize(widthMeasureSpec);
    &lt;span class=&quot;built_in&quot;&gt;int&lt;/span&gt; heightSize=MeasureSpec.getSize(heightMeasureSpec);
    &lt;span class=&quot;built_in&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;width&lt;/span&gt;;
    &lt;span class=&quot;built_in&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;height&lt;/span&gt;;
    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(widthMode==MeasureSpec.EXACTLY){
        &lt;span class=&quot;variable&quot;&gt;width&lt;/span&gt;=widthSize;
    }&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;{
        &lt;span class=&quot;variable&quot;&gt;width&lt;/span&gt;=getPaddingLeft()+mBound.&lt;span class=&quot;variable&quot;&gt;width&lt;/span&gt;()+getPaddingRight();
    }
    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(heightMode==MeasureSpec.EXACTLY){
        &lt;span class=&quot;variable&quot;&gt;height&lt;/span&gt;=heightSize;
    }&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;{
        &lt;span class=&quot;variable&quot;&gt;height&lt;/span&gt;=getPaddingTop()+mBound.&lt;span class=&quot;variable&quot;&gt;height&lt;/span&gt;()+getPaddingBottom();
    }
    setMeasuredDimension(&lt;span class=&quot;variable&quot;&gt;width&lt;/span&gt;, &lt;span class=&quot;variable&quot;&gt;height&lt;/span&gt;);
}
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;onDraw&quot;&gt;onDraw&lt;/h1&gt;&lt;p&gt;在界面中绘制出控件&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;typename&quot;&gt;void&lt;/span&gt; onDraw(Canvas canvas){
    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onDraw(canvas);
    canvas.drawRect(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,getMeasuredWidth(),getMeasuredHeight(),mPaint_background);&lt;span class=&quot;comment&quot;&gt;//在画布上画下背景矩形&lt;/span&gt;
    canvas.drawText(mTitleText, getWidth()&lt;span class=&quot;regexp&quot;&gt;/2-mBound.width()/&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, getHeight()&lt;span class=&quot;regexp&quot;&gt;/2+mBound.height()/&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,mPaint_word);&lt;span class=&quot;comment&quot;&gt;//在画布上画下文本框&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;具体绘制相关的另开一篇文章吧&lt;br&gt;Canvas画板&lt;br&gt;Paint画笔&lt;br&gt;Rect操作框  &lt;/p&gt;
</content>
    
    <summary type="html">
    
      在Android中默认控件不足以满足需求时就需要自定义控件，可以在view类的基础上扩展也可以在其他扩展的view上继承后自定义，本文主要是在view的基础上自定义。
    
    </summary>
    
      <category term="android" scheme="http://www.chenguangsong.online/categories/android/"/>
    
    
      <category term="android" scheme="http://www.chenguangsong.online/tags/android/"/>
    
  </entry>
  
  <entry>
    <title>android学习笔记（7） ——Bitmap</title>
    <link href="http://www.chenguangsong.online/2016/05/05/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%887%EF%BC%89%E2%80%94%E2%80%94Bitmap/"/>
    <id>http://www.chenguangsong.online/2016/05/05/Android学习笔记（7）——Bitmap/</id>
    <published>2016-05-05T09:36:00.000Z</published>
    <updated>2016-09-04T14:45:01.774Z</updated>
    
    <content type="html">&lt;p&gt;参考文章：&lt;a href=&quot;http://www.jb51.net/article/32366.htm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android Bitmap详细介绍&lt;/a&gt;  &lt;/p&gt;
&lt;h1 id=&quot;首先我们需要获得Bitmap对象&quot;&gt;首先我们需要获得Bitmap对象&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Bitmap getBitmapByDrawable(Context context,&lt;span class=&quot;built_in&quot;&gt;int&lt;/span&gt; drawableId){
     &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; ((BitmapDrawable)context.getResources().getDrawable(drawableId)).getBitmap();
  }
&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Bitmap getBitmapFromSDCard(Activity context,&lt;span class=&quot;keyword&quot;&gt;String&lt;/span&gt; fileName) &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; FileNotFoundException{
      &lt;span class=&quot;comment&quot;&gt;//第一种方式:从SD卡中得到图片&lt;/span&gt;
      &lt;span class=&quot;keyword&quot;&gt;String&lt;/span&gt; SDCarePath=Environment.getExternalStorageDirectory().toString();
      &lt;span class=&quot;keyword&quot;&gt;String&lt;/span&gt; filePath=SDCarePath+File.separator+fileName;
      Bitmap rawBitmap = BitmapFactory.decodeFile(filePath, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);
      &lt;span class=&quot;comment&quot;&gt;//第二种方式:从SD卡中得到图片&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//InputStream inputStream=new FileInputStream(new File(filePath));&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//Bitmap rawBitmap = BitmapFactory.decodeStream(inputStream);&lt;/span&gt;
      &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; rawBitmap;
  }
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;操作Bitmap&quot;&gt;操作Bitmap&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;javadoc&quot;&gt;/**  
 * 缩放图片
 *&lt;span class=&quot;javadoctag&quot;&gt; @param&lt;/span&gt; bitmap
 *&lt;span class=&quot;javadoctag&quot;&gt; @param&lt;/span&gt; width
 *&lt;span class=&quot;javadoctag&quot;&gt; @param&lt;/span&gt; height
 *&lt;span class=&quot;javadoctag&quot;&gt; @return&lt;/span&gt;
 */&lt;/span&gt;
  &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;Bitmap &lt;span class=&quot;title&quot;&gt;compression&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bitmap bitmap ,&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; width,&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; height)&lt;/span&gt;&lt;/span&gt;{
      &lt;span class=&quot;comment&quot;&gt;// 得到图片原始的高宽&lt;/span&gt;
      &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; rawHeight = bitmap.getHeight();
      &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; rawWidth = bitmap.getWidth();
      &lt;span class=&quot;comment&quot;&gt;// 设定图片新的高宽&lt;/span&gt;
      &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; newWidth = width;
      &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; newHeight = height;
      &lt;span class=&quot;comment&quot;&gt;// 计算缩放因子&lt;/span&gt;
      &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; heightScale = ((&lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt;) newHeight) / rawHeight;
      &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; widthScale = ((&lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt;) newWidth) / rawWidth;
      &lt;span class=&quot;comment&quot;&gt;// 新建立矩阵&lt;/span&gt;
      Matrix matrix = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Matrix();
      matrix.postScale(heightScale, widthScale);
      &lt;span class=&quot;comment&quot;&gt;// 设置图片的旋转角度&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//matrix.postRotate(-30);&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;// 设置图片的倾斜&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//matrix.postSkew(0.1f, 0.1f);&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//将图片大小压缩&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//压缩后图片的宽和高以及kB大小均会变化&lt;/span&gt;
      Bitmap newBitmap = Bitmap.createBitmap(bitmap, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, rawWidth,rawWidth, matrix, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);
      &lt;span class=&quot;comment&quot;&gt;// 将Bitmap转换为Drawable&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//Drawable newBitmapDrawable = new BitmapDrawable(newBitmap);&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//imageView.setImageDrawable(newBitmapDrawable);&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//然后将Bitmap保存到SDCard中,方便于原图片的比较&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//this.compressAndSaveBitmapToSDCard(newBitmap, &quot;xx100.jpg&quot;, 80);&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//问题:&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//原图大小为625x690 90.2kB&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//如果设置图片500x500 压缩后大小为171kB.即压缩后kB反而变大了.&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//原因是将:compress(Bitmap.CompressFormat.JPEG, quality, fileOutputStream);&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//第二个参数quality设置得有些大了(比如100).&lt;/span&gt;
      &lt;span class=&quot;comment&quot;&gt;//常用的是80,刚设100太大了造成的.&lt;/span&gt;
      &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; newBitmap;
  }

  &lt;span class=&quot;javadoc&quot;&gt;/**
   * 变形
   *&lt;span class=&quot;javadoctag&quot;&gt; @param&lt;/span&gt; bitmap
   *&lt;span class=&quot;javadoctag&quot;&gt; @return&lt;/span&gt;
   */&lt;/span&gt;
  &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;Bitmap &lt;span class=&quot;title&quot;&gt;postSkewBitmap&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bitmap bitmap)&lt;/span&gt;&lt;/span&gt;{
      &lt;span class=&quot;comment&quot;&gt;// 得到图片原始的高宽&lt;/span&gt;
      &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; rawHeight = bitmap.getHeight();
      &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; rawWidth = bitmap.getWidth();
      Matrix matrix = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Matrix();
      &lt;span class=&quot;comment&quot;&gt;// 设置图片的倾斜&lt;/span&gt;
      matrix.postSkew(&lt;span class=&quot;number&quot;&gt;0.1&lt;/span&gt;f, -&lt;span class=&quot;number&quot;&gt;0.1&lt;/span&gt;f);
      Bitmap newBitmap = Bitmap.createBitmap(bitmap, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, rawWidth,rawWidth, matrix, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);
      &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; newBitmap;
  }

  &lt;span class=&quot;javadoc&quot;&gt;/**
   * 旋转
   *&lt;span class=&quot;javadoctag&quot;&gt; @param&lt;/span&gt; bitmap
   *&lt;span class=&quot;javadoctag&quot;&gt; @return&lt;/span&gt;
   */&lt;/span&gt;
  &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;Bitmap &lt;span class=&quot;title&quot;&gt;rotateBitmap&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bitmap bitmap)&lt;/span&gt;&lt;/span&gt;{
      &lt;span class=&quot;comment&quot;&gt;// 得到图片原始的高宽&lt;/span&gt;
      &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; rawHeight = bitmap.getHeight();
      &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; rawWidth = bitmap.getWidth();
      Matrix matrix = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Matrix();
      &lt;span class=&quot;comment&quot;&gt;// 设置图片的旋转角度&lt;/span&gt;
      matrix.postRotate(-&lt;span class=&quot;number&quot;&gt;45&lt;/span&gt;);
      Bitmap newBitmap = Bitmap.createBitmap(bitmap, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, rawWidth,rawWidth, matrix, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);
      &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; newBitmap;
  }
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;合成两张bitmap&quot;&gt;合成两张bitmap&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;为bitmap设置圆角&lt;/p&gt;
&lt;p&gt;  public Bitmap toRoundCorner(Bitmap bitmap,int pixels){&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    Bitmap roundCornerBitmap = Bitmap.createBitmap(bitmap.getWidth(), bitmap.getHeight(), Config.ARGB_8888);
    Canvas canvas = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Canvas(roundCornerBitmap);
    &lt;span class=&quot;built_in&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;color&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;0xff424242&lt;/span&gt;;&lt;span class=&quot;comment&quot;&gt;//int color = 0xff424242;&lt;/span&gt;
    Paint paint = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Paint();
    paint.setColor(&lt;span class=&quot;built_in&quot;&gt;color&lt;/span&gt;);
    &lt;span class=&quot;comment&quot;&gt;//防止锯齿&lt;/span&gt;
    paint.setAntiAlias(&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);
    Rect &lt;span class=&quot;built_in&quot;&gt;rect&lt;/span&gt; = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Rect(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, bitmap.getWidth(), bitmap.getHeight());
    RectF rectF = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; RectF(&lt;span class=&quot;built_in&quot;&gt;rect&lt;/span&gt;);
    &lt;span class=&quot;built_in&quot;&gt;float&lt;/span&gt; roundPx = &lt;span class=&quot;variable&quot;&gt;pixels&lt;/span&gt;;
    &lt;span class=&quot;comment&quot;&gt;//相当于清屏&lt;/span&gt;
    canvas.drawARGB(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);
    &lt;span class=&quot;comment&quot;&gt;//先画了一个带圆角的矩形&lt;/span&gt;
    canvas.drawRoundRect(rectF, roundPx, roundPx, paint);
    paint.setXfermode(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; PorterDuffXfermode(Mode.SRC_IN)); ---------------------------此处注意Mode具体参考下方文章链接
    &lt;span class=&quot;comment&quot;&gt;//再把原来的bitmap画到现在的bitmap！！！注意这个理解&lt;/span&gt;
    canvas.drawBitmap(bitmap, &lt;span class=&quot;built_in&quot;&gt;rect&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;rect&lt;/span&gt;, paint);
    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; roundCornerBitmap;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;参考文章：&lt;a href=&quot;http://blog.csdn.net/c8822882/article/details/6906768&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;android 画图之setXfermode&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;http://dl2.iteye.com/upload/attachment/0056/7804/f3756216-bc69-348f-9f4f-55428a78a287.png&quot; alt=&quot;PorterDuffXfermode&quot;&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;两张图叠加，可用于添加水印  &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Bitmap addbackgroundonlyicon(Bitmap bitmap_back, Bitmap bitmap_front) {
     Bitmap b1 =  bitmap_back;
     Bitmap b2 =  bitmap_front;
     &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!b1.isMutable()) { &lt;span class=&quot;comment&quot;&gt;//设置图片为背景为透明&lt;/span&gt;
         b1 = b1.&lt;span class=&quot;built_in&quot;&gt;copy&lt;/span&gt;(Bitmap.Config.ARGB_8888, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);
     }
     Paint paint = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Paint();
     Canvas canvas = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Canvas(b1);
     canvas.drawBitmap(b2, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, paint);
     canvas.&lt;span class=&quot;built_in&quot;&gt;save&lt;/span&gt;(Canvas.ALL_SAVE_FLAG);
     canvas.restore();
     &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; b1;
 }
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;保存bitmap到SD卡&quot;&gt;保存bitmap到SD卡&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;saveBitmapToSDCard&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bitmap bitmap,String fileName)&lt;/span&gt; throws FileNotFoundException&lt;/span&gt;{
      String SDCarePath=Environment.getExternalStorageDirectory().toString();
      FileOutputStream &lt;span class=&quot;keyword&quot;&gt;out&lt;/span&gt; = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; FileOutputStream(SDCarePath+File.separator+fileName);
      bitmap.compress(Bitmap.CompressFormat.PNG, &lt;span class=&quot;number&quot;&gt;90&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;out&lt;/span&gt;);
  }
&lt;/code&gt;&lt;/pre&gt;</content>
    
    <summary type="html">
    
      在android开发中需要对图片进行简单的操作如缩放、旋转、合成水印等，通过bitmap可以很方便的实现。
    
    </summary>
    
      <category term="android" scheme="http://www.chenguangsong.online/categories/android/"/>
    
    
      <category term="android" scheme="http://www.chenguangsong.online/tags/android/"/>
    
  </entry>
  
  <entry>
    <title>android学习笔记（6） ——Animation动画</title>
    <link href="http://www.chenguangsong.online/2016/05/05/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%886%EF%BC%89%E2%80%94%E2%80%94Animation%E5%8A%A8%E7%94%BB/"/>
    <id>http://www.chenguangsong.online/2016/05/05/Android学习笔记（6）——Animation动画/</id>
    <published>2016-05-05T03:36:00.000Z</published>
    <updated>2016-09-04T14:47:35.432Z</updated>
    
    <content type="html">&lt;p&gt;参考文章：&lt;a href=&quot;http://www.cnblogs.com/qiengo/archive/2012/05/03/2480386.html#Animations&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android Animation - Qiengo - 博客园&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;这一部分也没多少东西就直接上代码了&quot;&gt;这一部分也没多少东西就直接上代码了&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt; com.example.animationsdemo;

&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.app.Activity;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.os.Bundle;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.view.View;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.view.View.OnClickListener;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.view.animation.AlphaAnimation;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.view.animation.Animation;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.view.animation.AnimationSet;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.view.animation.RotateAnimation;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.view.animation.ScaleAnimation;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.view.animation.TranslateAnimation;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.widget.ImageView;

&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MainActivity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Activity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;OnClickListener&lt;/span&gt;&lt;/span&gt;{

    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; ImageView first;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; ImageView second;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; ImageView third;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; ImageView fourth;
    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; ImageView fifth;

    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bundle savedInstanceState)&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        first=(ImageView) findViewById(R.id.first);
        second=(ImageView) findViewById(R.id.second);
        third=(ImageView) findViewById(R.id.third);
        fourth=(ImageView) findViewById(R.id.fourth);
        fifth=(ImageView) findViewById(R.id.fifth);
        first.setOnClickListener(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);
        second.setOnClickListener(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);
        third.setOnClickListener(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);
        fourth.setOnClickListener(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);
        fifth.setOnClickListener(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);
    }

    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View v)&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; (v.getId()) {
        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; R.id.first:
            alpha_animation(first);
            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;
        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; R.id.second:
            rotate_animation(second);
            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;
        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; R.id.third:
            scale_animation(third);
            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;
        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; R.id.fourth:
            translate_animation(fourth);
            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;
        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; R.id.fifth:
            double_animation(fifth);
            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;
        &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;:
            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;
        }
    }

    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;alpha_animation&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View view)&lt;/span&gt; &lt;/span&gt;{
        &lt;span class=&quot;comment&quot;&gt;//创建一个AnimationSet对象，参数为Boolean型，&lt;/span&gt;
        &lt;span class=&quot;comment&quot;&gt;//true表示使用Animation的interpolator，false则是使用自己的&lt;/span&gt;
        AnimationSet animationSet = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AnimationSet(&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);
        &lt;span class=&quot;comment&quot;&gt;//创建一个AlphaAnimation对象，参数从完全的透明度，到完全的不透明&lt;/span&gt;
        AlphaAnimation alphaAnimation = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AlphaAnimation(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);
        &lt;span class=&quot;comment&quot;&gt;//设置动画执行的时间&lt;/span&gt;
        alphaAnimation.setDuration(&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);
        &lt;span class=&quot;comment&quot;&gt;//将alphaAnimation对象添加到AnimationSet当中&lt;/span&gt;
        animationSet.addAnimation(alphaAnimation);
        &lt;span class=&quot;comment&quot;&gt;//使用ImageView的startAnimation方法执行动画&lt;/span&gt;
        view.startAnimation(animationSet);
    }

    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;rotate_animation&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View view)&lt;/span&gt; &lt;/span&gt;{
         AnimationSet animationSet = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AnimationSet(&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);
         &lt;span class=&quot;comment&quot;&gt;//参数1：从哪个旋转角度开始&lt;/span&gt;
         &lt;span class=&quot;comment&quot;&gt;//参数2：转到什么角度&lt;/span&gt;
         &lt;span class=&quot;comment&quot;&gt;//后4个参数用于设置围绕着旋转的圆的圆心在哪里&lt;/span&gt;
         &lt;span class=&quot;comment&quot;&gt;//参数3：确定x轴坐标的类型，有ABSOLUT绝对坐标、RELATIVE_TO_SELF相对于自身坐标、RELATIVE_TO_PARENT相对于父控件的坐标&lt;/span&gt;
         &lt;span class=&quot;comment&quot;&gt;//参数4：x轴的值，0.5f表明是以自身这个控件的一半长度为x轴&lt;/span&gt;
         &lt;span class=&quot;comment&quot;&gt;//参数5：确定y轴坐标的类型&lt;/span&gt;
         &lt;span class=&quot;comment&quot;&gt;//参数6：y轴的值，0.5f表明是以自身这个控件的一半长度为x轴&lt;/span&gt;
         RotateAnimation rotateAnimation = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; RotateAnimation(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;360&lt;/span&gt;,
                Animation.RELATIVE_TO_SELF,&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;f,
                Animation.RELATIVE_TO_SELF,&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;f);
         rotateAnimation.setDuration(&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);
         animationSet.addAnimation(rotateAnimation);
         view.startAnimation(animationSet);
    }

    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;scale_animation&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View view)&lt;/span&gt; &lt;/span&gt;{
         AnimationSet animationSet = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AnimationSet(&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);
         &lt;span class=&quot;comment&quot;&gt;//参数1：x轴缩放前值&lt;/span&gt;
         &lt;span class=&quot;comment&quot;&gt;//参数2：x轴缩放后值&lt;/span&gt;
         &lt;span class=&quot;comment&quot;&gt;//参数3：y轴缩放前值&lt;/span&gt;
         &lt;span class=&quot;comment&quot;&gt;//参数4：y轴缩放后值&lt;/span&gt;
         &lt;span class=&quot;comment&quot;&gt;//参数5：确定x轴坐标的类型&lt;/span&gt;
         &lt;span class=&quot;comment&quot;&gt;//参数6：x轴的值，0.5f表明是以自身这个控件的一半长度为x轴，缩放的中心位置&lt;/span&gt;
         &lt;span class=&quot;comment&quot;&gt;//参数7：确定y轴坐标的类型&lt;/span&gt;
         &lt;span class=&quot;comment&quot;&gt;//参数8：y轴的值，0.5f表明是以自身这个控件的一半长度为x轴，缩放的中心位置&lt;/span&gt;
         ScaleAnimation scaleAnimation = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ScaleAnimation(
                &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;f, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;f,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;f,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;f,
                Animation.RELATIVE_TO_SELF,&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;f,
                Animation.RELATIVE_TO_SELF,&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;f);
         scaleAnimation.setDuration(&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);
         animationSet.addAnimation(scaleAnimation);
         view.startAnimation(animationSet);
    }

    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;translate_animation&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View view)&lt;/span&gt; &lt;/span&gt;{
        AnimationSet animationSet = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AnimationSet(&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);
        &lt;span class=&quot;comment&quot;&gt;//参数1～2：x轴的开始位置&lt;/span&gt;
        &lt;span class=&quot;comment&quot;&gt;//参数3～4：y轴的开始位置&lt;/span&gt;
        &lt;span class=&quot;comment&quot;&gt;//参数5～6：x轴的结束位置&lt;/span&gt;
        &lt;span class=&quot;comment&quot;&gt;//参数7～8：x轴的结束位置&lt;/span&gt;
        TranslateAnimation translateAnimation =
           &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TranslateAnimation(
               Animation.RELATIVE_TO_SELF,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;f,
               Animation.RELATIVE_TO_SELF,&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;f,
               Animation.RELATIVE_TO_SELF,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;f,
               Animation.RELATIVE_TO_SELF,&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;f);
        translateAnimation.setDuration(&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);
        animationSet.addAnimation(translateAnimation);
        view.startAnimation(animationSet);
    }

    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;double_animation&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View view)&lt;/span&gt;&lt;/span&gt;{&lt;span class=&quot;comment&quot;&gt;//用AnimationSet叠加两种动画效果&lt;/span&gt;
         AnimationSet animationSet = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AnimationSet(&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);
         RotateAnimation rotateAnimation = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; RotateAnimation(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;360&lt;/span&gt;,
                Animation.RELATIVE_TO_SELF,&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;f,
                Animation.RELATIVE_TO_SELF,&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;f);
         rotateAnimation.setDuration(&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);
         animationSet.addAnimation(rotateAnimation);
         ScaleAnimation scaleAnimation = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ScaleAnimation(
                 &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;f, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;f,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;f,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;f,
                 Animation.RELATIVE_TO_SELF,&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;f,
                 Animation.RELATIVE_TO_SELF,&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;f);
         scaleAnimation.setDuration(&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);
         animationSet.addAnimation(rotateAnimation);
         animationSet.addAnimation(scaleAnimation);
         view.startAnimation(animationSet);
    }
}
&lt;/code&gt;&lt;/pre&gt;</content>
    
    <summary type="html">
    
      由于之前尝试写下拉刷新时用到了animation动画，今天就在网上找了下资料好好学习学习
    
    </summary>
    
      <category term="android" scheme="http://www.chenguangsong.online/categories/android/"/>
    
    
      <category term="android" scheme="http://www.chenguangsong.online/tags/android/"/>
    
  </entry>
  
</feed>
