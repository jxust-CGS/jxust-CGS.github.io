<!DOCTYPE HTML>

    <html lang="zh-Hans">
  
<head>
  <meta charset="utf-8">
  
  <title>设计模式 | 月下踟蹰</title>
  <meta name="author" content="Jxust_CGS">
  
  <meta name="description" content="设计模式（Design pattern）是一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结。使用设计模式是为了可重用代码、让代码更容易被他人理解、保证代码可靠性。">
  
  <meta name="keywords" content="设计模式">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="设计模式"/>
  <meta property="og:site_name" content="月下踟蹰"/>

  
    <meta property="og:image" content="undefined"/>
  

  
    <meta http-equiv="Content-Language" content="zh-Hans"/>
  

  <link href="/img/favicon.png" rel="icon">
  
    <link rel="apple-touch-icon" href="/img/apple-icon.ico">
    <link rel="apple-touch-icon-precomposed" href="/img/apple-icon.ico">
    

  <link rel="alternate" href="atom.xml" title="月下踟蹰" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

  
  <!-- Chinese readability improment -->
  <style type="text/css">
    article {font-weight: 400;letter-spacing: .01rem;}
    article .entry{line-height:2;}
  </style>
  
  
  <style type="text/css">
  /* Tim Pietrusky advanced checkbox hack (Android <= 4.1.2) */
body{ -webkit-animation: bugfix infinite 1s; }
@-webkit-keyframes bugfix { from {padding:0;} to {padding:0;} }
</style>

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48887175-1', 'auto');
  ga('send', 'pageview');

</script>



  
    <!-- 360 Font and Baidu CDN in China -->
    
      <link href='http://fonts.lug.ustc.edu.cn/css?family=Open+Sans:300,400|Playball' rel='stylesheet' type='text/css'>
    
  <link href='http://apps.bdimg.com/libs/fontawesome/4.1.0/css/font-awesome.css' rel='stylesheet' type='text/css'>
  <script src="http://libs.baidu.com/jquery/1.11.1/jquery.min.js"></script>
  



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</head>


<body>
  <header id="header" class="inner"><div class="padding">
	<div class="alignleft logo">
	  <h1><a href="/">月下踟蹰</a></h1>
	</div>
	<nav id="main-nav" class="alignright">
		<input type="checkbox" id="toggle" />
		<label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu" onclick><i class="fa fa-bars"></i></label>
	  <ul class="menu">
	    
	      <li><a href="/">首页</a></li>
	    
	      <li><a href="/archives">归档</a></li>
	    
	      <li><a href="/tags">标签</a></li>
	    
	      <li><a href="/categories">分类</a></li>
	    
	      <li><a href="/curriculumvitae">关于</a></li>
	    
	      <li><a href="/links">链接</a></li>
	    
	    
	    	<li><a href="atom.xml" target="_blank" title="bruce tan blog rss" class="rss-top"><i class="fa fa-rss"></i></a></li>
	    
	  </ul>
	</nav>
	<div class="clearfix"></div>
</div>
</header>
  <div id="page-heading-wrap">
  	<div class="inner">
      <div class="padding">
    		
          <h1>设计模式</h1>
          <ul>
            <li>
              <span class="heading-span">Posted on: </span>
              <time datetime="2017-02-19T14:06:23.390Z">2017-02-19</time>
            </li>
            
              <li>
                <span class="heading-span">By: </span>

                
                  <a href="/">Jxust_CGS</a>
                

              </li>
            
            <li>
              <span class="heading-span">With: </span>
              

                <a href="#ds-thread"><span class="ds-thread-count" data-thread-key="2017/02/19/学习设计模式/" data-count-type="comments"></span></a>
              
            </li>
          </ul>
        
      </div>
  	</div>
  </div>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper" class="padding"><article class="post">
  
  
    <div class="post-content">
  
      
      <div class="entry">
        
          <h1 id="设计模式">设计模式</h1><p>本篇基本为自己参考其他博客文章以及自己的一些理解所写，此处保留原文链接。<br>参考博客：<a href="http://www.cnblogs.com/maowang1991/archive/2013/04/15/3023236.html" target="_blank" rel="external">Java开发中的23种设计模式详解</a><br>另参考<a href="http://www.runoob.com/design-pattern/design-pattern-tutorial.html" target="_blank" rel="external">设计模式——菜鸟教程</a>  </p>
<h2 id="设计模式的分类">设计模式的分类</h2><p>总体来说设计模式分为三大类：<br>创建型模式，共五种：工厂方法模式、抽象工厂模式、单例模式、建造者模式、原型模式。<br>结构型模式，共七种：适配器模式、装饰器模式、代理模式、外观模式、桥接模式、组合模式、享元模式。<br>行为型模式，共十一种：策略模式、模板方法模式、观察者模式、迭代器模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式。  </p>
<p><img src="http://oeb33qix3.bkt.clouddn.com/public/16-11-27/39431889.jpg" alt="设计模式">  </p>
<h2 id="设计原则">设计原则</h2><p>设计模式的六大原则<br>1、开闭原则（Open Close Principle）<br>开闭原则就是说对<strong>扩展开放</strong>，对<strong>修改关闭</strong>。在程序需要进行拓展的时候，不能去修改原有的代码，实现一个热插拔的效果。所以一句话概括就是：为了使程序的扩展性好，易于维护和升级。想要达到这样的效果，我们需要使用接口和抽象类，后面的具体设计中我们会提到这点。<br>2、里氏代换原则（Liskov Substitution Principle）<br>在子类中实现父类的抽象方法<strong>不要覆盖掉父类中已经实现的方法</strong>，这样会导致父类的方法被重写，之后父类如果做修改会给程序带来隐患。<br>里氏代换原则(Liskov Substitution Principle LSP)面向对象设计的基本原则之一。   里氏代换原则中说，任何基类可以出现的地方，子类一定可以出现。   LSP是继承复用的基石，只有当衍生类可以替换掉基类，软件单位的功能不受到影响时，基类才能真正被复用，而衍生类也能够在基类的基础上增加新的行为。里氏代换原则是对“开-闭”原则的补充。实现“开-闭”原则的关键步骤就是抽象化。而基类与子类的继承关系就是抽象化的具体实现，所以里氏代换原则是对实现抽象化的具体步骤的规范。—— From Baidu 百科<br>3、依赖倒转原则（Dependence Inversion Principle）<br>这个是开闭原则的基础，具体内容：真对接口编程，<strong>依赖于抽象</strong>而不依赖于具体。<br>4、接口隔离原则（Interface Segregation Principle）<br>这个原则的意思是：使用<strong>多个隔离的接口</strong>，比使用单个接口要好。还是一个降低类之间的耦合度的意思，从这儿我们看出，其实设计模式就是一个软件的设计思想，从大型软件架构出发，为了升级和维护方便。所以上文中多次出现：降低依赖，降低耦合。<br>5、迪米特法则（最少知道原则）（Demeter Principle）<br>为什么叫最少知道原则，就是说：一个实体应当尽量少的与其他实体之间发生相互作用，使得系统功能<strong>模块相对独立</strong>。<br>6、合成复用原则（Composite Reuse Principle）<br>原则是尽量使用<strong>合成/聚合</strong>的方式，而不是使用继承。  </p>
<h2 id="介绍下自己对各个模式的理解">介绍下自己对各个模式的理解</h2><h3 id="创建型模式">创建型模式</h3><h4 id="工厂模式">工厂模式</h4><p>用于对功能的扩展的场景：就是对需要完成的事情的不同实现，也就是通过工厂用不同的方式去完成同一件事情。如：发送，有两种实现，发送信息，发送邮件，而工厂就会提供这两种不同的方式去完成发送的任务。用于扩展功能的时候只需要添加<strong><em>不同的实现</em></strong>到工厂类中即可。<br>1、您需要一辆汽车，可以直接从工厂里面提货，而不用去管这辆汽车是怎么做出来的，以及这个汽车里面的具体实现。<br>2、Hibernate 换数据库只需换方言和驱动就可以。  </p>
<h4 id="抽象工厂模式">抽象工厂模式</h4><p>及在工厂模式的基础上，创建不同的工厂分别以对应的方式去完成相同的任务。用于扩展功能的时候添加<strong><em>不同的工厂</em></strong>即可。<br>1、QQ 换皮肤，一整套一起换。<br>2、生成不同操作系统的程序。  </p>
<h4 id="单例模式">单例模式</h4><p>使用getInstance()范式避免重复创建对象，在整个程序中只创建单个对象，常用于核心控制类，或存储全局变量的类中。例如安卓中的application类<br>1、一个党只能有一个主席。<br>2、Windows 是多进程多线程的，在操作一个文件的时候，就不可避免地出现多个进程或线程同时操作一个文件的现象，所以所有文件的处理必须通过唯一的实例来进行。<br>3、一些设备管理器常常设计为单例模式，比如一个电脑有两台打印机，在输出的时候就要处理不能两台打印机打印同一个文件。  </p>
<h4 id="建造者模式">建造者模式</h4><p>在一个类中包含各种不同的实现方法，例如：sql中的dao类提供了sql数据操作的所需方法。<br>1、肯德基套餐，肯德基就是个建造者，只需要点不同的套餐就会返回不同的组合。<br>与工厂模式对比：<br>工厂模式一个工厂提供对一个事件的一种实现，关注单个事件<br>建造者模式一个建造者返回对一个对象的不同组合实现，关注返回一种对象的组合  </p>
<h4 id="原型模式">原型模式</h4><p>原型模式就是对已有对象的复制，实现实现Cloneable接口，需要注意下在复制对象的时候就会涉及到深拷贝与浅拷贝。<br>深拷贝与浅拷贝问题中，会发生深拷贝的有java中的8中基本类型以及他们的封装类型，另外还有String类型。其余的都是浅拷贝。<br>具体查看<a href="http://cmsblogs.com/?p=367" target="_blank" rel="external">设计模式读书笔记—–原型模式</a>，个人认为本篇对原型模式的介绍很不错，详细了解还是要靠百度参考多位前辈的博文。<br>应用场景：<br> 1、资源优化场景。<br> 2、类初始化需要消化非常多的资源，这个资源包括数据、硬件资源等。<br> 3、性能和安全要求的场景。<br> 4、通过 new 产生一个对象需要非常繁琐的数据准备或访问权限，则可以使用原型模式。<br> 5、一个对象多个修改者的场景。<br> 6、一个对象需要提供给其他对象访问，而且各个调用者可能都需要修改其值时，可以考虑使用原型模式拷贝多个对象供调用者使用。<br> 7、在实际项目中，原型模式很少单独出现，一般是和工厂方法模式一起出现，通过 clone 的方法创建一个对象，然后由工厂方法提供给调用者。原型模式已经与 Java 融为浑然一体，大家可以随手拿来使用。  </p>
<h3 id="结构型模式">结构型模式</h3><p><img src="http://oeb33qix3.bkt.clouddn.com/public/16-11-20/47455872.jpg" alt="image">   </p>
<h4 id="适配器模式">适配器模式</h4><p>改变源的接口，以便于目标接口相容<br>1、类的适配器模式：当希望将一个类转换成满足另一个新接口的类时，可以使用类的适配器模式，创建一个新类，继承原有的类，实现新的接口即可。<br>2、对象的适配器模式：当希望将一个对象转换成满足另一个新接口的对象时，可以创建一个Wrapper类，持有原类的一个实例，在Wrapper类的方法中，调用实例的方法就行。<br>3、接口的适配器模式：当不希望实现一个接口中所有的方法时，可以创建一个抽象类Wrapper，实现所有方法，我们写别的类的时候，继承抽象类即可。  </p>
<h4 id="装饰模式">装饰模式</h4><p>装饰模式就是给一个对象增加一些新的功能，而且是动态的，要求装饰对象和被装饰对象实现同一个接口，装饰对象持有被装饰对象的实例，如切面编程在对原有对象进行包装盒修改时。  </p>
<h4 id="代理模式">代理模式</h4><p>代理模式就是多一个代理类出来，替原对象进行一些操作。  </p>
<ul>
<li>装饰模式和代理模式的差别是什么？<ul>
<li>装饰器模式关注于在一个对象上动态的添加方法</li>
<li>代理模式关注于控制对对象的访问。代理类（proxy class） 可以对它的客户 隐藏一个对象的具体信息。     </li>
<li>当使用代理模式的时候，我们常常在一个代理类中 <strong>创建一个对象</strong>的实例。</li>
<li>当使用装饰器模式的时候，我们通常的做法是将原始对象作<strong>为一个参数传给装饰者</strong>的构造器。  </li>
</ul>
</li>
</ul>
<h4 id="外观模式">外观模式</h4><p>外观模式就像是对几个对象之间的关系抽离到一个新类中管理，相当于包装组合，是被包装的类与类之间没有关系，达到解耦的目的。<br>如：计算机中的cpu、鼠标、键盘、内存条等部件之间会相互调用但是相互之间并没有直接连线，就是通过主板来将他们整合包装在一起，而每个部件都是相对独立没有关联。  </p>
<h4 id="桥接模式">桥接模式</h4><p>桥接模式，将抽象化与实现化解耦，使得二者可以独立变化，就是通过定义接口规范，各自可以采用不同的实现，但是要调用要遵循规范。<br>如：jdbc中连接数据库，只需要切换DriverManager，就能连接不同的数据库。各个数据库提供商也是根据java的jdbc规范来实现对应的方法。</p>
<h4 id="组合模式">组合模式</h4><p>将对象组合成树形结构以表示”部分-整体”的层次结构。组合模式使得用户对单个对象和组合对象的使用具有一致性。<br>例如在部门类中持有员工类列表。</p>
<h4 id="享元模式">享元模式</h4><p>享元模式的主要目的是实现对象的共享，即共享池，当系统中对象多的时候可以减少内存的开销，通常与工厂模式一起使用。</p>
<h4 id="过滤器模式">过滤器模式</h4><p>过滤器模式（Filter Pattern）或标准模式（Criteria Pattern）是一种设计模式，这种模式允许开发人员使用不同的标准来过滤一组对象，通过逻辑运算以解耦的方式把它们连接起来。这种类型的设计模式属于结构型模式，它结合多个标准来获得单一标准。<br>1、需要创建不同的过滤器（实现过滤接口）<br>2、组合不同的过滤器用于筛选对象<br>3、以解耦的方式关联符合标准的对象。  </p>
<h3 id="行为型模式">行为型模式</h3><h4 id="策略模式">策略模式</h4><p>策略模式定义了一系列算法，并将每个算法封装起来，使他们可以相互替换，且算法的变化不会影响到使用算法的客户。需要设计一个接口，为一系列实现类提供统一的方法，多个实现类实现该接口，设计一个抽象类（可有可无，属于辅助类），提供辅助函数  </p>
<ul>
<li>策略模式和工厂模式的异同<ul>
<li>从实现模式的类的关系图看结构十分相似：工厂模式，创建一个接口，提供对此接口的不同实现，工厂类决定生产产品的方式与结果；策略模式，创建一个接口，提供对此接口的不同实现，可以在运行时动态更改采用的策略；  </li>
<li>一个是行为型模式，一个是创建型模式；  </li>
<li>策略模式关注的是实现的路线不同（去上班，骑自行车去、走路去等方式的不同）；  </li>
<li>工厂模式关注的是不同结果（出去，去公司、去商场）。  </li>
</ul>
</li>
</ul>
<h4 id="模板方法模式">模板方法模式</h4><p>一个抽象类公开定义了执行它的方法的方式/模板。它的子类可以按需要重写方法实现，但调用将以抽象类中定义的方式进行。</p>
<h4 id="观察者模式">观察者模式</h4><p>当一个对象变化时，其它依赖该对象的对象都会收到通知，并且随着变化！对象之间是一种一对多的关系<br>被观察的对象有一个通知列表，当被观察的对象发生变化就会对所有的订阅者发送通知。</p>
<h4 id="迭代器模式">迭代器模式</h4><p>迭代器模式就是顺序访问聚集中的对象，一是需要遍历的对象，即聚集对象，二是迭代器对象，用于对聚集对象进行遍历访问。<br>就是指iterator与Collection。迭代器持有一个集合对象，并提供方法去操作集合类达到迭代的目的。  </p>
<h4 id="责任链模式">责任链模式</h4><p>为请求创建了一个接收者对象的链。这种模式给予请求的类型，对请求的发送者和接收者进行解耦。这种类型的设计模式属于行为型模式。通俗的降就是层级处理事件，比如请假、员工向公司领导请假，根据天数的不同需要不同级别的领导来处理决定，事件的处理责任就形成了链式的流动关系。<br>在我们程序中也有用的到，比如在java web中就有事件多级截形成责任链、 在android中对Touch事件的分发就是一个责任链的过程  </p>
<h4 id="命令模式">命令模式</h4><p>命令、老板、员工三者相互解耦，任何一方都不用去依赖其他人，只需要做好自己的事儿就行。<br>命令模式顾名思义、就是指挥者发送指令，操作者去执行。<br>在我们的代码中的引用十分广泛、如：struts中就通过url对应方法与页面、android中handler中的message指令、等</p>
<h4 id="备忘录模式">备忘录模式</h4><p>备忘录模式就是一种备份的机制、在程序运行是对一些数据进行备份，在需要的时候可以回复。<br>如在android中的Bundle savedInstanceState、用于存储acitvity的运行状态。</p>
<h4 id="状态模式">状态模式</h4><p>顾名思义、就是设置状态值、用于表示对象的当前状态。<br>如，用户的状态、在线、离线、无效、隐身。</p>
<h4 id="空对象模式">空对象模式</h4><p>在空对象模式（Null Object Pattern）中，一个空对象取代 NULL 对象实例的检查。Null 对象不是检查空值，而是反应一个不做任何动作的关系。这样的 Null 对象也可以在数据不可用的时候提供默认的行为。<br>空对象模式，个人觉得应该是叫默认值模式，就是为了避免程序出错而给异常数据一个默认对象。  </p>
<h4 id="访问者模式">访问者模式</h4><p>访问者模式把数据结构和作用于结构上的操作解耦合，使得操作集合可相对自由地演化。访问者模式适用于数据结构相对稳定算法又易变化的系统。因为访问者模式使得算法操作增加变得容易。若系统数据结构对象易于变化，经常有新的数据对象增加进来，则不适合使用访问者模式。访问者模式的优点是增加操作很容易，因为增加操作意味着增加新的访问者。访问者模式将有关行为集中到一个访问者对象中，其改变不影响系统数据结构。其缺点就是增加新的数据结构很困难。—— From 百科<br>适用于先对稳定的系统或数据结构中、将算法及操作分离到访问者中去执行。<br>被访问者需要开方接口给访问者，而当并向访问者提供一个被访问者的实例这样访问者就可以调用被访问者的数据了。</p>
<pre><code><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Visitor</span> </span>{
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(Subject sub)</span></span>;
}
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyVisitor</span> <span class="keyword">implements</span> <span class="title">Visitor</span> </span>{
    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(Subject sub)</span> </span>{
        System.out.println(<span class="string">"visit the subject："</span>+sub.getSubject());
    }
}
<span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Subject</span> </span>{
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor visitor)</span></span>;
    <span class="function"><span class="keyword">public</span> String <span class="title">getSubject</span><span class="params">()</span></span>;
}
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MySubject</span> <span class="keyword">implements</span> <span class="title">Subject</span> </span>{
    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor visitor)</span> </span>{<span class="comment">//被访问者提供接口，接入访问者</span>
        visitor.visit(<span class="keyword">this</span>);<span class="comment">//访问者获得宿主的一个实例，之后就能得到宿主的所有数据及操作。</span>
    }
    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">public</span> String <span class="title">getSubject</span><span class="params">()</span> </span>{
        <span class="keyword">return</span> <span class="string">"love"</span>;
    }
}
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>{
    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{
        Visitor visitor = <span class="keyword">new</span> MyVisitor();
        Subject sub = <span class="keyword">new</span> MySubject();
        sub.accept(visitor);    
    }
}
</code></pre><p>摘自：<a href="http://blog.csdn.net/zhangerqing/article/details/8245537" target="_blank" rel="external">Java之美[从菜鸟到高手演变]之设计模式四</a></p>
<h4 id="中介者模式">中介者模式</h4><p>为了解耦将多个关联的对象的关系放到中介者中去维护。<br>这样做的好处是，原本多对象需要互相持有一个对象来维持他们的关系，现在只需要将所有对象持有一个中介者，而中介者则持有这些关联的对象。</p>
<h4 id="解释器模式">解释器模式</h4><p>解释器就是针对一个指令进行解释执行的。具体项目应用中使用较少。解释器需要根据上下文进行解析。</p>
<pre><code><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Expression</span> </span>{
    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">interpret</span><span class="params">(Context context)</span></span>;
}

<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Plus</span> <span class="keyword">implements</span> <span class="title">Expression</span> </span>{
    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">interpret</span><span class="params">(Context context)</span> </span>{
        <span class="keyword">return</span> context.getNum1()+context.getNum2();
    }
}

<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Minus</span> <span class="keyword">implements</span> <span class="title">Expression</span> </span>{
    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">interpret</span><span class="params">(Context context)</span> </span>{
        <span class="keyword">return</span> context.getNum1()-context.getNum2();
    }
}

<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Context</span> </span>{
    <span class="keyword">private</span> <span class="keyword">int</span> num1;
    <span class="keyword">private</span> <span class="keyword">int</span> num2;
    <span class="function"><span class="keyword">public</span> <span class="title">Context</span><span class="params">(<span class="keyword">int</span> num1, <span class="keyword">int</span> num2)</span> </span>{
        <span class="keyword">this</span>.num1 = num1;
        <span class="keyword">this</span>.num2 = num2;
    }
    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNum1</span><span class="params">()</span> </span>{
        <span class="keyword">return</span> num1;
    }
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNum1</span><span class="params">(<span class="keyword">int</span> num1)</span> </span>{
        <span class="keyword">this</span>.num1 = num1;
    }
    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNum2</span><span class="params">()</span> </span>{
        <span class="keyword">return</span> num2;
    }
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNum2</span><span class="params">(<span class="keyword">int</span> num2)</span> </span>{
        <span class="keyword">this</span>.num2 = num2;
    }
}

<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>{
    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{
        <span class="comment">// 计算9+2-8的值</span>
        <span class="keyword">int</span> result = <span class="keyword">new</span> Minus().interpret((<span class="keyword">new</span> Context(<span class="keyword">new</span> Plus()
                .interpret(<span class="keyword">new</span> Context(<span class="number">9</span>, <span class="number">2</span>)), <span class="number">8</span>)));
        System.out.println(result);
    }
}
</code></pre><h3 id="分层模式">分层模式</h3><h4 id="MVC模式">MVC模式</h4><p>MVC 模式代表 Model-View-Controller（模型-视图-控制器） 模式。这种模式用于应用程序的分层开发。  </p>
<ul>
<li>Model（模型） - 模型代表一个存取数据的对象或 JAVA POJO。它也可以带有逻辑，在数据变化时更新控制器。  </li>
<li>View（视图） - 视图代表模型包含的数据的可视化。  </li>
<li>Controller（控制器） - 控制器作用于模型和视图上。它控制数据流向模型对象，并在数据变化时更新视图。它使视图与模型分离开。  </li>
</ul>
<h4 id="业务代表模式">业务代表模式</h4><p>业务代表模式（Business Delegate Pattern）用于对表示层和业务层解耦。它基本上是用来减少通信或对表示层代码中的业务层代码的远程查询功能。在业务层中我们有以下实体。</p>
<ul>
<li>客户端（Client） - 表示层代码可以是 JSP、servlet 或 UI java 代码。</li>
<li>业务代表（Business Delegate） - 一个为客户端实体提供的入口类，它提供了对业务服务方法的访问。</li>
<li>查询服务（LookUp Service） - 查找服务对象负责获取相关的业务实现，并提供业务对象对业务代表对象的访问。</li>
<li>业务服务（Business Service） - 业务服务接口。实现了该业务服务的实体类，提供了实际的业务实现逻辑。</li>
</ul>
<h4 id="组合实体模式">组合实体模式</h4><p>组合实体模式（Composite Entity Pattern）用在 EJB 持久化机制中。一个组合实体是一个 EJB 实体 bean，代表了对象的图解。当更新一个组合实体时，内部依赖对象 beans 会自动更新，因为它们是由 EJB 实体 bean 管理的。以下是组合实体 bean 的参与者。</p>
<ul>
<li>组合实体（Composite Entity） - 它是主要的实体 bean。它可以是粗粒的，或者可以包含一个粗粒度对象，用于持续生命周期。</li>
<li>粗粒度对象（Coarse-Grained Object） - 该对象包含以来对象。它有自己的生命周期，也能管理依赖对象的生命周期。</li>
<li>依赖对象（Dependent Object） - 依赖对象是一个持续生命周期依赖于粗粒度对象的对象。</li>
<li>策略（Strategies） - 策略表示如何实现组合实体。</li>
</ul>
<h4 id="数据访问对象模式">数据访问对象模式</h4><p>数据访问对象模式（Data Access Object Pattern）或 DAO 模式用于把低级的数据访问 API 或操作从高级的业务服务中分离出来。以下是数据访问对象模式的参与者。</p>
<ul>
<li>数据访问对象接口（Data Access Object Interface） - 该接口定义了在一个模型对象上要执行的标准操作。</li>
<li>数据访问对象实体类（Data Access Object concrete class） - 该类实现了上述的接口。该类负责从数据源获取数据，数据源可以是数据库，也可以是 xml，或者是其他的存储机制。</li>
<li>模型对象/数值对象（Model Object/Value Object） - 该对象是简单的 POJO，包含了 get/set 方法来存储通过使用 DAO 类检索到的数据。</li>
</ul>
<h4 id="前端控制器模式">前端控制器模式</h4><p>前端控制器模式（Front Controller Pattern）是用来提供一个集中的请求处理机制，所有的请求都将由一个单一的处理程序处理。该处理程序可以做认证/授权/记录日志，或者跟踪请求，然后把请求传给相应的处理程序。以下是这种设计模式的实体。</p>
<ul>
<li>前端控制器（Front Controller） - 处理应用程序所有类型请求的单个处理程序，应用程序可以是基于 web 的应用程序，也可以是基于桌面的应用程序。</li>
<li>调度器（Dispatcher） - 前端控制器可能使用一个调度器对象来调度请求到相应的具体处理程序。</li>
<li>视图（View） - 视图是为请求而创建的对象。</li>
</ul>
<h4 id="拦截过滤器模式">拦截过滤器模式</h4><p>拦截过滤器模式（Intercepting Filter Pattern）用于对应用程序的请求或响应做一些预处理/后处理。定义过滤器，并在把请求传给实际目标应用程序之前应用在请求上。过滤器可以做认证/授权/记录日志，或者跟踪请求，然后把请求传给相应的处理程序。以下是这种设计模式的实体。</p>
<ul>
<li>过滤器（Filter） - 过滤器在请求处理程序执行请求之前或之后，执行某些任务。</li>
<li>过滤器链（Filter Chain） - 过滤器链带有多个过滤器，并在 Target 上按照定义的顺序执行这些过滤器。</li>
<li>Target - Target 对象是请求处理程序。</li>
<li>过滤管理器（Filter Manager） - 过滤管理器管理过滤器和过滤器链。</li>
<li>客户端（Client） - Client 是向 Target 对象发送请求的对象。</li>
</ul>
<h4 id="服务定位器模式">服务定位器模式</h4><p>服务定位器模式（Service Locator Pattern）用在我们想使用 JNDI 查询定位各种服务的时候。考虑到为某个服务查找 JNDI 的代价很高，服务定位器模式充分利用了缓存技术。在首次请求某个服务时，服务定位器在 JNDI 中查找服务，并缓存该服务对象。当再次请求相同的服务时，服务定位器会在它的缓存中查找，这样可以在很大程度上提高应用程序的性能。以下是这种设计模式的实体。</p>
<ul>
<li>服务（Service） - 实际处理请求的服务。对这种服务的引用可以在 JNDI 服务器中查找到。</li>
<li>Context / 初始的 Context - JNDI Context 带有对要查找的服务的引用。</li>
<li>服务定位器（Service Locator） - 服务定位器是通过 JNDI 查找和缓存服务来获取服务的单点接触。</li>
<li>缓存（Cache） - 缓存存储服务的引用，以便复用它们。</li>
<li>客户端（Client） - Client 是通过 ServiceLocator 调用服务的对象。</li>
</ul>
<h4 id="传输对象模式">传输对象模式</h4><p>传输对象模式（Transfer Object Pattern）用于从客户端向服务器一次性传递带有多个属性的数据。传输对象也被称为数值对象。传输对象是一个具有 getter/setter 方法的简单的 POJO 类，它是可序列化的，所以它可以通过网络传输。它没有任何的行为。服务器端的业务类通常从数据库读取数据，然后填充 POJO，并把它发送到客户端或按值传递它。对于客户端，传输对象是只读的。客户端可以创建自己的传输对象，并把它传递给服务器，以便一次性更新数据库中的数值。以下是这种设计模式的实体。</p>
<ul>
<li>业务对象（Business Object） - 为传输对象填充数据的业务服务。</li>
<li>传输对象（Transfer Object） - 简单的 POJO，只有设置/获取属性的方法。</li>
<li>客户端（Client） - 客户端可以发送请求或者发送传输对象到业务对象。</li>
</ul>

        
      </div>
      <footer>
        
          
  
  <div class="categories">
    <a href="/categories/设计模式/">设计模式</a>
  </div>

          
  
  <div class="tags">
    <a href="/tags/设计模式/">设计模式</a>
  </div>

          <div class="share">
  

    
      <div class="bdsharebuttonbox"><a href="#" class="bds_twi" data-cmd="twi" title="Share to Twitter"></a><a href="#" class="bds_fbook" data-cmd="fbook" title="Share to Facebook"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_weixin" data-cmd="weixin" title="Share to Wechat"></a><a href="#" class="bds_mail" data-cmd="mail" title="分享到邮件分享"></a><a href="#" class="bds_copy" data-cmd="copy" title="分享到复制网址"></a><a href="#" class="bds_sqq" data-cmd="sqq" title="Share to QQ Friends"></a><a href="#" class="bds_linkedin" data-cmd="linkedin" title="Share to linkedin"></a><a href="#" class="bds_youdao" data-cmd="youdao" title="分享到有道云笔记"></a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a><a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a></div>
	  <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","bdysc","tqq","bdxc","kaixin001","tqf","tieba","douban","tsohu","bdhome","sqq","thx","qq","ibaidu","taobao","hi","baidu","sohu","t163","qy","meilishuo","mogujie","diandian","huaban","leho","share189","duitang","hx","tfh","fx","youdao","sdo","qingbiji","ifeng","people","xinhua","ff","mail","kanshou","isohu","yaolan","wealink","xg","ty","iguba","fbook","twi","deli","s51","s139","linkedin","copy","print"],"bdPic":"","bdStyle":"1","bdSize":"24"},"share":{},"image":{"viewList":["twi","fbook","tsina","weixin","mail","copy","sqq","linkedin","youdao","qzone","renren","douban"],"viewText":"Share to","viewSize":"24"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
    

    

    
  
</div>
          

        
        <div class="clearfix"></div>
      </footer>
    </div>
</article>



<nav id="pagination" >
    
    
    <a href="/2017/02/19/使用selenium+python自动化操作浏览器/" class="alignright next" >下一页</a>
    
    <div class="clearfix"></div>
</nav>

<section id="comment">
  <h2 class="title">留言</h2>

  

  <!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="post-学习设计模式" data-title="设计模式" data-url="http://www.chenguangsong.online/2017/02/19/学习设计模式/"></div>
  <!-- 多说评论框 end -->
  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
  <script type="text/javascript">
  var duoshuoQuery = {short_name:"qq1055038041"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
  </script>
  <!-- 多说公共JS代码 end -->

  
</section>

</div></div>
    <aside id="sidebar" class="alignright"><div class="padding">
	
	  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" autocomplete="off" name="q" maxlength="20" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:www.chenguangsong.online">
  </form>
</div>
	
	  
<div class="widget category">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/Hibernate/">Hibernate</a><small>6</small></li>
  
    <li><a href="/categories/Java/">Java</a><small>1</small></li>
  
    <li><a href="/categories/Spring/">Spring</a><small>4</small></li>
  
    <li><a href="/categories/android/">android</a><small>11</small></li>
  
    <li><a href="/categories/android源码/">android源码</a><small>2</small></li>
  
    <li><a href="/categories/git/">git</a><small>1</small></li>
  
    <li><a href="/categories/python/">python</a><small>1</small></li>
  
    <li><a href="/categories/web/">web</a><small>2</small></li>
  
    <li><a href="/categories/杂谈/">杂谈</a><small>1</small></li>
  
    <li><a href="/categories/正则表达式/">正则表达式</a><small>1</small></li>
  
    <li><a href="/categories/设计模式/">设计模式</a><small>1</small></li>
  
  </ul>
</div>

	
	  <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="yes" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=1&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=3217883255&verifier=5c6bff53&dpc=1"></iframe>
	
	  
<div class="widget recent-post">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2017/02/19/学习设计模式/">设计模式</a>
      </li>
    
      <li>
        <a href="/2017/02/19/使用selenium+python自动化操作浏览器/">使用selenium+python自动化操作浏览器</a>
      </li>
    
      <li>
        <a href="/2016/11/02/Android学习笔记（11）——RecyclerView/">Android学习笔记（11）——RecyclerView</a>
      </li>
    
      <li>
        <a href="/2016/08/14/Android源码学习——Android L系统设置中的搜索功能/">Android源码学习——Android L中系统设置的搜索功能</a>
      </li>
    
      <li>
        <a href="/2016/08/12/Java学习笔记（1）——解析json/">Java学习笔记(1)——解析json</a>
      </li>
    
  </ul>
</div>

	
	  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/tags/Hibernate/" style="font-size: 17.5px;">Hibernate</a><a href="/tags/Json/" style="font-size: 10px;">Json</a><a href="/tags/Spring/" style="font-size: 15px;">Spring</a><a href="/tags/android/" style="font-size: 20px;">android</a><a href="/tags/android源码/" style="font-size: 12.5px;">android源码</a><a href="/tags/bootstrap/" style="font-size: 12.5px;">bootstrap</a><a href="/tags/first/" style="font-size: 10px;">first</a><a href="/tags/git/" style="font-size: 10px;">git</a><a href="/tags/selenium/" style="font-size: 10px;">selenium</a><a href="/tags/正则表达式/" style="font-size: 10px;">正则表达式</a><a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a>
  </div>
</div>

	
	  <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="yes" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=1&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=3217883255&verifier=5c6bff53&dpc=1"></iframe>
	
	  <div class="widget category">
	<h3 class="title">Link</h3>
	<ul class="entry">
		<li><a href="http://ykzhai.top/" title="cqjn Blog">cqjn's Blog</a></li>
	</ul>
</div>
	
</div></aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="padding">
	<div class="alignleft">
	  
	  Copyright&copy;2015-2017 <a href="http://www.chenguangsong.online">Jxust_CGS</a>
	  
	  | Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
	  and Theme by <a href="https://github.com/hijiangtao/dark-tech/" target="_blank">Dark-Tech</a> | <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1000257487'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s96.cnzz.com/z_stat.php%3Fid%3D1000257487' type='text/javascript'%3E%3C/script%3E"));</script>
	</div>

	<div class="alignright">
		
		
			<a href="https://github.com/https://github.com/jxust-CGS" target="_blank" title="Jxust_CGS Github"><i class="fa fa-github-square"></i></a>	
		
		
		
			<a href="http://www.weibo.com/http://weibo.com/jxustCGS" target="_blank" title="Jxust_CGS Weibo"><i class="fa fa-weibo"></i></a>	
		
		
		
		
			<a href="atom.xml" target="_blank" title="Jxust_CGS RSS"><i class="fa fa-rss-square"></i></a>
		
	</div>

	<div class="clearfix"></div>
</div>

<div class="scroll-top"><i class="fa fa-arrow-circle-up"></i></div></footer>
  

<script type="text/javascript">
var duoshuoQuery = {short_name:"qq1055038041"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>



<script src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/3.0.4/jquery.imagesloaded.js"></script>
<script src="/js/gallery.js"></script>



<script type="text/javascript">
$(window).scroll(function() {

    if($(this).scrollTop() > 400) {
        $('.scroll-top').fadeIn(200);
    } else {
        $('.scroll-top').fadeOut(200);
    }
});

$('.scroll-top').bind('click', function(e) {
    e.preventDefault();
    $('body,html').animate({scrollTop:0},200);
});
</script>

</body>
</html>
